function XH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mw={exports:{}},Zh={};var lE;function QH(){if(lE)return Zh;lE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Zh.Fragment=t,Zh.jsx=n,Zh.jsxs=n,Zh}var cE;function JH(){return cE||(cE=1,mw.exports=QH()),mw.exports}var s=JH(),pw={exports:{}},Xh={},gw={exports:{}},vw={};var uE;function eq(){return uE||(uE=1,(function(e){function t(K,Q){var H=K.length;K.push(Q);e:for(;0<H;){var X=H-1>>>1,$=K[X];if(0<i($,Q))K[X]=Q,K[H]=$,H=X;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Q=K[0],H=K.pop();if(H!==Q){K[0]=H;e:for(var X=0,$=K.length,G=$>>>1;X<G;){var Ne=2*(X+1)-1,de=K[Ne],q=Ne+1,ae=K[q];if(0>i(de,H))q<$&&0>i(ae,de)?(K[X]=ae,K[q]=H,X=q):(K[X]=de,K[Ne]=H,X=Ne);else if(q<$&&0>i(ae,H))K[X]=ae,K[q]=H,X=q;else break e}}return Q}function i(K,Q){var H=K.sortIndex-Q.sortIndex;return H!==0?H:K.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],m=[],p=1,g=null,b=3,_=!1,N=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var Q=n(m);Q!==null;){if(Q.callback===null)r(m);else if(Q.startTime<=K)r(m),Q.sortIndex=Q.expirationTime,t(h,Q);else break;Q=n(m)}}function R(K){if(S=!1,k(K),!N)if(n(h)!==null)N=!0,I||(I=!0,Z());else{var Q=n(m);Q!==null&&fe(R,Q.startTime-K)}}var I=!1,D=-1,F=5,Y=-1;function ne(){return T?!0:!(e.unstable_now()-Y<F)}function W(){if(T=!1,I){var K=e.unstable_now();Y=K;var Q=!0;try{e:{N=!1,S&&(S=!1,M(D),D=-1),_=!0;var H=b;try{t:{for(k(K),g=n(h);g!==null&&!(g.expirationTime>K&&ne());){var X=g.callback;if(typeof X=="function"){g.callback=null,b=g.priorityLevel;var $=X(g.expirationTime<=K);if(K=e.unstable_now(),typeof $=="function"){g.callback=$,k(K),Q=!0;break t}g===n(h)&&r(h),k(K)}else r(h);g=n(h)}if(g!==null)Q=!0;else{var G=n(m);G!==null&&fe(R,G.startTime-K),Q=!1}}break e}finally{g=null,b=H,_=!1}Q=void 0}}finally{Q?Z():I=!1}}}var Z;if(typeof E=="function")Z=function(){E(W)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ce=re.port2;re.port1.onmessage=W,Z=function(){ce.postMessage(null)}}else Z=function(){C(W,0)};function fe(K,Q){D=C(function(){K(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var H=b;b=Q;try{return K()}finally{b=H}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(K,Q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var H=b;b=K;try{return Q()}finally{b=H}},e.unstable_scheduleCallback=function(K,Q,H){var X=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,K={id:p++,callback:Q,priorityLevel:K,startTime:H,expirationTime:$,sortIndex:-1},H>X?(K.sortIndex=H,t(m,K),n(h)===null&&K===n(m)&&(S?(M(D),D=-1):S=!0,fe(R,H-X))):(K.sortIndex=$,t(h,K),N||_||(N=!0,I||(I=!0,Z()))),K},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(K){var Q=b;return function(){var H=b;b=Q;try{return K.apply(this,arguments)}finally{b=H}}}})(vw)),vw}var dE;function tq(){return dE||(dE=1,gw.exports=eq()),gw.exports}var yw={exports:{}},tn={};var fE;function nq(){if(fE)return tn;fE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function T($,G,Ne){this.props=$,this.context=G,this.refs=S,this.updater=Ne||_}T.prototype.isReactComponent={},T.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},T.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function C(){}C.prototype=T.prototype;function M($,G,Ne){this.props=$,this.context=G,this.refs=S,this.updater=Ne||_}var E=M.prototype=new C;E.constructor=M,N(E,T.prototype),E.isPureReactComponent=!0;var k=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function D($,G,Ne,de,q,ae){return Ne=ae.ref,{$$typeof:e,type:$,key:G,ref:Ne!==void 0?Ne:null,props:ae}}function F($,G){return D($.type,G,void 0,void 0,void 0,$.props)}function Y($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ne($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ne){return G[Ne]})}var W=/\/+/g;function Z($,G){return typeof $=="object"&&$!==null&&$.key!=null?ne(""+$.key):G.toString(36)}function re(){}function ce($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(re,re):($.status="pending",$.then(function(G){$.status==="pending"&&($.status="fulfilled",$.value=G)},function(G){$.status==="pending"&&($.status="rejected",$.reason=G)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function fe($,G,Ne,de,q){var ae=typeof $;(ae==="undefined"||ae==="boolean")&&($=null);var be=!1;if($===null)be=!0;else switch(ae){case"bigint":case"string":case"number":be=!0;break;case"object":switch($.$$typeof){case e:case t:be=!0;break;case p:return be=$._init,fe(be($._payload),G,Ne,de,q)}}if(be)return q=q($),be=de===""?"."+Z($,0):de,k(q)?(Ne="",be!=null&&(Ne=be.replace(W,"$&/")+"/"),fe(q,G,Ne,"",function(ie){return ie})):q!=null&&(Y(q)&&(q=F(q,Ne+(q.key==null||$&&$.key===q.key?"":(""+q.key).replace(W,"$&/")+"/")+be)),G.push(q)),1;be=0;var Ae=de===""?".":de+":";if(k($))for(var ke=0;ke<$.length;ke++)de=$[ke],ae=Ae+Z(de,ke),be+=fe(de,G,Ne,ae,q);else if(ke=b($),typeof ke=="function")for($=ke.call($),ke=0;!(de=$.next()).done;)de=de.value,ae=Ae+Z(de,ke++),be+=fe(de,G,Ne,ae,q);else if(ae==="object"){if(typeof $.then=="function")return fe(ce($),G,Ne,de,q);throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return be}function K($,G,Ne){if($==null)return $;var de=[],q=0;return fe($,de,"","",function(ae){return G.call(Ne,ae,q++)}),de}function Q($){if($._status===-1){var G=$._result;G=G(),G.then(function(Ne){($._status===0||$._status===-1)&&($._status=1,$._result=Ne)},function(Ne){($._status===0||$._status===-1)&&($._status=2,$._result=Ne)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var H=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function X(){}return tn.Children={map:K,forEach:function($,G,Ne){K($,function(){G.apply(this,arguments)},Ne)},count:function($){var G=0;return K($,function(){G++}),G},toArray:function($){return K($,function(G){return G})||[]},only:function($){if(!Y($))throw Error("React.Children.only expected to receive a single React element child.");return $}},tn.Component=T,tn.Fragment=n,tn.Profiler=i,tn.PureComponent=M,tn.StrictMode=r,tn.Suspense=h,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,tn.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},tn.cache=function($){return function(){return $.apply(null,arguments)}},tn.cloneElement=function($,G,Ne){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var de=N({},$.props),q=$.key,ae=void 0;if(G!=null)for(be in G.ref!==void 0&&(ae=void 0),G.key!==void 0&&(q=""+G.key),G)!I.call(G,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&G.ref===void 0||(de[be]=G[be]);var be=arguments.length-2;if(be===1)de.children=Ne;else if(1<be){for(var Ae=Array(be),ke=0;ke<be;ke++)Ae[ke]=arguments[ke+2];de.children=Ae}return D($.type,q,void 0,void 0,ae,de)},tn.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},tn.createElement=function($,G,Ne){var de,q={},ae=null;if(G!=null)for(de in G.key!==void 0&&(ae=""+G.key),G)I.call(G,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(q[de]=G[de]);var be=arguments.length-2;if(be===1)q.children=Ne;else if(1<be){for(var Ae=Array(be),ke=0;ke<be;ke++)Ae[ke]=arguments[ke+2];q.children=Ae}if($&&$.defaultProps)for(de in be=$.defaultProps,be)q[de]===void 0&&(q[de]=be[de]);return D($,ae,void 0,void 0,null,q)},tn.createRef=function(){return{current:null}},tn.forwardRef=function($){return{$$typeof:u,render:$}},tn.isValidElement=Y,tn.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:Q}},tn.memo=function($,G){return{$$typeof:m,type:$,compare:G===void 0?null:G}},tn.startTransition=function($){var G=R.T,Ne={};R.T=Ne;try{var de=$(),q=R.S;q!==null&&q(Ne,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(X,H)}catch(ae){H(ae)}finally{R.T=G}},tn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},tn.use=function($){return R.H.use($)},tn.useActionState=function($,G,Ne){return R.H.useActionState($,G,Ne)},tn.useCallback=function($,G){return R.H.useCallback($,G)},tn.useContext=function($){return R.H.useContext($)},tn.useDebugValue=function(){},tn.useDeferredValue=function($,G){return R.H.useDeferredValue($,G)},tn.useEffect=function($,G,Ne){var de=R.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect($,G)},tn.useId=function(){return R.H.useId()},tn.useImperativeHandle=function($,G,Ne){return R.H.useImperativeHandle($,G,Ne)},tn.useInsertionEffect=function($,G){return R.H.useInsertionEffect($,G)},tn.useLayoutEffect=function($,G){return R.H.useLayoutEffect($,G)},tn.useMemo=function($,G){return R.H.useMemo($,G)},tn.useOptimistic=function($,G){return R.H.useOptimistic($,G)},tn.useReducer=function($,G,Ne){return R.H.useReducer($,G,Ne)},tn.useRef=function($){return R.H.useRef($)},tn.useState=function($){return R.H.useState($)},tn.useSyncExternalStore=function($,G,Ne){return R.H.useSyncExternalStore($,G,Ne)},tn.useTransition=function(){return R.H.useTransition()},tn.version="19.1.0",tn}var hE;function Lf(){return hE||(hE=1,yw.exports=nq()),yw.exports}var xw={exports:{}},Zi={};var mE;function rq(){if(mE)return Zi;mE=1;var e=Lf();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:m,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zi.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,p)},Zi.flushSync=function(h){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=m,r.p=p,r.d.f()}},Zi.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},Zi.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Zi.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zi.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},Zi.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zi.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},Zi.requestFormReset=function(h){r.d.r(h)},Zi.unstable_batchedUpdates=function(h,m){return h(m)},Zi.useFormState=function(h,m,p){return l.H.useFormState(h,m,p)},Zi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zi.version="19.1.0",Zi}var pE;function e4(){if(pE)return xw.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xw.exports=rq(),xw.exports}var gE;function iq(){if(gE)return Xh;gE=1;var e=tq(),t=Lf(),n=e4();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(r(188))}function h(a){var c=a.alternate;if(!c){if(c=o(a),c===null)throw Error(r(188));return c!==a?null:a}for(var f=a,x=c;;){var j=f.return;if(j===null)break;var P=j.alternate;if(P===null){if(x=j.return,x!==null){f=x;continue}break}if(j.child===P.child){for(P=j.child;P;){if(P===f)return u(j),a;if(P===x)return u(j),c;P=P.sibling}throw Error(r(188))}if(f.return!==x.return)f=j,x=P;else{for(var z=!1,U=j.child;U;){if(U===f){z=!0,f=j,x=P;break}if(U===x){z=!0,x=j,f=P;break}U=U.sibling}if(!z){for(U=P.child;U;){if(U===f){z=!0,f=P,x=j;break}if(U===x){z=!0,x=P,f=j;break}U=U.sibling}if(!z)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:c}function m(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=m(a),c!==null)return c;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var re=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===re?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case Y:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case E:return(a.displayName||"Context")+".Provider";case M:return(a._context.displayName||"Context")+".Consumer";case k:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return c=a.displayName||null,c!==null?c:ce(a.type)||"Memo";case F:c=a._payload,a=a._init;try{return ce(a(c))}catch{}}return null}var fe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},X=[],$=-1;function G(a){return{current:a}}function Ne(a){0>$||(a.current=X[$],X[$]=null,$--)}function de(a,c){$++,X[$]=a.current,a.current=c}var q=G(null),ae=G(null),be=G(null),Ae=G(null);function ke(a,c){switch(de(be,c),de(ae,a),de(q,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?IA(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=IA(c),a=LA(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ne(q),de(q,a)}function ie(){Ne(q),Ne(ae),Ne(be)}function ge(a){a.memoizedState!==null&&de(Ae,a);var c=q.current,f=LA(c,a.type);c!==f&&(de(ae,a),de(q,f))}function Me(a){ae.current===a&&(Ne(q),Ne(ae)),Ae.current===a&&(Ne(Ae),qh._currentValue=H)}var ve=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,vt=e.unstable_shouldYield,Rt=e.unstable_requestPaint,Wt=e.unstable_now,gn=e.unstable_getCurrentPriorityLevel,Nn=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,he=e.unstable_LowPriority,Be=e.unstable_IdlePriority,ot=e.log,Zt=e.unstable_setDisableYieldValue,An=null,tt=null;function Jn(a){if(typeof ot=="function"&&Zt(a),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(An,a)}catch{}}var $t=Math.clz32?Math.clz32:gi,Or=Math.log,Qt=Math.LN2;function gi(a){return a>>>=0,a===0?32:31-(Or(a)/Qt|0)|0}var Rr=256,Dr=4194304;function Ir(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Mi(a,c,f){var x=a.pendingLanes;if(x===0)return 0;var j=0,P=a.suspendedLanes,z=a.pingedLanes;a=a.warmLanes;var U=x&134217727;return U!==0?(x=U&~P,x!==0?j=Ir(x):(z&=U,z!==0?j=Ir(z):f||(f=U&~a,f!==0&&(j=Ir(f))))):(U=x&~P,U!==0?j=Ir(U):z!==0?j=Ir(z):f||(f=x&~a,f!==0&&(j=Ir(f)))),j===0?0:c!==0&&c!==j&&(c&P)===0&&(P=j&-j,f=c&-c,P>=f||P===32&&(f&4194048)!==0)?c:j}function br(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function wa(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(){var a=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),a}function Sa(){var a=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),a}function sa(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function ki(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _a(a,c,f,x,j,P){var z=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var U=a.entanglements,ee=a.expirationTimes,xe=a.hiddenUpdates;for(f=z&~f;0<f;){var Ie=31-$t(f),ze=1<<Ie;U[Ie]=0,ee[Ie]=-1;var _e=xe[Ie];if(_e!==null)for(xe[Ie]=null,Ie=0;Ie<_e.length;Ie++){var je=_e[Ie];je!==null&&(je.lane&=-536870913)}f&=~ze}x!==0&&Mt(a,x,0),P!==0&&j===0&&a.tag!==0&&(a.suspendedLanes|=P&~(z&~c))}function Mt(a,c,f){a.pendingLanes|=c,a.suspendedLanes&=~c;var x=31-$t(c);a.entangledLanes|=c,a.entanglements[x]=a.entanglements[x]|1073741824|f&4194090}function kn(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var x=31-$t(f),j=1<<x;j&c|a[x]&c&&(a[x]|=c),f&=~j}}function Xt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ur(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Yt(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:nE(a.type))}function On(a,c){var f=Q.p;try{return Q.p=a,c()}finally{Q.p=f}}var Sn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Sn,Dt="__reactProps$"+Sn,Gn="__reactContainer$"+Sn,or="__reactEvents$"+Sn,ft="__reactListeners$"+Sn,qi="__reactHandles$"+Sn,Ls="__reactResources$"+Sn,vi="__reactMarker$"+Sn;function ja(a){delete a[mt],delete a[Dt],delete a[or],delete a[ft],delete a[qi]}function ii(a){var c=a[mt];if(c)return c;for(var f=a.parentNode;f;){if(c=f[Gn]||f[mt]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=BA(a);a!==null;){if(f=a[mt])return f;a=BA(a)}return c}a=f,f=a.parentNode}return null}function Sr(a){if(a=a[mt]||a[Gn]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function yi(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function oa(a){var c=a[Ls];return c||(c=a[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Yn(a){a[vi]=!0}var rn=new Set,dr={};function un(a,c){fr(a,c),fr(a+"Capture",c)}function fr(a,c){for(dr[a]=c,a=0;a<c.length;a++)rn.add(c[a])}var Rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_n={},sn={};function kt(a){return ve.call(sn,a)?!0:ve.call(_n,a)?!1:Rn.test(a)?sn[a]=!0:(_n[a]=!0,!1)}function hr(a,c,f){if(kt(c))if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+f)}}function Dn(a,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+f)}}function mr(a,c,f,x){if(x===null)a.removeAttribute(f);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(c,f,""+x)}}var Na,Ua;function Oi(a){if(Na===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Na=c&&c[1]||"",Ua=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+a+Ua}var Hr=!1;function V(a,c){if(!a||Hr)return"";Hr=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(je){var _e=je}Reflect.construct(a,[],ze)}else{try{ze.call()}catch(je){_e=je}a.call(ze.prototype)}}else{try{throw Error()}catch(je){_e=je}(ze=a())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(je){if(je&&_e&&typeof je.stack=="string")return[je.stack,_e.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=x.DetermineComponentFrameRoot(),z=P[0],U=P[1];if(z&&U){var ee=z.split(`
`),xe=U.split(`
`);for(j=x=0;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;for(;j<xe.length&&!xe[j].includes("DetermineComponentFrameRoot");)j++;if(x===ee.length||j===xe.length)for(x=ee.length-1,j=xe.length-1;1<=x&&0<=j&&ee[x]!==xe[j];)j--;for(;1<=x&&0<=j;x--,j--)if(ee[x]!==xe[j]){if(x!==1||j!==1)do if(x--,j--,0>j||ee[x]!==xe[j]){var Ie=`
`+ee[x].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=x&&0<=j);break}}}finally{Hr=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Oi(f):""}function se(a){switch(a.tag){case 26:case 27:case 5:return Oi(a.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return V(a.type,!1);case 11:return V(a.type.render,!1);case 1:return V(a.type,!0);case 31:return Oi("Activity");default:return""}}function Oe(a){try{var c="";do c+=se(a),a=a.return;while(a);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Ue(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Xe(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function lt(a){var c=Xe(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),x=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var j=f.get,P=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return j.call(this)},set:function(z){x=""+z,P.call(this,z)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(z){x=""+z},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Ft(a){a._valueTracker||(a._valueTracker=lt(a))}function at(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return a&&(x=Xe(a)?a.checked?"true":"false":a.value),a=x,a!==f?(c.setValue(a),!0):!1}function Ve(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var xn=/[\n"\\]/g;function vn(a){return a.replace(xn,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function dn(a,c,f,x,j,P,z,U){a.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.type=z:a.removeAttribute("type"),c!=null?z==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Ue(c)):a.value!==""+Ue(c)&&(a.value=""+Ue(c)):z!=="submit"&&z!=="reset"||a.removeAttribute("value"),c!=null?qr(a,z,Ue(c)):f!=null?qr(a,z,Ue(f)):x!=null&&a.removeAttribute("value"),j==null&&P!=null&&(a.defaultChecked=!!P),j!=null&&(a.checked=j&&typeof j!="function"&&typeof j!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+Ue(U):a.removeAttribute("name")}function Ki(a,c,f,x,j,P,z,U){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.type=P),c!=null||f!=null){if(!(P!=="submit"&&P!=="reset"||c!=null))return;f=f!=null?""+Ue(f):"",c=c!=null?""+Ue(c):f,U||c===a.value||(a.value=c),a.defaultValue=c}x=x??j,x=typeof x!="function"&&typeof x!="symbol"&&!!x,a.checked=U?a.checked:!!x,a.defaultChecked=!!x,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(a.name=z)}function qr(a,c,f){c==="number"&&Ve(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function Ht(a,c,f,x){if(a=a.options,c){c={};for(var j=0;j<f.length;j++)c["$"+f[j]]=!0;for(f=0;f<a.length;f++)j=c.hasOwnProperty("$"+a[f].value),a[f].selected!==j&&(a[f].selected=j),j&&x&&(a[f].defaultSelected=!0)}else{for(f=""+Ue(f),c=null,j=0;j<a.length;j++){if(a[j].value===f){a[j].selected=!0,x&&(a[j].defaultSelected=!0);return}c!==null||a[j].disabled||(c=a[j])}c!==null&&(c.selected=!0)}}function Vn(a,c,f){if(c!=null&&(c=""+Ue(c),c!==a.value&&(a.value=c),f==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=f!=null?""+Ue(f):""}function _r(a,c,f,x){if(c==null){if(x!=null){if(f!=null)throw Error(r(92));if(fe(x)){if(1<x.length)throw Error(r(93));x=x[0]}f=x}f==null&&(f=""),c=f}f=Ue(c),a.defaultValue=f,x=a.textContent,x===f&&x!==""&&x!==null&&(a.value=x)}function er(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var Ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(a,c,f){var x=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?x?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":x?a.setProperty(c,f):typeof f!="number"||f===0||Ri.has(c)?c==="float"?a.cssFloat=f:a[c]=(""+f).trim():a[c]=f+"px"}function ss(a,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,f!=null){for(var x in f)!f.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?a.setProperty(x,""):x==="float"?a.cssFloat="":a[x]="");for(var j in c)x=c[j],c.hasOwnProperty(j)&&f[j]!==x&&zs(a,j,x)}else for(var P in c)c.hasOwnProperty(P)&&zs(a,P,c[P])}function $s(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(a){return Bl.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Xo=null;function Kr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fs=null,os=null;function Ul(a){var c=Sr(a);if(c&&(a=c.stateNode)){var f=a[Dt]||null;e:switch(a=c.stateNode,c.type){case"input":if(dn(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+vn(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==a&&x.form===a.form){var j=x[Dt]||null;if(!j)throw Error(r(90));dn(x,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(c=0;c<f.length;c++)x=f[c],x.form===a.form&&at(x)}break e;case"textarea":Vn(a,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Ht(a,!!f.multiple,c,!1)}}}var Bt=!1;function Wi(a,c,f){if(Bt)return a(c,f);Bt=!0;try{var x=a(c);return x}finally{if(Bt=!1,(Fs!==null||os!==null)&&(bg(),Fs&&(c=Fs,a=os,os=Fs=null,Ul(c),a)))for(c=0;c<a.length;c++)Ul(a[c])}}function jn(a,c){var f=a.stateNode;if(f===null)return null;var x=f[Dt]||null;if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(Gi)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){xo=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{xo=!1}var Ta=null,yn=null,cs=null;function Bs(){if(cs)return cs;var a,c=yn,f=c.length,x,j="value"in Ta?Ta.value:Ta.textContent,P=j.length;for(a=0;a<f&&c[a]===j[a];a++);var z=f-a;for(x=1;x<=z&&c[f-x]===j[P-x];x++);return cs=j.slice(a,1<x?1-x:void 0)}function fn(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ai(){return!0}function Va(){return!1}function xi(a){function c(f,x,j,P,z){this._reactName=f,this._targetInst=j,this.type=x,this.nativeEvent=P,this.target=z,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(f=a[U],this[U]=f?f(P):P[U]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?ai:Va,this.isPropagationStopped=Va,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),c}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=xi(us),Pa=p({},us,{view:0,detail:0}),Qo=xi(Pa),bo,qt,an,Wr=p({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==an&&(an&&a.type==="mousemove"?(bo=a.screenX-an.screenX,qt=a.screenY-an.screenY):qt=bo=0,an=a),bo)},movementY:function(a){return"movementY"in a?a.movementY:qt}}),Us=xi(Wr),wo=p({},Wr,{dataTransfer:0}),Vl=xi(wo),Jo=p({},Pa,{relatedTarget:0}),Ca=xi(Jo),eu=p({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),el=xi(eu),tu=p({},us,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fs=xi(tu),dh=p({},us,{data:0}),la=xi(dh),fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pd(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Aa[a])?!!c[a]:!1}function Hl(){return pd}var nu=p({},Pa,{key:function(a){if(a.key){var c=fh[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=fn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?md[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(a){return a.type==="keypress"?fn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?fn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),hh=xi(nu),gd=p({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=xi(gd),iu=p({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),au=xi(iu),su=p({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),te=xi(su),Ee=p({},Wr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=xi(Ee),we=p({},us,{newState:0,oldState:0}),Pe=xi(we),De=[9,13,27,32],$e=Gi&&"CompositionEvent"in window,He=null;Gi&&"documentMode"in document&&(He=document.documentMode);var Qe=Gi&&"TextEvent"in window&&!He,Je=Gi&&(!$e||He&&8<He&&11>=He),We=" ",rt=!1;function et(a,c){switch(a){case"keyup":return De.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ht=!1;function Ke(a,c){switch(a){case"compositionend":return it(c);case"keypress":return c.which!==32?null:(rt=!0,We);case"textInput":return a=c.data,a===We&&rt?null:a;default:return null}}function ut(a,c){if(ht)return a==="compositionend"||!$e&&et(a,c)?(a=Bs(),cs=yn=Ta=null,ht=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Je&&c.locale!=="ko"?null:c.data;default:return null}}var dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nt(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!dt[a.type]:c==="textarea"}function It(a,c,f,x){Fs?os?os.push(x):os=[x]:Fs=x,c=Tg(c,"onChange"),0<c.length&&(f=new ds("onChange","change",null,f,x),a.push({event:f,listeners:c}))}var st=null,Kt=null;function Jt(a){MA(a,0)}function St(a){var c=yi(a);if(at(c))return a}function en(a,c){if(a==="change")return c}var In=!1;if(Gi){var tr;if(Gi){var Jr="oninput"in document;if(!Jr){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jr=typeof Zn.oninput=="function"}tr=Jr}else tr=!1;In=tr&&(!document.documentMode||9<document.documentMode)}function jr(){st&&(st.detachEvent("onpropertychange",En),Kt=st=null)}function En(a){if(a.propertyName==="value"&&St(Kt)){var c=[];It(c,Kt,a,Kr(a)),Wi(Jt,c)}}function Mn(a,c,f){a==="focusin"?(jr(),st=c,Kt=f,st.attachEvent("onpropertychange",En)):a==="focusout"&&jr()}function Nr(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return St(Kt)}function nr(a,c){if(a==="click")return St(c)}function Tr(a,c){if(a==="input"||a==="change")return St(c)}function Ln(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Pr=typeof Object.is=="function"?Object.is:Ln;function lr(a,c){if(Pr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var j=f[x];if(!ve.call(c,j)||!Pr(a[j],c[j]))return!1}return!0}function Ha(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Vs(a,c){var f=Ha(a);a=0;for(var x;f;){if(f.nodeType===3){if(x=a+f.textContent.length,a<=c&&x>=c)return{node:f,offset:c-a};a=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ha(f)}}function hs(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?hs(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function ca(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Ve(a.document);c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=Ve(a.document)}return c}function Cr(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var Hs=Gi&&"documentMode"in document&&11>=document.documentMode,si=null,ql=null,tl=null,vd=!1;function Fp(a,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vd||si==null||si!==Ve(x)||(x=si,"selectionStart"in x&&Cr(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),tl&&lr(tl,x)||(tl=x,x=Tg(ql,"onSelect"),0<x.length&&(c=new ds("onSelect","select",null,c,f),a.push({event:c,listeners:x}),c.target=si)))}function ms(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var Kl={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},yd={},Bp={};Gi&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function So(a){if(yd[a])return yd[a];if(!Kl[a])return a;var c=Kl[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in Bp)return yd[a]=c[f];return a}var Up=So("animationend"),qa=So("animationiteration"),ou=So("animationstart"),F0=So("transitionrun"),xd=So("transitionstart"),B0=So("transitioncancel"),mh=So("transitionend"),Vp=new Map,nl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nl.push("scrollEnd");function Ka(a,c){Vp.set(a,c),un(c,[a])}var rl=new WeakMap;function ua(a,c){if(typeof a=="object"&&a!==null){var f=rl.get(a);return f!==void 0?f:(c={value:a,source:c,stack:Oe(c)},rl.set(a,c),c)}return{value:a,source:c,stack:Oe(c)}}var da=[],Wl=0,Wa=0;function lu(){for(var a=Wl,c=Wa=Wl=0;c<a;){var f=da[c];da[c++]=null;var x=da[c];da[c++]=null;var j=da[c];da[c++]=null;var P=da[c];if(da[c++]=null,x!==null&&j!==null){var z=x.pending;z===null?j.next=j:(j.next=z.next,z.next=j),x.pending=j}P!==0&&uu(f,j,P)}}function cu(a,c,f,x){da[Wl++]=a,da[Wl++]=c,da[Wl++]=f,da[Wl++]=x,Wa|=x,a.lanes|=x,a=a.alternate,a!==null&&(a.lanes|=x)}function il(a,c,f,x){return cu(a,c,f,x),_o(a)}function Gl(a,c){return cu(a,null,null,c),_o(a)}function uu(a,c,f){a.lanes|=f;var x=a.alternate;x!==null&&(x.lanes|=f);for(var j=!1,P=a.return;P!==null;)P.childLanes|=f,x=P.alternate,x!==null&&(x.childLanes|=f),P.tag===22&&(a=P.stateNode,a===null||a._visibility&1||(j=!0)),a=P,P=P.return;return a.tag===3?(P=a.stateNode,j&&c!==null&&(j=31-$t(f),a=P.hiddenUpdates,x=a[j],x===null?a[j]=[c]:x.push(c),c.lane=f|536870912),P):null}function _o(a){if(50<Lh)throw Lh=0,zb=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var al={};function Hp(a,c,f,x){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(a,c,f,x){return new Hp(a,c,f,x)}function bd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ps(a,c){var f=a.alternate;return f===null?(f=fa(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function ph(a,c){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,c=f.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function du(a,c,f,x,j,P){var z=0;if(x=a,typeof a=="function")bd(a)&&(z=1);else if(typeof a=="string")z=zH(a,f,q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Y:return a=fa(31,f,c,j),a.elementType=Y,a.lanes=P,a;case N:return jo(f.children,j,P,c);case S:z=8,j|=24;break;case T:return a=fa(12,f,c,j|2),a.elementType=T,a.lanes=P,a;case R:return a=fa(13,f,c,j),a.elementType=R,a.lanes=P,a;case I:return a=fa(19,f,c,j),a.elementType=I,a.lanes=P,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case E:z=10;break e;case M:z=9;break e;case k:z=11;break e;case D:z=14;break e;case F:z=16,x=null;break e}z=29,f=Error(r(130,a===null?"null":typeof a,"")),x=null}return c=fa(z,f,c,j),c.elementType=a,c.type=x,c.lanes=P,c}function jo(a,c,f,x){return a=fa(7,a,x,c),a.lanes=f,a}function gh(a,c,f){return a=fa(6,a,null,c),a.lanes=f,a}function wd(a,c,f){return c=fa(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var sl=[],Yl=0,d=null,y=0,w=[],A=0,O=null,B=1,J="";function me(a,c){sl[Yl++]=y,sl[Yl++]=d,d=a,y=c}function Te(a,c,f){w[A++]=B,w[A++]=J,w[A++]=O,O=a;var x=B;a=J;var j=32-$t(x)-1;x&=~(1<<j),f+=1;var P=32-$t(c)+j;if(30<P){var z=j-j%5;P=(x&(1<<z)-1).toString(32),x>>=z,j-=z,B=1<<32-$t(c)+j|f<<j|x,J=P+a}else B=1<<P|f<<j|x,J=a}function Fe(a){a.return!==null&&(me(a,1),Te(a,1,0))}function ct(a){for(;a===d;)d=sl[--Yl],sl[Yl]=null,y=sl[--Yl],sl[Yl]=null;for(;a===O;)O=w[--A],w[A]=null,J=w[--A],w[A]=null,B=w[--A],w[A]=null}var gt=null,Nt=null,Vt=!1,rr=null,Ar=!1,bi=Error(r(519));function Ea(a){var c=Error(r(418,""));throw Xl(ua(c,a)),bi}function qp(a){var c=a.stateNode,f=a.type,x=a.memoizedProps;switch(c[mt]=a,c[Dt]=x,f){case"dialog":mn("cancel",c),mn("close",c);break;case"iframe":case"object":case"embed":mn("load",c);break;case"video":case"audio":for(f=0;f<$h.length;f++)mn($h[f],c);break;case"source":mn("error",c);break;case"img":case"image":case"link":mn("error",c),mn("load",c);break;case"details":mn("toggle",c);break;case"input":mn("invalid",c),Ki(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Ft(c);break;case"select":mn("invalid",c);break;case"textarea":mn("invalid",c),_r(c,x.value,x.defaultValue,x.children),Ft(c)}f=x.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||x.suppressHydrationWarning===!0||DA(c.textContent,f)?(x.popover!=null&&(mn("beforetoggle",c),mn("toggle",c)),x.onScroll!=null&&mn("scroll",c),x.onScrollEnd!=null&&mn("scrollend",c),x.onClick!=null&&(c.onclick=Pg),c=!0):c=!1,c||Ea(a)}function Kp(a){for(gt=a.return;gt;)switch(gt.tag){case 5:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:gt=gt.return}}function fu(a){if(a!==gt)return!1;if(!Vt)return Kp(a),Vt=!0,!1;var c=a.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||ew(a.type,a.memoizedProps)),f=!f),f&&Nt&&Ea(a),Kp(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(f=a.data,f==="/$"){if(c===0){Nt=Gs(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;a=a.nextSibling}Nt=null}}else c===27?(c=Nt,fc(a.type)?(a=iw,iw=null,Nt=a):Nt=c):Nt=gt?Gs(a.stateNode.nextSibling):null;return!0}function Zl(){Nt=gt=null,Vt=!1}function Wp(){var a=rr;return a!==null&&(Oa===null?Oa=a:Oa.push.apply(Oa,a),rr=null),a}function Xl(a){rr===null?rr=[a]:rr.push(a)}var pr=G(null),gs=null,qs=null;function No(a,c,f){de(pr,c._currentValue),c._currentValue=f}function Ks(a){a._currentValue=pr.current,Ne(pr)}function hu(a,c,f){for(;a!==null;){var x=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),a===f)break;a=a.return}}function Sd(a,c,f,x){var j=a.child;for(j!==null&&(j.return=a);j!==null;){var P=j.dependencies;if(P!==null){var z=j.child;P=P.firstContext;e:for(;P!==null;){var U=P;P=j;for(var ee=0;ee<c.length;ee++)if(U.context===c[ee]){P.lanes|=f,U=P.alternate,U!==null&&(U.lanes|=f),hu(P.return,f,a),x||(z=null);break e}P=U.next}}else if(j.tag===18){if(z=j.return,z===null)throw Error(r(341));z.lanes|=f,P=z.alternate,P!==null&&(P.lanes|=f),hu(z,f,a),z=null}else z=j.child;if(z!==null)z.return=j;else for(z=j;z!==null;){if(z===a){z=null;break}if(j=z.sibling,j!==null){j.return=z.return,z=j;break}z=z.return}j=z}}function mu(a,c,f,x){a=null;for(var j=c,P=!1;j!==null;){if(!P){if((j.flags&524288)!==0)P=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var z=j.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var U=j.type;Pr(j.pendingProps.value,z.value)||(a!==null?a.push(U):a=[U])}}else if(j===Ae.current){if(z=j.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(a!==null?a.push(qh):a=[qh])}j=j.return}a!==null&&Sd(c,a,f,x),c.flags|=262144}function Gp(a){for(a=a.firstContext;a!==null;){if(!Pr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function pu(a){gs=a,qs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Yi(a){return wP(gs,a)}function Yp(a,c){return gs===null&&pu(a),wP(a,c)}function wP(a,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},qs===null){if(a===null)throw Error(r(308));qs=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else qs=qs.next=c;return f}var LV=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(f,x){a.push(x)}};this.abort=function(){c.aborted=!0,a.forEach(function(f){return f()})}},zV=e.unstable_scheduleCallback,$V=e.unstable_NormalPriority,oi={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function U0(){return{controller:new LV,data:new Map,refCount:0}}function vh(a){a.refCount--,a.refCount===0&&zV($V,function(){a.controller.abort()})}var yh=null,V0=0,_d=0,jd=null;function FV(a,c){if(yh===null){var f=yh=[];V0=0,_d=qb(),jd={status:"pending",value:void 0,then:function(x){f.push(x)}}}return V0++,c.then(SP,SP),c}function SP(){if(--V0===0&&yh!==null){jd!==null&&(jd.status="fulfilled");var a=yh;yh=null,_d=0,jd=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function BV(a,c){var f=[],x={status:"pending",value:null,reason:null,then:function(j){f.push(j)}};return a.then(function(){x.status="fulfilled",x.value=c;for(var j=0;j<f.length;j++)(0,f[j])(c)},function(j){for(x.status="rejected",x.reason=j,j=0;j<f.length;j++)(0,f[j])(void 0)}),x}var _P=K.S;K.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&FV(a,c),_P!==null&&_P(a,c)};var gu=G(null);function H0(){var a=gu.current;return a!==null?a:ir.pooledCache}function Zp(a,c){c===null?de(gu,gu.current):de(gu,c.pool)}function jP(){var a=H0();return a===null?null:{parent:oi._currentValue,pool:a}}var xh=Error(r(460)),NP=Error(r(474)),Xp=Error(r(542)),q0={then:function(){}};function TP(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qp(){}function PP(a,c,f){switch(f=a[f],f===void 0?a.push(c):f!==c&&(c.then(Qp,Qp),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,AP(a),a;default:if(typeof c.status=="string")c.then(Qp,Qp);else{if(a=ir,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(x){if(c.status==="pending"){var j=c;j.status="fulfilled",j.value=x}},function(x){if(c.status==="pending"){var j=c;j.status="rejected",j.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,AP(a),a}throw bh=c,xh}}var bh=null;function CP(){if(bh===null)throw Error(r(459));var a=bh;return bh=null,a}function AP(a){if(a===xh||a===Xp)throw Error(r(483))}var Ql=!1;function K0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function W0(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Jl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ec(a,c,f){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,($n&2)!==0){var j=x.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),x.pending=c,c=_o(a),uu(a,null,f),c}return cu(a,x,c,f),_o(a)}function wh(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var x=c.lanes;x&=a.pendingLanes,f|=x,c.lanes=f,kn(a,f)}}function G0(a,c){var f=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var j=null,P=null;if(f=f.firstBaseUpdate,f!==null){do{var z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};P===null?j=P=z:P=P.next=z,f=f.next}while(f!==null);P===null?j=P=c:P=P.next=c}else j=P=c;f={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:P,shared:x.shared,callbacks:x.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}var Y0=!1;function Sh(){if(Y0){var a=jd;if(a!==null)throw a}}function _h(a,c,f,x){Y0=!1;var j=a.updateQueue;Ql=!1;var P=j.firstBaseUpdate,z=j.lastBaseUpdate,U=j.shared.pending;if(U!==null){j.shared.pending=null;var ee=U,xe=ee.next;ee.next=null,z===null?P=xe:z.next=xe,z=ee;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,U=Ie.lastBaseUpdate,U!==z&&(U===null?Ie.firstBaseUpdate=xe:U.next=xe,Ie.lastBaseUpdate=ee))}if(P!==null){var ze=j.baseState;z=0,Ie=xe=ee=null,U=P;do{var _e=U.lane&-536870913,je=_e!==U.lane;if(je?(bn&_e)===_e:(x&_e)===_e){_e!==0&&_e===_d&&(Y0=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ut=a,Lt=U;_e=c;var Kn=f;switch(Lt.tag){case 1:if(Ut=Lt.payload,typeof Ut=="function"){ze=Ut.call(Kn,ze,_e);break e}ze=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Lt.payload,_e=typeof Ut=="function"?Ut.call(Kn,ze,_e):Ut,_e==null)break e;ze=p({},ze,_e);break e;case 2:Ql=!0}}_e=U.callback,_e!==null&&(a.flags|=64,je&&(a.flags|=8192),je=j.callbacks,je===null?j.callbacks=[_e]:je.push(_e))}else je={lane:_e,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ie===null?(xe=Ie=je,ee=ze):Ie=Ie.next=je,z|=_e;if(U=U.next,U===null){if(U=j.shared.pending,U===null)break;je=U,U=je.next,je.next=null,j.lastBaseUpdate=je,j.shared.pending=null}}while(!0);Ie===null&&(ee=ze),j.baseState=ee,j.firstBaseUpdate=xe,j.lastBaseUpdate=Ie,P===null&&(j.shared.lanes=0),lc|=z,a.lanes=z,a.memoizedState=ze}}function EP(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function MP(a,c){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)EP(f[a],c)}var Nd=G(null),Jp=G(0);function kP(a,c){a=hl,de(Jp,a),de(Nd,c),hl=a|c.baseLanes}function Z0(){de(Jp,hl),de(Nd,Nd.current)}function X0(){hl=Jp.current,Ne(Nd),Ne(Jp)}var tc=0,on=null,Hn=null,ei=null,eg=!1,Td=!1,vu=!1,tg=0,jh=0,Pd=null,UV=0;function Gr(){throw Error(r(321))}function Q0(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!Pr(a[f],c[f]))return!1;return!0}function J0(a,c,f,x,j,P){return tc=P,on=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,K.H=a===null||a.memoizedState===null?pC:gC,vu=!1,P=f(x,j),vu=!1,Td&&(P=RP(c,f,x,j)),OP(a),P}function OP(a){K.H=og;var c=Hn!==null&&Hn.next!==null;if(tc=0,ei=Hn=on=null,eg=!1,jh=0,Pd=null,c)throw Error(r(300));a===null||wi||(a=a.dependencies,a!==null&&Gp(a)&&(wi=!0))}function RP(a,c,f,x){on=a;var j=0;do{if(Td&&(Pd=null),jh=0,Td=!1,25<=j)throw Error(r(301));if(j+=1,ei=Hn=null,a.updateQueue!=null){var P=a.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}K.H=YV,P=c(f,x)}while(Td);return P}function VV(){var a=K.H,c=a.useState()[0];return c=typeof c.then=="function"?Nh(c):c,a=a.useState()[0],(Hn!==null?Hn.memoizedState:null)!==a&&(on.flags|=1024),c}function eb(){var a=tg!==0;return tg=0,a}function tb(a,c,f){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~f}function nb(a){if(eg){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}eg=!1}tc=0,ei=Hn=on=null,Td=!1,jh=tg=0,Pd=null}function Ma(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?on.memoizedState=ei=a:ei=ei.next=a,ei}function ti(){if(Hn===null){var a=on.alternate;a=a!==null?a.memoizedState:null}else a=Hn.next;var c=ei===null?on.memoizedState:ei.next;if(c!==null)ei=c,Hn=a;else{if(a===null)throw on.alternate===null?Error(r(467)):Error(r(310));Hn=a,a={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ei===null?on.memoizedState=ei=a:ei=ei.next=a}return ei}function rb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nh(a){var c=jh;return jh+=1,Pd===null&&(Pd=[]),a=PP(Pd,a,c),c=on,(ei===null?c.memoizedState:ei.next)===null&&(c=c.alternate,K.H=c===null||c.memoizedState===null?pC:gC),a}function ng(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Nh(a);if(a.$$typeof===E)return Yi(a)}throw Error(r(438,String(a)))}function ib(a){var c=null,f=on.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var x=on.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(j){return j.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=rb(),on.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(a),x=0;x<a;x++)f[x]=ne;return c.index++,f}function ol(a,c){return typeof c=="function"?c(a):c}function rg(a){var c=ti();return ab(c,Hn,a)}function ab(a,c,f){var x=a.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var j=a.baseQueue,P=x.pending;if(P!==null){if(j!==null){var z=j.next;j.next=P.next,P.next=z}c.baseQueue=j=P,x.pending=null}if(P=a.baseState,j===null)a.memoizedState=P;else{c=j.next;var U=z=null,ee=null,xe=c,Ie=!1;do{var ze=xe.lane&-536870913;if(ze!==xe.lane?(bn&ze)===ze:(tc&ze)===ze){var _e=xe.revertLane;if(_e===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),ze===_d&&(Ie=!0);else if((tc&_e)===_e){xe=xe.next,_e===_d&&(Ie=!0);continue}else ze={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ee===null?(U=ee=ze,z=P):ee=ee.next=ze,on.lanes|=_e,lc|=_e;ze=xe.action,vu&&f(P,ze),P=xe.hasEagerState?xe.eagerState:f(P,ze)}else _e={lane:ze,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ee===null?(U=ee=_e,z=P):ee=ee.next=_e,on.lanes|=ze,lc|=ze;xe=xe.next}while(xe!==null&&xe!==c);if(ee===null?z=P:ee.next=U,!Pr(P,a.memoizedState)&&(wi=!0,Ie&&(f=jd,f!==null)))throw f;a.memoizedState=P,a.baseState=z,a.baseQueue=ee,x.lastRenderedState=P}return j===null&&(x.lanes=0),[a.memoizedState,x.dispatch]}function sb(a){var c=ti(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var x=f.dispatch,j=f.pending,P=c.memoizedState;if(j!==null){f.pending=null;var z=j=j.next;do P=a(P,z.action),z=z.next;while(z!==j);Pr(P,c.memoizedState)||(wi=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),f.lastRenderedState=P}return[P,x]}function DP(a,c,f){var x=on,j=ti(),P=Vt;if(P){if(f===void 0)throw Error(r(407));f=f()}else f=c();var z=!Pr((Hn||j).memoizedState,f);z&&(j.memoizedState=f,wi=!0),j=j.queue;var U=zP.bind(null,x,j,a);if(Th(2048,8,U,[a]),j.getSnapshot!==c||z||ei!==null&&ei.memoizedState.tag&1){if(x.flags|=2048,Cd(9,ig(),LP.bind(null,x,j,f,c),null),ir===null)throw Error(r(349));P||(tc&124)!==0||IP(x,c,f)}return f}function IP(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=on.updateQueue,c===null?(c=rb(),on.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function LP(a,c,f,x){c.value=f,c.getSnapshot=x,$P(c)&&FP(a)}function zP(a,c,f){return f(function(){$P(c)&&FP(a)})}function $P(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!Pr(a,f)}catch{return!0}}function FP(a){var c=Gl(a,2);c!==null&&Qa(c,a,2)}function ob(a){var c=Ma();if(typeof a=="function"){var f=a;if(a=f(),vu){Jn(!0);try{f()}finally{Jn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:a},c}function BP(a,c,f,x){return a.baseState=f,ab(a,Hn,typeof x=="function"?x:ol)}function HV(a,c,f,x,j){if(sg(a))throw Error(r(485));if(a=c.action,a!==null){var P={payload:j,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){P.listeners.push(z)}};K.T!==null?f(!0):P.isTransition=!1,x(P),f=c.pending,f===null?(P.next=c.pending=P,UP(c,P)):(P.next=f.next,c.pending=f.next=P)}}function UP(a,c){var f=c.action,x=c.payload,j=a.state;if(c.isTransition){var P=K.T,z={};K.T=z;try{var U=f(j,x),ee=K.S;ee!==null&&ee(z,U),VP(a,c,U)}catch(xe){lb(a,c,xe)}finally{K.T=P}}else try{P=f(j,x),VP(a,c,P)}catch(xe){lb(a,c,xe)}}function VP(a,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(x){HP(a,c,x)},function(x){return lb(a,c,x)}):HP(a,c,f)}function HP(a,c,f){c.status="fulfilled",c.value=f,qP(c),a.state=f,c=a.pending,c!==null&&(f=c.next,f===c?a.pending=null:(f=f.next,c.next=f,UP(a,f)))}function lb(a,c,f){var x=a.pending;if(a.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=f,qP(c),c=c.next;while(c!==x)}a.action=null}function qP(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function KP(a,c){return c}function WP(a,c){if(Vt){var f=ir.formState;if(f!==null){e:{var x=on;if(Vt){if(Nt){t:{for(var j=Nt,P=Ar;j.nodeType!==8;){if(!P){j=null;break t}if(j=Gs(j.nextSibling),j===null){j=null;break t}}P=j.data,j=P==="F!"||P==="F"?j:null}if(j){Nt=Gs(j.nextSibling),x=j.data==="F!";break e}}Ea(x)}x=!1}x&&(c=f[0])}}return f=Ma(),f.memoizedState=f.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KP,lastRenderedState:c},f.queue=x,f=fC.bind(null,on,x),x.dispatch=f,x=ob(!1),P=hb.bind(null,on,!1,x.queue),x=Ma(),j={state:c,dispatch:null,action:a,pending:null},x.queue=j,f=HV.bind(null,on,j,P,f),j.dispatch=f,x.memoizedState=a,[c,f,!1]}function GP(a){var c=ti();return YP(c,Hn,a)}function YP(a,c,f){if(c=ab(a,c,KP)[0],a=rg(ol)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=Nh(c)}catch(z){throw z===xh?Xp:z}else x=c;c=ti();var j=c.queue,P=j.dispatch;return f!==c.memoizedState&&(on.flags|=2048,Cd(9,ig(),qV.bind(null,j,f),null)),[x,P,a]}function qV(a,c){a.action=c}function ZP(a){var c=ti(),f=Hn;if(f!==null)return YP(c,f,a);ti(),c=c.memoizedState,f=ti();var x=f.queue.dispatch;return f.memoizedState=a,[c,x,!1]}function Cd(a,c,f,x){return a={tag:a,create:f,deps:x,inst:c,next:null},c=on.updateQueue,c===null&&(c=rb(),on.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=a.next=a:(x=f.next,f.next=a,a.next=x,c.lastEffect=a),a}function ig(){return{destroy:void 0,resource:void 0}}function XP(){return ti().memoizedState}function ag(a,c,f,x){var j=Ma();x=x===void 0?null:x,on.flags|=a,j.memoizedState=Cd(1|c,ig(),f,x)}function Th(a,c,f,x){var j=ti();x=x===void 0?null:x;var P=j.memoizedState.inst;Hn!==null&&x!==null&&Q0(x,Hn.memoizedState.deps)?j.memoizedState=Cd(c,P,f,x):(on.flags|=a,j.memoizedState=Cd(1|c,P,f,x))}function QP(a,c){ag(8390656,8,a,c)}function JP(a,c){Th(2048,8,a,c)}function eC(a,c){return Th(4,2,a,c)}function tC(a,c){return Th(4,4,a,c)}function nC(a,c){if(typeof c=="function"){a=a();var f=c(a);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function rC(a,c,f){f=f!=null?f.concat([a]):null,Th(4,4,nC.bind(null,c,a),f)}function cb(){}function iC(a,c){var f=ti();c=c===void 0?null:c;var x=f.memoizedState;return c!==null&&Q0(c,x[1])?x[0]:(f.memoizedState=[a,c],a)}function aC(a,c){var f=ti();c=c===void 0?null:c;var x=f.memoizedState;if(c!==null&&Q0(c,x[1]))return x[0];if(x=a(),vu){Jn(!0);try{a()}finally{Jn(!1)}}return f.memoizedState=[x,c],x}function ub(a,c,f){return f===void 0||(tc&1073741824)!==0?a.memoizedState=c:(a.memoizedState=f,a=lA(),on.lanes|=a,lc|=a,f)}function sC(a,c,f,x){return Pr(f,c)?f:Nd.current!==null?(a=ub(a,f,x),Pr(a,c)||(wi=!0),a):(tc&42)===0?(wi=!0,a.memoizedState=f):(a=lA(),on.lanes|=a,lc|=a,c)}function oC(a,c,f,x,j){var P=Q.p;Q.p=P!==0&&8>P?P:8;var z=K.T,U={};K.T=U,hb(a,!1,c,f);try{var ee=j(),xe=K.S;if(xe!==null&&xe(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ie=BV(ee,x);Ph(a,c,Ie,Xa(a))}else Ph(a,c,x,Xa(a))}catch(ze){Ph(a,c,{then:function(){},status:"rejected",reason:ze},Xa())}finally{Q.p=P,K.T=z}}function KV(){}function db(a,c,f,x){if(a.tag!==5)throw Error(r(476));var j=lC(a).queue;oC(a,j,c,H,f===null?KV:function(){return cC(a),f(x)})}function lC(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:H},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:f},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function cC(a){var c=lC(a).next.queue;Ph(a,c,{},Xa())}function fb(){return Yi(qh)}function uC(){return ti().memoizedState}function dC(){return ti().memoizedState}function WV(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var f=Xa();a=Jl(f);var x=ec(c,a,f);x!==null&&(Qa(x,c,f),wh(x,c,f)),c={cache:U0()},a.payload=c;return}c=c.return}}function GV(a,c,f){var x=Xa();f={lane:x,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},sg(a)?hC(c,f):(f=il(a,c,f,x),f!==null&&(Qa(f,a,x),mC(f,c,x)))}function fC(a,c,f){var x=Xa();Ph(a,c,f,x)}function Ph(a,c,f,x){var j={lane:x,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(sg(a))hC(c,j);else{var P=a.alternate;if(a.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var z=c.lastRenderedState,U=P(z,f);if(j.hasEagerState=!0,j.eagerState=U,Pr(U,z))return cu(a,c,j,0),ir===null&&lu(),!1}catch{}if(f=il(a,c,j,x),f!==null)return Qa(f,a,x),mC(f,c,x),!0}return!1}function hb(a,c,f,x){if(x={lane:2,revertLane:qb(),action:x,hasEagerState:!1,eagerState:null,next:null},sg(a)){if(c)throw Error(r(479))}else c=il(a,f,x,2),c!==null&&Qa(c,a,2)}function sg(a){var c=a.alternate;return a===on||c!==null&&c===on}function hC(a,c){Td=eg=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function mC(a,c,f){if((f&4194048)!==0){var x=c.lanes;x&=a.pendingLanes,f|=x,c.lanes=f,kn(a,f)}}var og={readContext:Yi,use:ng,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},pC={readContext:Yi,use:ng,useCallback:function(a,c){return Ma().memoizedState=[a,c===void 0?null:c],a},useContext:Yi,useEffect:QP,useImperativeHandle:function(a,c,f){f=f!=null?f.concat([a]):null,ag(4194308,4,nC.bind(null,c,a),f)},useLayoutEffect:function(a,c){return ag(4194308,4,a,c)},useInsertionEffect:function(a,c){ag(4,2,a,c)},useMemo:function(a,c){var f=Ma();c=c===void 0?null:c;var x=a();if(vu){Jn(!0);try{a()}finally{Jn(!1)}}return f.memoizedState=[x,c],x},useReducer:function(a,c,f){var x=Ma();if(f!==void 0){var j=f(c);if(vu){Jn(!0);try{f(c)}finally{Jn(!1)}}}else j=c;return x.memoizedState=x.baseState=j,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:j},x.queue=a,a=a.dispatch=GV.bind(null,on,a),[x.memoizedState,a]},useRef:function(a){var c=Ma();return a={current:a},c.memoizedState=a},useState:function(a){a=ob(a);var c=a.queue,f=fC.bind(null,on,c);return c.dispatch=f,[a.memoizedState,f]},useDebugValue:cb,useDeferredValue:function(a,c){var f=Ma();return ub(f,a,c)},useTransition:function(){var a=ob(!1);return a=oC.bind(null,on,a.queue,!0,!1),Ma().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,f){var x=on,j=Ma();if(Vt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),ir===null)throw Error(r(349));(bn&124)!==0||IP(x,c,f)}j.memoizedState=f;var P={value:f,getSnapshot:c};return j.queue=P,QP(zP.bind(null,x,P,a),[a]),x.flags|=2048,Cd(9,ig(),LP.bind(null,x,P,f,c),null),f},useId:function(){var a=Ma(),c=ir.identifierPrefix;if(Vt){var f=J,x=B;f=(x&~(1<<32-$t(x)-1)).toString(32)+f,c=""+c+"R"+f,f=tg++,0<f&&(c+="H"+f.toString(32)),c+=""}else f=UV++,c=""+c+"r"+f.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:fb,useFormState:WP,useActionState:WP,useOptimistic:function(a){var c=Ma();c.memoizedState=c.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=hb.bind(null,on,!0,f),f.dispatch=c,[a,c]},useMemoCache:ib,useCacheRefresh:function(){return Ma().memoizedState=WV.bind(null,on)}},gC={readContext:Yi,use:ng,useCallback:iC,useContext:Yi,useEffect:JP,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:aC,useReducer:rg,useRef:XP,useState:function(){return rg(ol)},useDebugValue:cb,useDeferredValue:function(a,c){var f=ti();return sC(f,Hn.memoizedState,a,c)},useTransition:function(){var a=rg(ol)[0],c=ti().memoizedState;return[typeof a=="boolean"?a:Nh(a),c]},useSyncExternalStore:DP,useId:uC,useHostTransitionStatus:fb,useFormState:GP,useActionState:GP,useOptimistic:function(a,c){var f=ti();return BP(f,Hn,a,c)},useMemoCache:ib,useCacheRefresh:dC},YV={readContext:Yi,use:ng,useCallback:iC,useContext:Yi,useEffect:JP,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:aC,useReducer:sb,useRef:XP,useState:function(){return sb(ol)},useDebugValue:cb,useDeferredValue:function(a,c){var f=ti();return Hn===null?ub(f,a,c):sC(f,Hn.memoizedState,a,c)},useTransition:function(){var a=sb(ol)[0],c=ti().memoizedState;return[typeof a=="boolean"?a:Nh(a),c]},useSyncExternalStore:DP,useId:uC,useHostTransitionStatus:fb,useFormState:ZP,useActionState:ZP,useOptimistic:function(a,c){var f=ti();return Hn!==null?BP(f,Hn,a,c):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:ib,useCacheRefresh:dC},Ad=null,Ch=0;function lg(a){var c=Ch;return Ch+=1,Ad===null&&(Ad=[]),PP(Ad,a,c)}function Ah(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function cg(a,c){throw c.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function vC(a){var c=a._init;return c(a._payload)}function yC(a){function c(ue,oe){if(a){var ye=ue.deletions;ye===null?(ue.deletions=[oe],ue.flags|=16):ye.push(oe)}}function f(ue,oe){if(!a)return null;for(;oe!==null;)c(ue,oe),oe=oe.sibling;return null}function x(ue){for(var oe=new Map;ue!==null;)ue.key!==null?oe.set(ue.key,ue):oe.set(ue.index,ue),ue=ue.sibling;return oe}function j(ue,oe){return ue=ps(ue,oe),ue.index=0,ue.sibling=null,ue}function P(ue,oe,ye){return ue.index=ye,a?(ye=ue.alternate,ye!==null?(ye=ye.index,ye<oe?(ue.flags|=67108866,oe):ye):(ue.flags|=67108866,oe)):(ue.flags|=1048576,oe)}function z(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function U(ue,oe,ye,Le){return oe===null||oe.tag!==6?(oe=gh(ye,ue.mode,Le),oe.return=ue,oe):(oe=j(oe,ye),oe.return=ue,oe)}function ee(ue,oe,ye,Le){var yt=ye.type;return yt===N?Ie(ue,oe,ye.props.children,Le,ye.key):oe!==null&&(oe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&vC(yt)===oe.type)?(oe=j(oe,ye.props),Ah(oe,ye),oe.return=ue,oe):(oe=du(ye.type,ye.key,ye.props,null,ue.mode,Le),Ah(oe,ye),oe.return=ue,oe)}function xe(ue,oe,ye,Le){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=wd(ye,ue.mode,Le),oe.return=ue,oe):(oe=j(oe,ye.children||[]),oe.return=ue,oe)}function Ie(ue,oe,ye,Le,yt){return oe===null||oe.tag!==7?(oe=jo(ye,ue.mode,Le,yt),oe.return=ue,oe):(oe=j(oe,ye),oe.return=ue,oe)}function ze(ue,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=gh(""+oe,ue.mode,ye),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return ye=du(oe.type,oe.key,oe.props,null,ue.mode,ye),Ah(ye,oe),ye.return=ue,ye;case _:return oe=wd(oe,ue.mode,ye),oe.return=ue,oe;case F:var Le=oe._init;return oe=Le(oe._payload),ze(ue,oe,ye)}if(fe(oe)||Z(oe))return oe=jo(oe,ue.mode,ye,null),oe.return=ue,oe;if(typeof oe.then=="function")return ze(ue,lg(oe),ye);if(oe.$$typeof===E)return ze(ue,Yp(ue,oe),ye);cg(ue,oe)}return null}function _e(ue,oe,ye,Le){var yt=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return yt!==null?null:U(ue,oe,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return ye.key===yt?ee(ue,oe,ye,Le):null;case _:return ye.key===yt?xe(ue,oe,ye,Le):null;case F:return yt=ye._init,ye=yt(ye._payload),_e(ue,oe,ye,Le)}if(fe(ye)||Z(ye))return yt!==null?null:Ie(ue,oe,ye,Le,null);if(typeof ye.then=="function")return _e(ue,oe,lg(ye),Le);if(ye.$$typeof===E)return _e(ue,oe,Yp(ue,ye),Le);cg(ue,ye)}return null}function je(ue,oe,ye,Le,yt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ue=ue.get(ye)||null,U(oe,ue,""+Le,yt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return ue=ue.get(Le.key===null?ye:Le.key)||null,ee(oe,ue,Le,yt);case _:return ue=ue.get(Le.key===null?ye:Le.key)||null,xe(oe,ue,Le,yt);case F:var cn=Le._init;return Le=cn(Le._payload),je(ue,oe,ye,Le,yt)}if(fe(Le)||Z(Le))return ue=ue.get(ye)||null,Ie(oe,ue,Le,yt,null);if(typeof Le.then=="function")return je(ue,oe,ye,lg(Le),yt);if(Le.$$typeof===E)return je(ue,oe,ye,Yp(oe,Le),yt);cg(oe,Le)}return null}function Ut(ue,oe,ye,Le){for(var yt=null,cn=null,Ct=oe,zt=oe=0,_i=null;Ct!==null&&zt<ye.length;zt++){Ct.index>zt?(_i=Ct,Ct=null):_i=Ct.sibling;var Pn=_e(ue,Ct,ye[zt],Le);if(Pn===null){Ct===null&&(Ct=_i);break}a&&Ct&&Pn.alternate===null&&c(ue,Ct),oe=P(Pn,oe,zt),cn===null?yt=Pn:cn.sibling=Pn,cn=Pn,Ct=_i}if(zt===ye.length)return f(ue,Ct),Vt&&me(ue,zt),yt;if(Ct===null){for(;zt<ye.length;zt++)Ct=ze(ue,ye[zt],Le),Ct!==null&&(oe=P(Ct,oe,zt),cn===null?yt=Ct:cn.sibling=Ct,cn=Ct);return Vt&&me(ue,zt),yt}for(Ct=x(Ct);zt<ye.length;zt++)_i=je(Ct,ue,zt,ye[zt],Le),_i!==null&&(a&&_i.alternate!==null&&Ct.delete(_i.key===null?zt:_i.key),oe=P(_i,oe,zt),cn===null?yt=_i:cn.sibling=_i,cn=_i);return a&&Ct.forEach(function(vc){return c(ue,vc)}),Vt&&me(ue,zt),yt}function Lt(ue,oe,ye,Le){if(ye==null)throw Error(r(151));for(var yt=null,cn=null,Ct=oe,zt=oe=0,_i=null,Pn=ye.next();Ct!==null&&!Pn.done;zt++,Pn=ye.next()){Ct.index>zt?(_i=Ct,Ct=null):_i=Ct.sibling;var vc=_e(ue,Ct,Pn.value,Le);if(vc===null){Ct===null&&(Ct=_i);break}a&&Ct&&vc.alternate===null&&c(ue,Ct),oe=P(vc,oe,zt),cn===null?yt=vc:cn.sibling=vc,cn=vc,Ct=_i}if(Pn.done)return f(ue,Ct),Vt&&me(ue,zt),yt;if(Ct===null){for(;!Pn.done;zt++,Pn=ye.next())Pn=ze(ue,Pn.value,Le),Pn!==null&&(oe=P(Pn,oe,zt),cn===null?yt=Pn:cn.sibling=Pn,cn=Pn);return Vt&&me(ue,zt),yt}for(Ct=x(Ct);!Pn.done;zt++,Pn=ye.next())Pn=je(Ct,ue,zt,Pn.value,Le),Pn!==null&&(a&&Pn.alternate!==null&&Ct.delete(Pn.key===null?zt:Pn.key),oe=P(Pn,oe,zt),cn===null?yt=Pn:cn.sibling=Pn,cn=Pn);return a&&Ct.forEach(function(ZH){return c(ue,ZH)}),Vt&&me(ue,zt),yt}function Kn(ue,oe,ye,Le){if(typeof ye=="object"&&ye!==null&&ye.type===N&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:e:{for(var yt=ye.key;oe!==null;){if(oe.key===yt){if(yt=ye.type,yt===N){if(oe.tag===7){f(ue,oe.sibling),Le=j(oe,ye.props.children),Le.return=ue,ue=Le;break e}}else if(oe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&vC(yt)===oe.type){f(ue,oe.sibling),Le=j(oe,ye.props),Ah(Le,ye),Le.return=ue,ue=Le;break e}f(ue,oe);break}else c(ue,oe);oe=oe.sibling}ye.type===N?(Le=jo(ye.props.children,ue.mode,Le,ye.key),Le.return=ue,ue=Le):(Le=du(ye.type,ye.key,ye.props,null,ue.mode,Le),Ah(Le,ye),Le.return=ue,ue=Le)}return z(ue);case _:e:{for(yt=ye.key;oe!==null;){if(oe.key===yt)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){f(ue,oe.sibling),Le=j(oe,ye.children||[]),Le.return=ue,ue=Le;break e}else{f(ue,oe);break}else c(ue,oe);oe=oe.sibling}Le=wd(ye,ue.mode,Le),Le.return=ue,ue=Le}return z(ue);case F:return yt=ye._init,ye=yt(ye._payload),Kn(ue,oe,ye,Le)}if(fe(ye))return Ut(ue,oe,ye,Le);if(Z(ye)){if(yt=Z(ye),typeof yt!="function")throw Error(r(150));return ye=yt.call(ye),Lt(ue,oe,ye,Le)}if(typeof ye.then=="function")return Kn(ue,oe,lg(ye),Le);if(ye.$$typeof===E)return Kn(ue,oe,Yp(ue,ye),Le);cg(ue,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,oe!==null&&oe.tag===6?(f(ue,oe.sibling),Le=j(oe,ye),Le.return=ue,ue=Le):(f(ue,oe),Le=gh(ye,ue.mode,Le),Le.return=ue,ue=Le),z(ue)):f(ue,oe)}return function(ue,oe,ye,Le){try{Ch=0;var yt=Kn(ue,oe,ye,Le);return Ad=null,yt}catch(Ct){if(Ct===xh||Ct===Xp)throw Ct;var cn=fa(29,Ct,null,ue.mode);return cn.lanes=Le,cn.return=ue,cn}}}var Ed=yC(!0),xC=yC(!1),vs=G(null),To=null;function nc(a){var c=a.alternate;de(li,li.current&1),de(vs,a),To===null&&(c===null||Nd.current!==null||c.memoizedState!==null)&&(To=a)}function bC(a){if(a.tag===22){if(de(li,li.current),de(vs,a),To===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(To=a)}}else rc()}function rc(){de(li,li.current),de(vs,vs.current)}function ll(a){Ne(vs),To===a&&(To=null),Ne(li)}var li=G(0);function ug(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||rw(f)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function mb(a,c,f,x){c=a.memoizedState,f=f(x,c),f=f==null?c:p({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var pb={enqueueSetState:function(a,c,f){a=a._reactInternals;var x=Xa(),j=Jl(x);j.payload=c,f!=null&&(j.callback=f),c=ec(a,j,x),c!==null&&(Qa(c,a,x),wh(c,a,x))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var x=Xa(),j=Jl(x);j.tag=1,j.payload=c,f!=null&&(j.callback=f),c=ec(a,j,x),c!==null&&(Qa(c,a,x),wh(c,a,x))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=Xa(),x=Jl(f);x.tag=2,c!=null&&(x.callback=c),c=ec(a,x,f),c!==null&&(Qa(c,a,f),wh(c,a,f))}};function wC(a,c,f,x,j,P,z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,P,z):c.prototype&&c.prototype.isPureReactComponent?!lr(f,x)||!lr(j,P):!0}function SC(a,c,f,x){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==a&&pb.enqueueReplaceState(c,c.state,null)}function yu(a,c){var f=c;if("ref"in c){f={};for(var x in c)x!=="ref"&&(f[x]=c[x])}if(a=a.defaultProps){f===c&&(f=p({},f));for(var j in a)f[j]===void 0&&(f[j]=a[j])}return f}var dg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function _C(a){dg(a)}function jC(a){console.error(a)}function NC(a){dg(a)}function fg(a,c){try{var f=a.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function TC(a,c,f){try{var x=a.onCaughtError;x(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function gb(a,c,f){return f=Jl(f),f.tag=3,f.payload={element:null},f.callback=function(){fg(a,c)},f}function PC(a){return a=Jl(a),a.tag=3,a}function CC(a,c,f,x){var j=f.type.getDerivedStateFromError;if(typeof j=="function"){var P=x.value;a.payload=function(){return j(P)},a.callback=function(){TC(c,f,x)}}var z=f.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(a.callback=function(){TC(c,f,x),typeof j!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var U=x.stack;this.componentDidCatch(x.value,{componentStack:U!==null?U:""})})}function ZV(a,c,f,x,j){if(f.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=f.alternate,c!==null&&mu(c,f,j,!0),f=vs.current,f!==null){switch(f.tag){case 13:return To===null?Fb():f.alternate===null&&Lr===0&&(Lr=3),f.flags&=-257,f.flags|=65536,f.lanes=j,x===q0?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([x]):c.add(x),Ub(a,x,j)),!1;case 22:return f.flags|=65536,x===q0?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([x]):f.add(x)),Ub(a,x,j)),!1}throw Error(r(435,f.tag))}return Ub(a,x,j),Fb(),!1}if(Vt)return c=vs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=j,x!==bi&&(a=Error(r(422),{cause:x}),Xl(ua(a,f)))):(x!==bi&&(c=Error(r(423),{cause:x}),Xl(ua(c,f))),a=a.current.alternate,a.flags|=65536,j&=-j,a.lanes|=j,x=ua(x,f),j=gb(a.stateNode,x,j),G0(a,j),Lr!==4&&(Lr=2)),!1;var P=Error(r(520),{cause:x});if(P=ua(P,f),Ih===null?Ih=[P]:Ih.push(P),Lr!==4&&(Lr=2),c===null)return!0;x=ua(x,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,a=j&-j,f.lanes|=a,a=gb(f.stateNode,x,a),G0(f,a),!1;case 1:if(c=f.type,P=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(cc===null||!cc.has(P))))return f.flags|=65536,j&=-j,f.lanes|=j,j=PC(j),CC(j,a,f,x),G0(f,j),!1}f=f.return}while(f!==null);return!1}var AC=Error(r(461)),wi=!1;function Di(a,c,f,x){c.child=a===null?xC(c,null,f,x):Ed(c,a.child,f,x)}function EC(a,c,f,x,j){f=f.render;var P=c.ref;if("ref"in x){var z={};for(var U in x)U!=="ref"&&(z[U]=x[U])}else z=x;return pu(c),x=J0(a,c,f,z,P,j),U=eb(),a!==null&&!wi?(tb(a,c,j),cl(a,c,j)):(Vt&&U&&Fe(c),c.flags|=1,Di(a,c,x,j),c.child)}function MC(a,c,f,x,j){if(a===null){var P=f.type;return typeof P=="function"&&!bd(P)&&P.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=P,kC(a,c,P,x,j)):(a=du(f.type,null,x,c,c.mode,j),a.ref=c.ref,a.return=c,c.child=a)}if(P=a.child,!jb(a,j)){var z=P.memoizedProps;if(f=f.compare,f=f!==null?f:lr,f(z,x)&&a.ref===c.ref)return cl(a,c,j)}return c.flags|=1,a=ps(P,x),a.ref=c.ref,a.return=c,c.child=a}function kC(a,c,f,x,j){if(a!==null){var P=a.memoizedProps;if(lr(P,x)&&a.ref===c.ref)if(wi=!1,c.pendingProps=x=P,jb(a,j))(a.flags&131072)!==0&&(wi=!0);else return c.lanes=a.lanes,cl(a,c,j)}return vb(a,c,f,x,j)}function OC(a,c,f){var x=c.pendingProps,j=x.children,P=a!==null?a.memoizedState:null;if(x.mode==="hidden"){if((c.flags&128)!==0){if(x=P!==null?P.baseLanes|f:f,a!==null){for(j=c.child=a.child,P=0;j!==null;)P=P|j.lanes|j.childLanes,j=j.sibling;c.childLanes=P&~x}else c.childLanes=0,c.child=null;return RC(a,c,x,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Zp(c,P!==null?P.cachePool:null),P!==null?kP(c,P):Z0(),bC(c);else return c.lanes=c.childLanes=536870912,RC(a,c,P!==null?P.baseLanes|f:f,f)}else P!==null?(Zp(c,P.cachePool),kP(c,P),rc(),c.memoizedState=null):(a!==null&&Zp(c,null),Z0(),rc());return Di(a,c,j,f),c.child}function RC(a,c,f,x){var j=H0();return j=j===null?null:{parent:oi._currentValue,pool:j},c.memoizedState={baseLanes:f,cachePool:j},a!==null&&Zp(c,null),Z0(),bC(c),a!==null&&mu(a,c,x,!0),null}function hg(a,c){var f=c.ref;if(f===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(c.flags|=4194816)}}function vb(a,c,f,x,j){return pu(c),f=J0(a,c,f,x,void 0,j),x=eb(),a!==null&&!wi?(tb(a,c,j),cl(a,c,j)):(Vt&&x&&Fe(c),c.flags|=1,Di(a,c,f,j),c.child)}function DC(a,c,f,x,j,P){return pu(c),c.updateQueue=null,f=RP(c,x,f,j),OP(a),x=eb(),a!==null&&!wi?(tb(a,c,P),cl(a,c,P)):(Vt&&x&&Fe(c),c.flags|=1,Di(a,c,f,P),c.child)}function IC(a,c,f,x,j){if(pu(c),c.stateNode===null){var P=al,z=f.contextType;typeof z=="object"&&z!==null&&(P=Yi(z)),P=new f(x,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=pb,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=x,P.state=c.memoizedState,P.refs={},K0(c),z=f.contextType,P.context=typeof z=="object"&&z!==null?Yi(z):al,P.state=c.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(mb(c,f,z,x),P.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(z=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),z!==P.state&&pb.enqueueReplaceState(P,P.state,null),_h(c,x,P,j),Sh(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(a===null){P=c.stateNode;var U=c.memoizedProps,ee=yu(f,U);P.props=ee;var xe=P.context,Ie=f.contextType;z=al,typeof Ie=="object"&&Ie!==null&&(z=Yi(Ie));var ze=f.getDerivedStateFromProps;Ie=typeof ze=="function"||typeof P.getSnapshotBeforeUpdate=="function",U=c.pendingProps!==U,Ie||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(U||xe!==z)&&SC(c,P,x,z),Ql=!1;var _e=c.memoizedState;P.state=_e,_h(c,x,P,j),Sh(),xe=c.memoizedState,U||_e!==xe||Ql?(typeof ze=="function"&&(mb(c,f,ze,x),xe=c.memoizedState),(ee=Ql||wC(c,f,ee,x,_e,xe,z))?(Ie||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=xe),P.props=x,P.state=xe,P.context=z,x=ee):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{P=c.stateNode,W0(a,c),z=c.memoizedProps,Ie=yu(f,z),P.props=Ie,ze=c.pendingProps,_e=P.context,xe=f.contextType,ee=al,typeof xe=="object"&&xe!==null&&(ee=Yi(xe)),U=f.getDerivedStateFromProps,(xe=typeof U=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==ze||_e!==ee)&&SC(c,P,x,ee),Ql=!1,_e=c.memoizedState,P.state=_e,_h(c,x,P,j),Sh();var je=c.memoizedState;z!==ze||_e!==je||Ql||a!==null&&a.dependencies!==null&&Gp(a.dependencies)?(typeof U=="function"&&(mb(c,f,U,x),je=c.memoizedState),(Ie=Ql||wC(c,f,Ie,x,_e,je,ee)||a!==null&&a.dependencies!==null&&Gp(a.dependencies))?(xe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(x,je,ee),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(x,je,ee)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=je),P.props=x,P.state=je,P.context=ee,x=Ie):(typeof P.componentDidUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(c.flags|=1024),x=!1)}return P=x,hg(a,c),x=(c.flags&128)!==0,P||x?(P=c.stateNode,f=x&&typeof f.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,a!==null&&x?(c.child=Ed(c,a.child,null,j),c.child=Ed(c,null,f,j)):Di(a,c,f,j),c.memoizedState=P.state,a=c.child):a=cl(a,c,j),a}function LC(a,c,f,x){return Zl(),c.flags|=256,Di(a,c,f,x),c.child}var yb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xb(a){return{baseLanes:a,cachePool:jP()}}function bb(a,c,f){return a=a!==null?a.childLanes&~f:0,c&&(a|=ys),a}function zC(a,c,f){var x=c.pendingProps,j=!1,P=(c.flags&128)!==0,z;if((z=P)||(z=a!==null&&a.memoizedState===null?!1:(li.current&2)!==0),z&&(j=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,a===null){if(Vt){if(j?nc(c):rc(),Vt){var U=Nt,ee;if(ee=U){e:{for(ee=U,U=Ar;ee.nodeType!==8;){if(!U){U=null;break e}if(ee=Gs(ee.nextSibling),ee===null){U=null;break e}}U=ee}U!==null?(c.memoizedState={dehydrated:U,treeContext:O!==null?{id:B,overflow:J}:null,retryLane:536870912,hydrationErrors:null},ee=fa(18,null,null,0),ee.stateNode=U,ee.return=c,c.child=ee,gt=c,Nt=null,ee=!0):ee=!1}ee||Ea(c)}if(U=c.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return rw(U)?c.lanes=32:c.lanes=536870912,null;ll(c)}return U=x.children,x=x.fallback,j?(rc(),j=c.mode,U=mg({mode:"hidden",children:U},j),x=jo(x,j,f,null),U.return=c,x.return=c,U.sibling=x,c.child=U,j=c.child,j.memoizedState=xb(f),j.childLanes=bb(a,z,f),c.memoizedState=yb,x):(nc(c),wb(c,U))}if(ee=a.memoizedState,ee!==null&&(U=ee.dehydrated,U!==null)){if(P)c.flags&256?(nc(c),c.flags&=-257,c=Sb(a,c,f)):c.memoizedState!==null?(rc(),c.child=a.child,c.flags|=128,c=null):(rc(),j=x.fallback,U=c.mode,x=mg({mode:"visible",children:x.children},U),j=jo(j,U,f,null),j.flags|=2,x.return=c,j.return=c,x.sibling=j,c.child=x,Ed(c,a.child,null,f),x=c.child,x.memoizedState=xb(f),x.childLanes=bb(a,z,f),c.memoizedState=yb,c=j);else if(nc(c),rw(U)){if(z=U.nextSibling&&U.nextSibling.dataset,z)var xe=z.dgst;z=xe,x=Error(r(419)),x.stack="",x.digest=z,Xl({value:x,source:null,stack:null}),c=Sb(a,c,f)}else if(wi||mu(a,c,f,!1),z=(f&a.childLanes)!==0,wi||z){if(z=ir,z!==null&&(x=f&-f,x=(x&42)!==0?1:Xt(x),x=(x&(z.suspendedLanes|f))!==0?0:x,x!==0&&x!==ee.retryLane))throw ee.retryLane=x,Gl(a,x),Qa(z,a,x),AC;U.data==="$?"||Fb(),c=Sb(a,c,f)}else U.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=ee.treeContext,Nt=Gs(U.nextSibling),gt=c,Vt=!0,rr=null,Ar=!1,a!==null&&(w[A++]=B,w[A++]=J,w[A++]=O,B=a.id,J=a.overflow,O=c),c=wb(c,x.children),c.flags|=4096);return c}return j?(rc(),j=x.fallback,U=c.mode,ee=a.child,xe=ee.sibling,x=ps(ee,{mode:"hidden",children:x.children}),x.subtreeFlags=ee.subtreeFlags&65011712,xe!==null?j=ps(xe,j):(j=jo(j,U,f,null),j.flags|=2),j.return=c,x.return=c,x.sibling=j,c.child=x,x=j,j=c.child,U=a.child.memoizedState,U===null?U=xb(f):(ee=U.cachePool,ee!==null?(xe=oi._currentValue,ee=ee.parent!==xe?{parent:xe,pool:xe}:ee):ee=jP(),U={baseLanes:U.baseLanes|f,cachePool:ee}),j.memoizedState=U,j.childLanes=bb(a,z,f),c.memoizedState=yb,x):(nc(c),f=a.child,a=f.sibling,f=ps(f,{mode:"visible",children:x.children}),f.return=c,f.sibling=null,a!==null&&(z=c.deletions,z===null?(c.deletions=[a],c.flags|=16):z.push(a)),c.child=f,c.memoizedState=null,f)}function wb(a,c){return c=mg({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function mg(a,c){return a=fa(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Sb(a,c,f){return Ed(c,a.child,null,f),a=wb(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function $C(a,c,f){a.lanes|=c;var x=a.alternate;x!==null&&(x.lanes|=c),hu(a.return,c,f)}function _b(a,c,f,x,j){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:j}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=f,P.tailMode=j)}function FC(a,c,f){var x=c.pendingProps,j=x.revealOrder,P=x.tail;if(Di(a,c,x.children,f),x=li.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$C(a,f,c);else if(a.tag===19)$C(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}switch(de(li,x),j){case"forwards":for(f=c.child,j=null;f!==null;)a=f.alternate,a!==null&&ug(a)===null&&(j=f),f=f.sibling;f=j,f===null?(j=c.child,c.child=null):(j=f.sibling,f.sibling=null),_b(c,!1,j,f,P);break;case"backwards":for(f=null,j=c.child,c.child=null;j!==null;){if(a=j.alternate,a!==null&&ug(a)===null){c.child=j;break}a=j.sibling,j.sibling=f,f=j,j=a}_b(c,!0,f,null,P);break;case"together":_b(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function cl(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),lc|=c.lanes,(f&c.childLanes)===0)if(a!==null){if(mu(a,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,f=ps(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=ps(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function jb(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Gp(a)))}function XV(a,c,f){switch(c.tag){case 3:ke(c,c.stateNode.containerInfo),No(c,oi,a.memoizedState.cache),Zl();break;case 27:case 5:ge(c);break;case 4:ke(c,c.stateNode.containerInfo);break;case 10:No(c,c.type,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(nc(c),c.flags|=128,null):(f&c.child.childLanes)!==0?zC(a,c,f):(nc(c),a=cl(a,c,f),a!==null?a.sibling:null);nc(c);break;case 19:var j=(a.flags&128)!==0;if(x=(f&c.childLanes)!==0,x||(mu(a,c,f,!1),x=(f&c.childLanes)!==0),j){if(x)return FC(a,c,f);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),de(li,li.current),x)break;return null;case 22:case 23:return c.lanes=0,OC(a,c,f);case 24:No(c,oi,a.memoizedState.cache)}return cl(a,c,f)}function BC(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps)wi=!0;else{if(!jb(a,f)&&(c.flags&128)===0)return wi=!1,XV(a,c,f);wi=(a.flags&131072)!==0}else wi=!1,Vt&&(c.flags&1048576)!==0&&Te(c,y,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var x=c.elementType,j=x._init;if(x=j(x._payload),c.type=x,typeof x=="function")bd(x)?(a=yu(x,a),c.tag=1,c=IC(null,c,x,a,f)):(c.tag=0,c=vb(null,c,x,a,f));else{if(x!=null){if(j=x.$$typeof,j===k){c.tag=11,c=EC(null,c,x,a,f);break e}else if(j===D){c.tag=14,c=MC(null,c,x,a,f);break e}}throw c=ce(x)||x,Error(r(306,c,""))}}return c;case 0:return vb(a,c,c.type,c.pendingProps,f);case 1:return x=c.type,j=yu(x,c.pendingProps),IC(a,c,x,j,f);case 3:e:{if(ke(c,c.stateNode.containerInfo),a===null)throw Error(r(387));x=c.pendingProps;var P=c.memoizedState;j=P.element,W0(a,c),_h(c,x,null,f);var z=c.memoizedState;if(x=z.cache,No(c,oi,x),x!==P.cache&&Sd(c,[oi],f,!0),Sh(),x=z.element,P.isDehydrated)if(P={element:x,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=LC(a,c,x,f);break e}else if(x!==j){j=ua(Error(r(424)),c),Xl(j),c=LC(a,c,x,f);break e}else for(a=c.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Nt=Gs(a.firstChild),gt=c,Vt=!0,rr=null,Ar=!0,f=xC(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Zl(),x===j){c=cl(a,c,f);break e}Di(a,c,x,f)}c=c.child}return c;case 26:return hg(a,c),a===null?(f=qA(c.type,null,c.pendingProps,null))?c.memoizedState=f:Vt||(f=c.type,a=c.pendingProps,x=Cg(be.current).createElement(f),x[mt]=c,x[Dt]=a,Li(x,f,a),Yn(x),c.stateNode=x):c.memoizedState=qA(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return ge(c),a===null&&Vt&&(x=c.stateNode=UA(c.type,c.pendingProps,be.current),gt=c,Ar=!0,j=Nt,fc(c.type)?(iw=j,Nt=Gs(x.firstChild)):Nt=j),Di(a,c,c.pendingProps.children,f),hg(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Vt&&((j=x=Nt)&&(x=NH(x,c.type,c.pendingProps,Ar),x!==null?(c.stateNode=x,gt=c,Nt=Gs(x.firstChild),Ar=!1,j=!0):j=!1),j||Ea(c)),ge(c),j=c.type,P=c.pendingProps,z=a!==null?a.memoizedProps:null,x=P.children,ew(j,P)?x=null:z!==null&&ew(j,z)&&(c.flags|=32),c.memoizedState!==null&&(j=J0(a,c,VV,null,null,f),qh._currentValue=j),hg(a,c),Di(a,c,x,f),c.child;case 6:return a===null&&Vt&&((a=f=Nt)&&(f=TH(f,c.pendingProps,Ar),f!==null?(c.stateNode=f,gt=c,Nt=null,a=!0):a=!1),a||Ea(c)),null;case 13:return zC(a,c,f);case 4:return ke(c,c.stateNode.containerInfo),x=c.pendingProps,a===null?c.child=Ed(c,null,x,f):Di(a,c,x,f),c.child;case 11:return EC(a,c,c.type,c.pendingProps,f);case 7:return Di(a,c,c.pendingProps,f),c.child;case 8:return Di(a,c,c.pendingProps.children,f),c.child;case 12:return Di(a,c,c.pendingProps.children,f),c.child;case 10:return x=c.pendingProps,No(c,c.type,x.value),Di(a,c,x.children,f),c.child;case 9:return j=c.type._context,x=c.pendingProps.children,pu(c),j=Yi(j),x=x(j),c.flags|=1,Di(a,c,x,f),c.child;case 14:return MC(a,c,c.type,c.pendingProps,f);case 15:return kC(a,c,c.type,c.pendingProps,f);case 19:return FC(a,c,f);case 31:return x=c.pendingProps,f=c.mode,x={mode:x.mode,children:x.children},a===null?(f=mg(x,f),f.ref=c.ref,c.child=f,f.return=c,c=f):(f=ps(a.child,x),f.ref=c.ref,c.child=f,f.return=c,c=f),c;case 22:return OC(a,c,f);case 24:return pu(c),x=Yi(oi),a===null?(j=H0(),j===null&&(j=ir,P=U0(),j.pooledCache=P,P.refCount++,P!==null&&(j.pooledCacheLanes|=f),j=P),c.memoizedState={parent:x,cache:j},K0(c),No(c,oi,j)):((a.lanes&f)!==0&&(W0(a,c),_h(c,null,null,f),Sh()),j=a.memoizedState,P=c.memoizedState,j.parent!==x?(j={parent:x,cache:x},c.memoizedState=j,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=j),No(c,oi,x)):(x=P.cache,No(c,oi,x),x!==j.cache&&Sd(c,[oi],f,!0))),Di(a,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ul(a){a.flags|=4}function UC(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ZA(c)){if(c=vs.current,c!==null&&((bn&4194048)===bn?To!==null:(bn&62914560)!==bn&&(bn&536870912)===0||c!==To))throw bh=q0,NP;a.flags|=8192}}function pg(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Sa():536870912,a.lanes|=c,Rd|=c)}function Eh(a,c){if(!Vt)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function Er(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,x=0;if(c)for(var j=a.child;j!==null;)f|=j.lanes|j.childLanes,x|=j.subtreeFlags&65011712,x|=j.flags&65011712,j.return=a,j=j.sibling;else for(j=a.child;j!==null;)f|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=a,j=j.sibling;return a.subtreeFlags|=x,a.childLanes=f,c}function QV(a,c,f){var x=c.pendingProps;switch(ct(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(c),null;case 1:return Er(c),null;case 3:return f=c.stateNode,x=null,a!==null&&(x=a.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),Ks(oi),ie(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(fu(c)?ul(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Wp())),Er(c),null;case 26:return f=c.memoizedState,a===null?(ul(c),f!==null?(Er(c),UC(c,f)):(Er(c),c.flags&=-16777217)):f?f!==a.memoizedState?(ul(c),Er(c),UC(c,f)):(Er(c),c.flags&=-16777217):(a.memoizedProps!==x&&ul(c),Er(c),c.flags&=-16777217),null;case 27:Me(c),f=be.current;var j=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==x&&ul(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Er(c),null}a=q.current,fu(c)?qp(c):(a=UA(j,x,f),c.stateNode=a,ul(c))}return Er(c),null;case 5:if(Me(c),f=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==x&&ul(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Er(c),null}if(a=q.current,fu(c))qp(c);else{switch(j=Cg(be.current),a){case 1:a=j.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:a=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":a=j.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":a=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":a=j.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof x.is=="string"?j.createElement("select",{is:x.is}):j.createElement("select"),x.multiple?a.multiple=!0:x.size&&(a.size=x.size);break;default:a=typeof x.is=="string"?j.createElement(f,{is:x.is}):j.createElement(f)}}a[mt]=c,a[Dt]=x;e:for(j=c.child;j!==null;){if(j.tag===5||j.tag===6)a.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===c)break e;for(;j.sibling===null;){if(j.return===null||j.return===c)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}c.stateNode=a;e:switch(Li(a,f,x),f){case"button":case"input":case"select":case"textarea":a=!!x.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ul(c)}}return Er(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==x&&ul(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(a=be.current,fu(c)){if(a=c.stateNode,f=c.memoizedProps,x=null,j=gt,j!==null)switch(j.tag){case 27:case 5:x=j.memoizedProps}a[mt]=c,a=!!(a.nodeValue===f||x!==null&&x.suppressHydrationWarning===!0||DA(a.nodeValue,f)),a||Ea(c)}else a=Cg(a).createTextNode(x),a[mt]=c,c.stateNode=a}return Er(c),null;case 13:if(x=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(j=fu(c),x!==null&&x.dehydrated!==null){if(a===null){if(!j)throw Error(r(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[mt]=c}else Zl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Er(c),j=!1}else j=Wp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=j),j=!0;if(!j)return c.flags&256?(ll(c),c):(ll(c),null)}if(ll(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=x!==null,a=a!==null&&a.memoizedState!==null,f){x=c.child,j=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(j=x.alternate.memoizedState.cachePool.pool);var P=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(P=x.memoizedState.cachePool.pool),P!==j&&(x.flags|=2048)}return f!==a&&f&&(c.child.flags|=8192),pg(c,c.updateQueue),Er(c),null;case 4:return ie(),a===null&&Yb(c.stateNode.containerInfo),Er(c),null;case 10:return Ks(c.type),Er(c),null;case 19:if(Ne(li),j=c.memoizedState,j===null)return Er(c),null;if(x=(c.flags&128)!==0,P=j.rendering,P===null)if(x)Eh(j,!1);else{if(Lr!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(P=ug(a),P!==null){for(c.flags|=128,Eh(j,!1),a=P.updateQueue,c.updateQueue=a,pg(c,a),c.subtreeFlags=0,a=f,f=c.child;f!==null;)ph(f,a),f=f.sibling;return de(li,li.current&1|2),c.child}a=a.sibling}j.tail!==null&&Wt()>yg&&(c.flags|=128,x=!0,Eh(j,!1),c.lanes=4194304)}else{if(!x)if(a=ug(P),a!==null){if(c.flags|=128,x=!0,a=a.updateQueue,c.updateQueue=a,pg(c,a),Eh(j,!0),j.tail===null&&j.tailMode==="hidden"&&!P.alternate&&!Vt)return Er(c),null}else 2*Wt()-j.renderingStartTime>yg&&f!==536870912&&(c.flags|=128,x=!0,Eh(j,!1),c.lanes=4194304);j.isBackwards?(P.sibling=c.child,c.child=P):(a=j.last,a!==null?a.sibling=P:c.child=P,j.last=P)}return j.tail!==null?(c=j.tail,j.rendering=c,j.tail=c.sibling,j.renderingStartTime=Wt(),c.sibling=null,a=li.current,de(li,x?a&1|2:a&1),c):(Er(c),null);case 22:case 23:return ll(c),X0(),x=c.memoizedState!==null,a!==null?a.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(f&536870912)!==0&&(c.flags&128)===0&&(Er(c),c.subtreeFlags&6&&(c.flags|=8192)):Er(c),f=c.updateQueue,f!==null&&pg(c,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==f&&(c.flags|=2048),a!==null&&Ne(gu),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),Ks(oi),Er(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function JV(a,c){switch(ct(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ks(oi),ie(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Me(c),null;case 13:if(ll(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Zl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Ne(li),null;case 4:return ie(),null;case 10:return Ks(c.type),null;case 22:case 23:return ll(c),X0(),a!==null&&Ne(gu),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Ks(oi),null;case 25:return null;default:return null}}function VC(a,c){switch(ct(c),c.tag){case 3:Ks(oi),ie();break;case 26:case 27:case 5:Me(c);break;case 4:ie();break;case 13:ll(c);break;case 19:Ne(li);break;case 10:Ks(c.type);break;case 22:case 23:ll(c),X0(),a!==null&&Ne(gu);break;case 24:Ks(oi)}}function Mh(a,c){try{var f=c.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var j=x.next;f=j;do{if((f.tag&a)===a){x=void 0;var P=f.create,z=f.inst;x=P(),z.destroy=x}f=f.next}while(f!==j)}}catch(U){Xn(c,c.return,U)}}function ic(a,c,f){try{var x=c.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var P=j.next;x=P;do{if((x.tag&a)===a){var z=x.inst,U=z.destroy;if(U!==void 0){z.destroy=void 0,j=c;var ee=f,xe=U;try{xe()}catch(Ie){Xn(j,ee,Ie)}}}x=x.next}while(x!==P)}}catch(Ie){Xn(c,c.return,Ie)}}function HC(a){var c=a.updateQueue;if(c!==null){var f=a.stateNode;try{MP(c,f)}catch(x){Xn(a,a.return,x)}}}function qC(a,c,f){f.props=yu(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(x){Xn(a,c,x)}}function kh(a,c){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var x=a.stateNode;break;case 30:x=a.stateNode;break;default:x=a.stateNode}typeof f=="function"?a.refCleanup=f(x):f.current=x}}catch(j){Xn(a,c,j)}}function Po(a,c){var f=a.ref,x=a.refCleanup;if(f!==null)if(typeof x=="function")try{x()}catch(j){Xn(a,c,j)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(j){Xn(a,c,j)}else f.current=null}function KC(a){var c=a.type,f=a.memoizedProps,x=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&x.focus();break e;case"img":f.src?x.src=f.src:f.srcSet&&(x.srcset=f.srcSet)}}catch(j){Xn(a,a.return,j)}}function Nb(a,c,f){try{var x=a.stateNode;bH(x,a.type,f,c),x[Dt]=c}catch(j){Xn(a,a.return,j)}}function WC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&fc(a.type)||a.tag===4}function Tb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||WC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&fc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Pb(a,c,f){var x=a.tag;if(x===5||x===6)a=a.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(a),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Pg));else if(x!==4&&(x===27&&fc(a.type)&&(f=a.stateNode,c=null),a=a.child,a!==null))for(Pb(a,c,f),a=a.sibling;a!==null;)Pb(a,c,f),a=a.sibling}function gg(a,c,f){var x=a.tag;if(x===5||x===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(x!==4&&(x===27&&fc(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(gg(a,c,f),a=a.sibling;a!==null;)gg(a,c,f),a=a.sibling}function GC(a){var c=a.stateNode,f=a.memoizedProps;try{for(var x=a.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);Li(c,x,f),c[mt]=a,c[Dt]=f}catch(P){Xn(a,a.return,P)}}var dl=!1,Yr=!1,Cb=!1,YC=typeof WeakSet=="function"?WeakSet:Set,Si=null;function eH(a,c){if(a=a.containerInfo,Qb=Rg,a=ca(a),Cr(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var j=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{f.nodeType,P.nodeType}catch{f=null;break e}var z=0,U=-1,ee=-1,xe=0,Ie=0,ze=a,_e=null;t:for(;;){for(var je;ze!==f||j!==0&&ze.nodeType!==3||(U=z+j),ze!==P||x!==0&&ze.nodeType!==3||(ee=z+x),ze.nodeType===3&&(z+=ze.nodeValue.length),(je=ze.firstChild)!==null;)_e=ze,ze=je;for(;;){if(ze===a)break t;if(_e===f&&++xe===j&&(U=z),_e===P&&++Ie===x&&(ee=z),(je=ze.nextSibling)!==null)break;ze=_e,_e=ze.parentNode}ze=je}f=U===-1||ee===-1?null:{start:U,end:ee}}else f=null}f=f||{start:0,end:0}}else f=null;for(Jb={focusedElem:a,selectionRange:f},Rg=!1,Si=c;Si!==null;)if(c=Si,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Si=a;else for(;Si!==null;){switch(c=Si,P=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&P!==null){a=void 0,f=c,j=P.memoizedProps,P=P.memoizedState,x=f.stateNode;try{var Ut=yu(f.type,j,f.elementType===f.type);a=x.getSnapshotBeforeUpdate(Ut,P),x.__reactInternalSnapshotBeforeUpdate=a}catch(Lt){Xn(f,f.return,Lt)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,f=a.nodeType,f===9)nw(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":nw(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,Si=a;break}Si=c.return}}function ZC(a,c,f){var x=f.flags;switch(f.tag){case 0:case 11:case 15:ac(a,f),x&4&&Mh(5,f);break;case 1:if(ac(a,f),x&4)if(a=f.stateNode,c===null)try{a.componentDidMount()}catch(z){Xn(f,f.return,z)}else{var j=yu(f.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(j,c,a.__reactInternalSnapshotBeforeUpdate)}catch(z){Xn(f,f.return,z)}}x&64&&HC(f),x&512&&kh(f,f.return);break;case 3:if(ac(a,f),x&64&&(a=f.updateQueue,a!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{MP(a,c)}catch(z){Xn(f,f.return,z)}}break;case 27:c===null&&x&4&&GC(f);case 26:case 5:ac(a,f),c===null&&x&4&&KC(f),x&512&&kh(f,f.return);break;case 12:ac(a,f);break;case 13:ac(a,f),x&4&&JC(a,f),x&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=cH.bind(null,f),PH(a,f))));break;case 22:if(x=f.memoizedState!==null||dl,!x){c=c!==null&&c.memoizedState!==null||Yr,j=dl;var P=Yr;dl=x,(Yr=c)&&!P?sc(a,f,(f.subtreeFlags&8772)!==0):ac(a,f),dl=j,Yr=P}break;case 30:break;default:ac(a,f)}}function XC(a){var c=a.alternate;c!==null&&(a.alternate=null,XC(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&ja(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gr=null,ka=!1;function fl(a,c,f){for(f=f.child;f!==null;)QC(a,c,f),f=f.sibling}function QC(a,c,f){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(An,f)}catch{}switch(f.tag){case 26:Yr||Po(f,c),fl(a,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Yr||Po(f,c);var x=gr,j=ka;fc(f.type)&&(gr=f.stateNode,ka=!1),fl(a,c,f),Bh(f.stateNode),gr=x,ka=j;break;case 5:Yr||Po(f,c);case 6:if(x=gr,j=ka,gr=null,fl(a,c,f),gr=x,ka=j,gr!==null)if(ka)try{(gr.nodeType===9?gr.body:gr.nodeName==="HTML"?gr.ownerDocument.body:gr).removeChild(f.stateNode)}catch(P){Xn(f,c,P)}else try{gr.removeChild(f.stateNode)}catch(P){Xn(f,c,P)}break;case 18:gr!==null&&(ka?(a=gr,FA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Yh(a)):FA(gr,f.stateNode));break;case 4:x=gr,j=ka,gr=f.stateNode.containerInfo,ka=!0,fl(a,c,f),gr=x,ka=j;break;case 0:case 11:case 14:case 15:Yr||ic(2,f,c),Yr||ic(4,f,c),fl(a,c,f);break;case 1:Yr||(Po(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"&&qC(f,c,x)),fl(a,c,f);break;case 21:fl(a,c,f);break;case 22:Yr=(x=Yr)||f.memoizedState!==null,fl(a,c,f),Yr=x;break;default:fl(a,c,f)}}function JC(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Yh(a)}catch(f){Xn(c,c.return,f)}}function tH(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new YC),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new YC),c;default:throw Error(r(435,a.tag))}}function Ab(a,c){var f=tH(a);c.forEach(function(x){var j=uH.bind(null,a,x);f.has(x)||(f.add(x),x.then(j,j))})}function Ga(a,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var j=f[x],P=a,z=c,U=z;e:for(;U!==null;){switch(U.tag){case 27:if(fc(U.type)){gr=U.stateNode,ka=!1;break e}break;case 5:gr=U.stateNode,ka=!1;break e;case 3:case 4:gr=U.stateNode.containerInfo,ka=!0;break e}U=U.return}if(gr===null)throw Error(r(160));QC(P,z,j),gr=null,ka=!1,P=j.alternate,P!==null&&(P.return=null),j.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)eA(c,a),c=c.sibling}var Ws=null;function eA(a,c){var f=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ga(c,a),Ya(a),x&4&&(ic(3,a,a.return),Mh(3,a),ic(5,a,a.return));break;case 1:Ga(c,a),Ya(a),x&512&&(Yr||f===null||Po(f,f.return)),x&64&&dl&&(a=a.updateQueue,a!==null&&(x=a.callbacks,x!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?x:f.concat(x))));break;case 26:var j=Ws;if(Ga(c,a),Ya(a),x&512&&(Yr||f===null||Po(f,f.return)),x&4){var P=f!==null?f.memoizedState:null;if(x=a.memoizedState,f===null)if(x===null)if(a.stateNode===null){e:{x=a.type,f=a.memoizedProps,j=j.ownerDocument||j;t:switch(x){case"title":P=j.getElementsByTagName("title")[0],(!P||P[vi]||P[mt]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=j.createElement(x),j.head.insertBefore(P,j.querySelector("head > title"))),Li(P,x,f),P[mt]=a,Yn(P),x=P;break e;case"link":var z=GA("link","href",j).get(x+(f.href||""));if(z){for(var U=0;U<z.length;U++)if(P=z[U],P.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&P.getAttribute("rel")===(f.rel==null?null:f.rel)&&P.getAttribute("title")===(f.title==null?null:f.title)&&P.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){z.splice(U,1);break t}}P=j.createElement(x),Li(P,x,f),j.head.appendChild(P);break;case"meta":if(z=GA("meta","content",j).get(x+(f.content||""))){for(U=0;U<z.length;U++)if(P=z[U],P.getAttribute("content")===(f.content==null?null:""+f.content)&&P.getAttribute("name")===(f.name==null?null:f.name)&&P.getAttribute("property")===(f.property==null?null:f.property)&&P.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&P.getAttribute("charset")===(f.charSet==null?null:f.charSet)){z.splice(U,1);break t}}P=j.createElement(x),Li(P,x,f),j.head.appendChild(P);break;default:throw Error(r(468,x))}P[mt]=a,Yn(P),x=P}a.stateNode=x}else YA(j,a.type,a.stateNode);else a.stateNode=WA(j,x,a.memoizedProps);else P!==x?(P===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):P.count--,x===null?YA(j,a.type,a.stateNode):WA(j,x,a.memoizedProps)):x===null&&a.stateNode!==null&&Nb(a,a.memoizedProps,f.memoizedProps)}break;case 27:Ga(c,a),Ya(a),x&512&&(Yr||f===null||Po(f,f.return)),f!==null&&x&4&&Nb(a,a.memoizedProps,f.memoizedProps);break;case 5:if(Ga(c,a),Ya(a),x&512&&(Yr||f===null||Po(f,f.return)),a.flags&32){j=a.stateNode;try{er(j,"")}catch(je){Xn(a,a.return,je)}}x&4&&a.stateNode!=null&&(j=a.memoizedProps,Nb(a,j,f!==null?f.memoizedProps:j)),x&1024&&(Cb=!0);break;case 6:if(Ga(c,a),Ya(a),x&4){if(a.stateNode===null)throw Error(r(162));x=a.memoizedProps,f=a.stateNode;try{f.nodeValue=x}catch(je){Xn(a,a.return,je)}}break;case 3:if(Mg=null,j=Ws,Ws=Ag(c.containerInfo),Ga(c,a),Ws=j,Ya(a),x&4&&f!==null&&f.memoizedState.isDehydrated)try{Yh(c.containerInfo)}catch(je){Xn(a,a.return,je)}Cb&&(Cb=!1,tA(a));break;case 4:x=Ws,Ws=Ag(a.stateNode.containerInfo),Ga(c,a),Ya(a),Ws=x;break;case 12:Ga(c,a),Ya(a);break;case 13:Ga(c,a),Ya(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Db=Wt()),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,Ab(a,x)));break;case 22:j=a.memoizedState!==null;var ee=f!==null&&f.memoizedState!==null,xe=dl,Ie=Yr;if(dl=xe||j,Yr=Ie||ee,Ga(c,a),Yr=Ie,dl=xe,Ya(a),x&8192)e:for(c=a.stateNode,c._visibility=j?c._visibility&-2:c._visibility|1,j&&(f===null||ee||dl||Yr||xu(a)),f=null,c=a;;){if(c.tag===5||c.tag===26){if(f===null){ee=f=c;try{if(P=ee.stateNode,j)z=P.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{U=ee.stateNode;var ze=ee.memoizedProps.style,_e=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;U.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(je){Xn(ee,ee.return,je)}}}else if(c.tag===6){if(f===null){ee=c;try{ee.stateNode.nodeValue=j?"":ee.memoizedProps}catch(je){Xn(ee,ee.return,je)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=a.updateQueue,x!==null&&(f=x.retryQueue,f!==null&&(x.retryQueue=null,Ab(a,f))));break;case 19:Ga(c,a),Ya(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,Ab(a,x)));break;case 30:break;case 21:break;default:Ga(c,a),Ya(a)}}function Ya(a){var c=a.flags;if(c&2){try{for(var f,x=a.return;x!==null;){if(WC(x)){f=x;break}x=x.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var j=f.stateNode,P=Tb(a);gg(a,P,j);break;case 5:var z=f.stateNode;f.flags&32&&(er(z,""),f.flags&=-33);var U=Tb(a);gg(a,U,z);break;case 3:case 4:var ee=f.stateNode.containerInfo,xe=Tb(a);Pb(a,xe,ee);break;default:throw Error(r(161))}}catch(Ie){Xn(a,a.return,Ie)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function tA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;tA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function ac(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ZC(a,c.alternate,c),c=c.sibling}function xu(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:ic(4,c,c.return),xu(c);break;case 1:Po(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&qC(c,c.return,f),xu(c);break;case 27:Bh(c.stateNode);case 26:case 5:Po(c,c.return),xu(c);break;case 22:c.memoizedState===null&&xu(c);break;case 30:xu(c);break;default:xu(c)}a=a.sibling}}function sc(a,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,j=a,P=c,z=P.flags;switch(P.tag){case 0:case 11:case 15:sc(j,P,f),Mh(4,P);break;case 1:if(sc(j,P,f),x=P,j=x.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(xe){Xn(x,x.return,xe)}if(x=P,j=x.updateQueue,j!==null){var U=x.stateNode;try{var ee=j.shared.hiddenCallbacks;if(ee!==null)for(j.shared.hiddenCallbacks=null,j=0;j<ee.length;j++)EP(ee[j],U)}catch(xe){Xn(x,x.return,xe)}}f&&z&64&&HC(P),kh(P,P.return);break;case 27:GC(P);case 26:case 5:sc(j,P,f),f&&x===null&&z&4&&KC(P),kh(P,P.return);break;case 12:sc(j,P,f);break;case 13:sc(j,P,f),f&&z&4&&JC(j,P);break;case 22:P.memoizedState===null&&sc(j,P,f),kh(P,P.return);break;case 30:break;default:sc(j,P,f)}c=c.sibling}}function Eb(a,c){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&vh(f))}function Mb(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&vh(a))}function Co(a,c,f,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)nA(a,c,f,x),c=c.sibling}function nA(a,c,f,x){var j=c.flags;switch(c.tag){case 0:case 11:case 15:Co(a,c,f,x),j&2048&&Mh(9,c);break;case 1:Co(a,c,f,x);break;case 3:Co(a,c,f,x),j&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&vh(a)));break;case 12:if(j&2048){Co(a,c,f,x),a=c.stateNode;try{var P=c.memoizedProps,z=P.id,U=P.onPostCommit;typeof U=="function"&&U(z,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ee){Xn(c,c.return,ee)}}else Co(a,c,f,x);break;case 13:Co(a,c,f,x);break;case 23:break;case 22:P=c.stateNode,z=c.alternate,c.memoizedState!==null?P._visibility&2?Co(a,c,f,x):Oh(a,c):P._visibility&2?Co(a,c,f,x):(P._visibility|=2,Md(a,c,f,x,(c.subtreeFlags&10256)!==0)),j&2048&&Eb(z,c);break;case 24:Co(a,c,f,x),j&2048&&Mb(c.alternate,c);break;default:Co(a,c,f,x)}}function Md(a,c,f,x,j){for(j=j&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var P=a,z=c,U=f,ee=x,xe=z.flags;switch(z.tag){case 0:case 11:case 15:Md(P,z,U,ee,j),Mh(8,z);break;case 23:break;case 22:var Ie=z.stateNode;z.memoizedState!==null?Ie._visibility&2?Md(P,z,U,ee,j):Oh(P,z):(Ie._visibility|=2,Md(P,z,U,ee,j)),j&&xe&2048&&Eb(z.alternate,z);break;case 24:Md(P,z,U,ee,j),j&&xe&2048&&Mb(z.alternate,z);break;default:Md(P,z,U,ee,j)}c=c.sibling}}function Oh(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=a,x=c,j=x.flags;switch(x.tag){case 22:Oh(f,x),j&2048&&Eb(x.alternate,x);break;case 24:Oh(f,x),j&2048&&Mb(x.alternate,x);break;default:Oh(f,x)}c=c.sibling}}var Rh=8192;function kd(a){if(a.subtreeFlags&Rh)for(a=a.child;a!==null;)rA(a),a=a.sibling}function rA(a){switch(a.tag){case 26:kd(a),a.flags&Rh&&a.memoizedState!==null&&FH(Ws,a.memoizedState,a.memoizedProps);break;case 5:kd(a);break;case 3:case 4:var c=Ws;Ws=Ag(a.stateNode.containerInfo),kd(a),Ws=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Rh,Rh=16777216,kd(a),Rh=c):kd(a));break;default:kd(a)}}function iA(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Dh(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];Si=x,sA(x,a)}iA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)aA(a),a=a.sibling}function aA(a){switch(a.tag){case 0:case 11:case 15:Dh(a),a.flags&2048&&ic(9,a,a.return);break;case 3:Dh(a);break;case 12:Dh(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,vg(a)):Dh(a);break;default:Dh(a)}}function vg(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];Si=x,sA(x,a)}iA(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:ic(8,c,c.return),vg(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,vg(c));break;default:vg(c)}a=a.sibling}}function sA(a,c){for(;Si!==null;){var f=Si;switch(f.tag){case 0:case 11:case 15:ic(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var x=f.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:vh(f.memoizedState.cache)}if(x=f.child,x!==null)x.return=f,Si=x;else e:for(f=a;Si!==null;){x=Si;var j=x.sibling,P=x.return;if(XC(x),x===f){Si=null;break e}if(j!==null){j.return=P,Si=j;break e}Si=P}}}var nH={getCacheForType:function(a){var c=Yi(oi),f=c.data.get(a);return f===void 0&&(f=a(),c.data.set(a,f)),f}},rH=typeof WeakMap=="function"?WeakMap:Map,$n=0,ir=null,hn=null,bn=0,Fn=0,Za=null,oc=!1,Od=!1,kb=!1,hl=0,Lr=0,lc=0,bu=0,Ob=0,ys=0,Rd=0,Ih=null,Oa=null,Rb=!1,Db=0,yg=1/0,xg=null,cc=null,Ii=0,uc=null,Dd=null,Id=0,Ib=0,Lb=null,oA=null,Lh=0,zb=null;function Xa(){if(($n&2)!==0&&bn!==0)return bn&-bn;if(K.T!==null){var a=_d;return a!==0?a:qb()}return Yt()}function lA(){ys===0&&(ys=(bn&536870912)===0||Vt?wr():536870912);var a=vs.current;return a!==null&&(a.flags|=32),ys}function Qa(a,c,f){(a===ir&&(Fn===2||Fn===9)||a.cancelPendingCommit!==null)&&(Ld(a,0),dc(a,bn,ys,!1)),ki(a,f),(($n&2)===0||a!==ir)&&(a===ir&&(($n&2)===0&&(bu|=f),Lr===4&&dc(a,bn,ys,!1)),Ao(a))}function cA(a,c,f){if(($n&6)!==0)throw Error(r(327));var x=!f&&(c&124)===0&&(c&a.expiredLanes)===0||br(a,c),j=x?sH(a,c):Bb(a,c,!0),P=x;do{if(j===0){Od&&!x&&dc(a,c,0,!1);break}else{if(f=a.current.alternate,P&&!iH(f)){j=Bb(a,c,!1),P=!1;continue}if(j===2){if(P=c,a.errorRecoveryDisabledLanes&P)var z=0;else z=a.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var U=a;j=Ih;var ee=U.current.memoizedState.isDehydrated;if(ee&&(Ld(U,z).flags|=256),z=Bb(U,z,!1),z!==2){if(kb&&!ee){U.errorRecoveryDisabledLanes|=P,bu|=P,j=4;break e}P=Oa,Oa=j,P!==null&&(Oa===null?Oa=P:Oa.push.apply(Oa,P))}j=z}if(P=!1,j!==2)continue}}if(j===1){Ld(a,0),dc(a,c,0,!0);break}e:{switch(x=a,P=j,P){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:dc(x,c,ys,!oc);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(j=Db+300-Wt(),10<j)){if(dc(x,c,ys,!oc),Mi(x,0,!0)!==0)break e;x.timeoutHandle=zA(uA.bind(null,x,f,Oa,xg,Rb,c,ys,bu,Rd,oc,P,2,-0,0),j);break e}uA(x,f,Oa,xg,Rb,c,ys,bu,Rd,oc,P,0,-0,0)}}break}while(!0);Ao(a)}function uA(a,c,f,x,j,P,z,U,ee,xe,Ie,ze,_e,je){if(a.timeoutHandle=-1,ze=c.subtreeFlags,(ze&8192||(ze&16785408)===16785408)&&(Hh={stylesheets:null,count:0,unsuspend:$H},rA(c),ze=BH(),ze!==null)){a.cancelPendingCommit=ze(vA.bind(null,a,c,P,f,x,j,z,U,ee,Ie,1,_e,je)),dc(a,P,z,!xe);return}vA(a,c,P,f,x,j,z,U,ee)}function iH(a){for(var c=a;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var x=0;x<f.length;x++){var j=f[x],P=j.getSnapshot;j=j.value;try{if(!Pr(P(),j))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function dc(a,c,f,x){c&=~Ob,c&=~bu,a.suspendedLanes|=c,a.pingedLanes&=~c,x&&(a.warmLanes|=c),x=a.expirationTimes;for(var j=c;0<j;){var P=31-$t(j),z=1<<P;x[P]=-1,j&=~z}f!==0&&Mt(a,f,c)}function bg(){return($n&6)===0?(zh(0),!1):!0}function $b(){if(hn!==null){if(Fn===0)var a=hn.return;else a=hn,qs=gs=null,nb(a),Ad=null,Ch=0,a=hn;for(;a!==null;)VC(a.alternate,a),a=a.return;hn=null}}function Ld(a,c){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,SH(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),$b(),ir=a,hn=f=ps(a.current,null),bn=c,Fn=0,Za=null,oc=!1,Od=br(a,c),kb=!1,Rd=ys=Ob=bu=lc=Lr=0,Oa=Ih=null,Rb=!1,(c&8)!==0&&(c|=c&32);var x=a.entangledLanes;if(x!==0)for(a=a.entanglements,x&=c;0<x;){var j=31-$t(x),P=1<<j;c|=a[j],x&=~P}return hl=c,lu(),f}function dA(a,c){on=null,K.H=og,c===xh||c===Xp?(c=CP(),Fn=3):c===NP?(c=CP(),Fn=4):Fn=c===AC?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Za=c,hn===null&&(Lr=1,fg(a,ua(c,a.current)))}function fA(){var a=K.H;return K.H=og,a===null?og:a}function hA(){var a=K.A;return K.A=nH,a}function Fb(){Lr=4,oc||(bn&4194048)!==bn&&vs.current!==null||(Od=!0),(lc&134217727)===0&&(bu&134217727)===0||ir===null||dc(ir,bn,ys,!1)}function Bb(a,c,f){var x=$n;$n|=2;var j=fA(),P=hA();(ir!==a||bn!==c)&&(xg=null,Ld(a,c)),c=!1;var z=Lr;e:do try{if(Fn!==0&&hn!==null){var U=hn,ee=Za;switch(Fn){case 8:$b(),z=6;break e;case 3:case 2:case 9:case 6:vs.current===null&&(c=!0);var xe=Fn;if(Fn=0,Za=null,zd(a,U,ee,xe),f&&Od){z=0;break e}break;default:xe=Fn,Fn=0,Za=null,zd(a,U,ee,xe)}}aH(),z=Lr;break}catch(Ie){dA(a,Ie)}while(!0);return c&&a.shellSuspendCounter++,qs=gs=null,$n=x,K.H=j,K.A=P,hn===null&&(ir=null,bn=0,lu()),z}function aH(){for(;hn!==null;)mA(hn)}function sH(a,c){var f=$n;$n|=2;var x=fA(),j=hA();ir!==a||bn!==c?(xg=null,yg=Wt()+500,Ld(a,c)):Od=br(a,c);e:do try{if(Fn!==0&&hn!==null){c=hn;var P=Za;t:switch(Fn){case 1:Fn=0,Za=null,zd(a,c,P,1);break;case 2:case 9:if(TP(P)){Fn=0,Za=null,pA(c);break}c=function(){Fn!==2&&Fn!==9||ir!==a||(Fn=7),Ao(a)},P.then(c,c);break e;case 3:Fn=7;break e;case 4:Fn=5;break e;case 7:TP(P)?(Fn=0,Za=null,pA(c)):(Fn=0,Za=null,zd(a,c,P,7));break;case 5:var z=null;switch(hn.tag){case 26:z=hn.memoizedState;case 5:case 27:var U=hn;if(!z||ZA(z)){Fn=0,Za=null;var ee=U.sibling;if(ee!==null)hn=ee;else{var xe=U.return;xe!==null?(hn=xe,wg(xe)):hn=null}break t}}Fn=0,Za=null,zd(a,c,P,5);break;case 6:Fn=0,Za=null,zd(a,c,P,6);break;case 8:$b(),Lr=6;break e;default:throw Error(r(462))}}oH();break}catch(Ie){dA(a,Ie)}while(!0);return qs=gs=null,K.H=x,K.A=j,$n=f,hn!==null?0:(ir=null,bn=0,lu(),Lr)}function oH(){for(;hn!==null&&!vt();)mA(hn)}function mA(a){var c=BC(a.alternate,a,hl);a.memoizedProps=a.pendingProps,c===null?wg(a):hn=c}function pA(a){var c=a,f=c.alternate;switch(c.tag){case 15:case 0:c=DC(f,c,c.pendingProps,c.type,void 0,bn);break;case 11:c=DC(f,c,c.pendingProps,c.type.render,c.ref,bn);break;case 5:nb(c);default:VC(f,c),c=hn=ph(c,hl),c=BC(f,c,hl)}a.memoizedProps=a.pendingProps,c===null?wg(a):hn=c}function zd(a,c,f,x){qs=gs=null,nb(c),Ad=null,Ch=0;var j=c.return;try{if(ZV(a,j,c,f,bn)){Lr=1,fg(a,ua(f,a.current)),hn=null;return}}catch(P){if(j!==null)throw hn=j,P;Lr=1,fg(a,ua(f,a.current)),hn=null;return}c.flags&32768?(Vt||x===1?a=!0:Od||(bn&536870912)!==0?a=!1:(oc=a=!0,(x===2||x===9||x===3||x===6)&&(x=vs.current,x!==null&&x.tag===13&&(x.flags|=16384))),gA(c,a)):wg(c)}function wg(a){var c=a;do{if((c.flags&32768)!==0){gA(c,oc);return}a=c.return;var f=QV(c.alternate,c,hl);if(f!==null){hn=f;return}if(c=c.sibling,c!==null){hn=c;return}hn=c=a}while(c!==null);Lr===0&&(Lr=5)}function gA(a,c){do{var f=JV(a.alternate,a);if(f!==null){f.flags&=32767,hn=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(a=a.sibling,a!==null)){hn=a;return}hn=a=f}while(a!==null);Lr=6,hn=null}function vA(a,c,f,x,j,P,z,U,ee){a.cancelPendingCommit=null;do Sg();while(Ii!==0);if(($n&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(P=c.lanes|c.childLanes,P|=Wa,_a(a,f,P,z,U,ee),a===ir&&(hn=ir=null,bn=0),Dd=c,uc=a,Id=f,Ib=P,Lb=j,oA=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,dH(Tn,function(){return SA(),null})):(a.callbackNode=null,a.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=K.T,K.T=null,j=Q.p,Q.p=2,z=$n,$n|=4;try{eH(a,c,f)}finally{$n=z,Q.p=j,K.T=x}}Ii=1,yA(),xA(),bA()}}function yA(){if(Ii===1){Ii=0;var a=uc,c=Dd,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=K.T,K.T=null;var x=Q.p;Q.p=2;var j=$n;$n|=4;try{eA(c,a);var P=Jb,z=ca(a.containerInfo),U=P.focusedElem,ee=P.selectionRange;if(z!==U&&U&&U.ownerDocument&&hs(U.ownerDocument.documentElement,U)){if(ee!==null&&Cr(U)){var xe=ee.start,Ie=ee.end;if(Ie===void 0&&(Ie=xe),"selectionStart"in U)U.selectionStart=xe,U.selectionEnd=Math.min(Ie,U.value.length);else{var ze=U.ownerDocument||document,_e=ze&&ze.defaultView||window;if(_e.getSelection){var je=_e.getSelection(),Ut=U.textContent.length,Lt=Math.min(ee.start,Ut),Kn=ee.end===void 0?Lt:Math.min(ee.end,Ut);!je.extend&&Lt>Kn&&(z=Kn,Kn=Lt,Lt=z);var ue=Vs(U,Lt),oe=Vs(U,Kn);if(ue&&oe&&(je.rangeCount!==1||je.anchorNode!==ue.node||je.anchorOffset!==ue.offset||je.focusNode!==oe.node||je.focusOffset!==oe.offset)){var ye=ze.createRange();ye.setStart(ue.node,ue.offset),je.removeAllRanges(),Lt>Kn?(je.addRange(ye),je.extend(oe.node,oe.offset)):(ye.setEnd(oe.node,oe.offset),je.addRange(ye))}}}}for(ze=[],je=U;je=je.parentNode;)je.nodeType===1&&ze.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ze.length;U++){var Le=ze[U];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Rg=!!Qb,Jb=Qb=null}finally{$n=j,Q.p=x,K.T=f}}a.current=c,Ii=2}}function xA(){if(Ii===2){Ii=0;var a=uc,c=Dd,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=K.T,K.T=null;var x=Q.p;Q.p=2;var j=$n;$n|=4;try{ZC(a,c.alternate,c)}finally{$n=j,Q.p=x,K.T=f}}Ii=3}}function bA(){if(Ii===4||Ii===3){Ii=0,Rt();var a=uc,c=Dd,f=Id,x=oA;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ii=5:(Ii=0,Dd=uc=null,wA(a,a.pendingLanes));var j=a.pendingLanes;if(j===0&&(cc=null),ur(f),c=c.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(An,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=K.T,j=Q.p,Q.p=2,K.T=null;try{for(var P=a.onRecoverableError,z=0;z<x.length;z++){var U=x[z];P(U.value,{componentStack:U.stack})}}finally{K.T=c,Q.p=j}}(Id&3)!==0&&Sg(),Ao(a),j=a.pendingLanes,(f&4194090)!==0&&(j&42)!==0?a===zb?Lh++:(Lh=0,zb=a):Lh=0,zh(0)}}function wA(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,vh(c)))}function Sg(a){return yA(),xA(),bA(),SA()}function SA(){if(Ii!==5)return!1;var a=uc,c=Ib;Ib=0;var f=ur(Id),x=K.T,j=Q.p;try{Q.p=32>f?32:f,K.T=null,f=Lb,Lb=null;var P=uc,z=Id;if(Ii=0,Dd=uc=null,Id=0,($n&6)!==0)throw Error(r(331));var U=$n;if($n|=4,aA(P.current),nA(P,P.current,z,f),$n=U,zh(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(An,P)}catch{}return!0}finally{Q.p=j,K.T=x,wA(a,c)}}function _A(a,c,f){c=ua(f,c),c=gb(a.stateNode,c,2),a=ec(a,c,2),a!==null&&(ki(a,2),Ao(a))}function Xn(a,c,f){if(a.tag===3)_A(a,a,f);else for(;c!==null;){if(c.tag===3){_A(c,a,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(cc===null||!cc.has(x))){a=ua(f,a),f=PC(2),x=ec(c,f,2),x!==null&&(CC(f,x,c,a),ki(x,2),Ao(x));break}}c=c.return}}function Ub(a,c,f){var x=a.pingCache;if(x===null){x=a.pingCache=new rH;var j=new Set;x.set(c,j)}else j=x.get(c),j===void 0&&(j=new Set,x.set(c,j));j.has(f)||(kb=!0,j.add(f),a=lH.bind(null,a,c,f),c.then(a,a))}function lH(a,c,f){var x=a.pingCache;x!==null&&x.delete(c),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,ir===a&&(bn&f)===f&&(Lr===4||Lr===3&&(bn&62914560)===bn&&300>Wt()-Db?($n&2)===0&&Ld(a,0):Ob|=f,Rd===bn&&(Rd=0)),Ao(a)}function jA(a,c){c===0&&(c=Sa()),a=Gl(a,c),a!==null&&(ki(a,c),Ao(a))}function cH(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),jA(a,f)}function uH(a,c){var f=0;switch(a.tag){case 13:var x=a.stateNode,j=a.memoizedState;j!==null&&(f=j.retryLane);break;case 19:x=a.stateNode;break;case 22:x=a.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),jA(a,f)}function dH(a,c){return pe(a,c)}var _g=null,$d=null,Vb=!1,jg=!1,Hb=!1,wu=0;function Ao(a){a!==$d&&a.next===null&&($d===null?_g=$d=a:$d=$d.next=a),jg=!0,Vb||(Vb=!0,hH())}function zh(a,c){if(!Hb&&jg){Hb=!0;do for(var f=!1,x=_g;x!==null;){if(a!==0){var j=x.pendingLanes;if(j===0)var P=0;else{var z=x.suspendedLanes,U=x.pingedLanes;P=(1<<31-$t(42|a)+1)-1,P&=j&~(z&~U),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(f=!0,CA(x,P))}else P=bn,P=Mi(x,x===ir?P:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(P&3)===0||br(x,P)||(f=!0,CA(x,P));x=x.next}while(f);Hb=!1}}function fH(){NA()}function NA(){jg=Vb=!1;var a=0;wu!==0&&(wH()&&(a=wu),wu=0);for(var c=Wt(),f=null,x=_g;x!==null;){var j=x.next,P=TA(x,c);P===0?(x.next=null,f===null?_g=j:f.next=j,j===null&&($d=f)):(f=x,(a!==0||(P&3)!==0)&&(jg=!0)),x=j}zh(a)}function TA(a,c){for(var f=a.suspendedLanes,x=a.pingedLanes,j=a.expirationTimes,P=a.pendingLanes&-62914561;0<P;){var z=31-$t(P),U=1<<z,ee=j[z];ee===-1?((U&f)===0||(U&x)!==0)&&(j[z]=wa(U,c)):ee<=c&&(a.expiredLanes|=U),P&=~U}if(c=ir,f=bn,f=Mi(a,a===c?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x=a.callbackNode,f===0||a===c&&(Fn===2||Fn===9)||a.cancelPendingCommit!==null)return x!==null&&x!==null&&Ye(x),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||br(a,f)){if(c=f&-f,c===a.callbackPriority)return c;switch(x!==null&&Ye(x),ur(f)){case 2:case 8:f=kr;break;case 32:f=Tn;break;case 268435456:f=Be;break;default:f=Tn}return x=PA.bind(null,a),f=pe(f,x),a.callbackPriority=c,a.callbackNode=f,c}return x!==null&&x!==null&&Ye(x),a.callbackPriority=2,a.callbackNode=null,2}function PA(a,c){if(Ii!==0&&Ii!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Sg()&&a.callbackNode!==f)return null;var x=bn;return x=Mi(a,a===ir?x:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x===0?null:(cA(a,x,c),TA(a,Wt()),a.callbackNode!=null&&a.callbackNode===f?PA.bind(null,a):null)}function CA(a,c){if(Sg())return null;cA(a,c,!0)}function hH(){_H(function(){($n&6)!==0?pe(Nn,fH):NA()})}function qb(){return wu===0&&(wu=wr()),wu}function AA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yo(""+a)}function EA(a,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,a.id&&f.setAttribute("form",a.id),c.parentNode.insertBefore(f,c),a=new FormData(a),f.parentNode.removeChild(f),a}function mH(a,c,f,x,j){if(c==="submit"&&f&&f.stateNode===j){var P=AA((j[Dt]||null).action),z=x.submitter;z&&(c=(c=z[Dt]||null)?AA(c.formAction):z.getAttribute("formAction"),c!==null&&(P=c,z=null));var U=new ds("action","action",null,x,j);a.push({event:U,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(wu!==0){var ee=z?EA(j,z):new FormData(j);db(f,{pending:!0,data:ee,method:j.method,action:P},null,ee)}}else typeof P=="function"&&(U.preventDefault(),ee=z?EA(j,z):new FormData(j),db(f,{pending:!0,data:ee,method:j.method,action:P},P,ee))},currentTarget:j}]})}}for(var Kb=0;Kb<nl.length;Kb++){var Wb=nl[Kb],pH=Wb.toLowerCase(),gH=Wb[0].toUpperCase()+Wb.slice(1);Ka(pH,"on"+gH)}Ka(Up,"onAnimationEnd"),Ka(qa,"onAnimationIteration"),Ka(ou,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(F0,"onTransitionRun"),Ka(xd,"onTransitionStart"),Ka(B0,"onTransitionCancel"),Ka(mh,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($h));function MA(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var x=a[f],j=x.event;x=x.listeners;e:{var P=void 0;if(c)for(var z=x.length-1;0<=z;z--){var U=x[z],ee=U.instance,xe=U.currentTarget;if(U=U.listener,ee!==P&&j.isPropagationStopped())break e;P=U,j.currentTarget=xe;try{P(j)}catch(Ie){dg(Ie)}j.currentTarget=null,P=ee}else for(z=0;z<x.length;z++){if(U=x[z],ee=U.instance,xe=U.currentTarget,U=U.listener,ee!==P&&j.isPropagationStopped())break e;P=U,j.currentTarget=xe;try{P(j)}catch(Ie){dg(Ie)}j.currentTarget=null,P=ee}}}}function mn(a,c){var f=c[or];f===void 0&&(f=c[or]=new Set);var x=a+"__bubble";f.has(x)||(kA(c,a,2,!1),f.add(x))}function Gb(a,c,f){var x=0;c&&(x|=4),kA(f,a,x,c)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function Yb(a){if(!a[Ng]){a[Ng]=!0,rn.forEach(function(f){f!=="selectionchange"&&(vH.has(f)||Gb(f,!1,a),Gb(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Ng]||(c[Ng]=!0,Gb("selectionchange",!1,c))}}function kA(a,c,f,x){switch(nE(c)){case 2:var j=HH;break;case 8:j=qH;break;default:j=cw}f=j.bind(null,c,f,a),j=void 0,!xo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),x?j!==void 0?a.addEventListener(c,f,{capture:!0,passive:j}):a.addEventListener(c,f,!0):j!==void 0?a.addEventListener(c,f,{passive:j}):a.addEventListener(c,f,!1)}function Zb(a,c,f,x,j){var P=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var z=x.tag;if(z===3||z===4){var U=x.stateNode.containerInfo;if(U===j)break;if(z===4)for(z=x.return;z!==null;){var ee=z.tag;if((ee===3||ee===4)&&z.stateNode.containerInfo===j)return;z=z.return}for(;U!==null;){if(z=ii(U),z===null)return;if(ee=z.tag,ee===5||ee===6||ee===26||ee===27){x=P=z;continue e}U=U.parentNode}}x=x.return}Wi(function(){var xe=P,Ie=Kr(f),ze=[];e:{var _e=Vp.get(a);if(_e!==void 0){var je=ds,Ut=a;switch(a){case"keypress":if(fn(f)===0)break e;case"keydown":case"keyup":je=hh;break;case"focusin":Ut="focus",je=Ca;break;case"focusout":Ut="blur",je=Ca;break;case"beforeblur":case"afterblur":je=Ca;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=au;break;case Up:case qa:case ou:je=el;break;case mh:je=te;break;case"scroll":case"scrollend":je=Qo;break;case"wheel":je=le;break;case"copy":case"cut":case"paste":je=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=ru;break;case"toggle":case"beforetoggle":je=Pe}var Lt=(c&4)!==0,Kn=!Lt&&(a==="scroll"||a==="scrollend"),ue=Lt?_e!==null?_e+"Capture":null:_e;Lt=[];for(var oe=xe,ye;oe!==null;){var Le=oe;if(ye=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||ye===null||ue===null||(Le=jn(oe,ue),Le!=null&&Lt.push(Fh(oe,Le,ye))),Kn)break;oe=oe.return}0<Lt.length&&(_e=new je(_e,Ut,null,f,Ie),ze.push({event:_e,listeners:Lt}))}}if((c&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",je=a==="mouseout"||a==="pointerout",_e&&f!==Xo&&(Ut=f.relatedTarget||f.fromElement)&&(ii(Ut)||Ut[Gn]))break e;if((je||_e)&&(_e=Ie.window===Ie?Ie:(_e=Ie.ownerDocument)?_e.defaultView||_e.parentWindow:window,je?(Ut=f.relatedTarget||f.toElement,je=xe,Ut=Ut?ii(Ut):null,Ut!==null&&(Kn=o(Ut),Lt=Ut.tag,Ut!==Kn||Lt!==5&&Lt!==27&&Lt!==6)&&(Ut=null)):(je=null,Ut=xe),je!==Ut)){if(Lt=Us,Le="onMouseLeave",ue="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(Lt=ru,Le="onPointerLeave",ue="onPointerEnter",oe="pointer"),Kn=je==null?_e:yi(je),ye=Ut==null?_e:yi(Ut),_e=new Lt(Le,oe+"leave",je,f,Ie),_e.target=Kn,_e.relatedTarget=ye,Le=null,ii(Ie)===xe&&(Lt=new Lt(ue,oe+"enter",Ut,f,Ie),Lt.target=ye,Lt.relatedTarget=Kn,Le=Lt),Kn=Le,je&&Ut)t:{for(Lt=je,ue=Ut,oe=0,ye=Lt;ye;ye=Fd(ye))oe++;for(ye=0,Le=ue;Le;Le=Fd(Le))ye++;for(;0<oe-ye;)Lt=Fd(Lt),oe--;for(;0<ye-oe;)ue=Fd(ue),ye--;for(;oe--;){if(Lt===ue||ue!==null&&Lt===ue.alternate)break t;Lt=Fd(Lt),ue=Fd(ue)}Lt=null}else Lt=null;je!==null&&OA(ze,_e,je,Lt,!1),Ut!==null&&Kn!==null&&OA(ze,Kn,Ut,Lt,!0)}}e:{if(_e=xe?yi(xe):window,je=_e.nodeName&&_e.nodeName.toLowerCase(),je==="select"||je==="input"&&_e.type==="file")var yt=en;else if(nt(_e))if(In)yt=Tr;else{yt=Nr;var cn=Mn}else je=_e.nodeName,!je||je.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?xe&&$s(xe.elementType)&&(yt=en):yt=nr;if(yt&&(yt=yt(a,xe))){It(ze,yt,f,Ie);break e}cn&&cn(a,_e,xe),a==="focusout"&&xe&&_e.type==="number"&&xe.memoizedProps.value!=null&&qr(_e,"number",_e.value)}switch(cn=xe?yi(xe):window,a){case"focusin":(nt(cn)||cn.contentEditable==="true")&&(si=cn,ql=xe,tl=null);break;case"focusout":tl=ql=si=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Fp(ze,f,Ie);break;case"selectionchange":if(Hs)break;case"keydown":case"keyup":Fp(ze,f,Ie)}var Ct;if($e)e:{switch(a){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ht?et(a,f)&&(zt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(Je&&f.locale!=="ko"&&(ht||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ht&&(Ct=Bs()):(Ta=Ie,yn="value"in Ta?Ta.value:Ta.textContent,ht=!0)),cn=Tg(xe,zt),0<cn.length&&(zt=new la(zt,a,null,f,Ie),ze.push({event:zt,listeners:cn}),Ct?zt.data=Ct:(Ct=it(f),Ct!==null&&(zt.data=Ct)))),(Ct=Qe?Ke(a,f):ut(a,f))&&(zt=Tg(xe,"onBeforeInput"),0<zt.length&&(cn=new la("onBeforeInput","beforeinput",null,f,Ie),ze.push({event:cn,listeners:zt}),cn.data=Ct)),mH(ze,a,xe,f,Ie)}MA(ze,c)})}function Fh(a,c,f){return{instance:a,listener:c,currentTarget:f}}function Tg(a,c){for(var f=c+"Capture",x=[];a!==null;){var j=a,P=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||P===null||(j=jn(a,f),j!=null&&x.unshift(Fh(a,j,P)),j=jn(a,c),j!=null&&x.push(Fh(a,j,P))),a.tag===3)return x;a=a.return}return[]}function Fd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function OA(a,c,f,x,j){for(var P=c._reactName,z=[];f!==null&&f!==x;){var U=f,ee=U.alternate,xe=U.stateNode;if(U=U.tag,ee!==null&&ee===x)break;U!==5&&U!==26&&U!==27||xe===null||(ee=xe,j?(xe=jn(f,P),xe!=null&&z.unshift(Fh(f,xe,ee))):j||(xe=jn(f,P),xe!=null&&z.push(Fh(f,xe,ee)))),f=f.return}z.length!==0&&a.push({event:c,listeners:z})}var yH=/\r\n?/g,xH=/\u0000|\uFFFD/g;function RA(a){return(typeof a=="string"?a:""+a).replace(yH,`
`).replace(xH,"")}function DA(a,c){return c=RA(c),RA(a)===c}function Pg(){}function qn(a,c,f,x,j,P){switch(f){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||er(a,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&er(a,""+x);break;case"className":Dn(a,"class",x);break;case"tabIndex":Dn(a,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(a,f,x);break;case"style":ss(a,x,P);break;case"data":if(c!=="object"){Dn(a,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||f!=="href")){a.removeAttribute(f);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(f);break}x=yo(""+x),a.setAttribute(f,x);break;case"action":case"formAction":if(typeof x=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(f==="formAction"?(c!=="input"&&qn(a,c,"name",j.name,j,null),qn(a,c,"formEncType",j.formEncType,j,null),qn(a,c,"formMethod",j.formMethod,j,null),qn(a,c,"formTarget",j.formTarget,j,null)):(qn(a,c,"encType",j.encType,j,null),qn(a,c,"method",j.method,j,null),qn(a,c,"target",j.target,j,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(f);break}x=yo(""+x),a.setAttribute(f,x);break;case"onClick":x!=null&&(a.onclick=Pg);break;case"onScroll":x!=null&&mn("scroll",a);break;case"onScrollEnd":x!=null&&mn("scrollend",a);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(f=x.__html,f!=null){if(j.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":a.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){a.removeAttribute("xlink:href");break}f=yo(""+x),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(f,""+x):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":x===!0?a.setAttribute(f,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(f,x):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?a.setAttribute(f,x):a.removeAttribute(f);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?a.removeAttribute(f):a.setAttribute(f,x);break;case"popover":mn("beforetoggle",a),mn("toggle",a),hr(a,"popover",x);break;case"xlinkActuate":mr(a,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":mr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":mr(a,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":mr(a,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":mr(a,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":mr(a,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":mr(a,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":mr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":mr(a,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":hr(a,"is",x);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Jc.get(f)||f,hr(a,f,x))}}function Xb(a,c,f,x,j,P){switch(f){case"style":ss(a,x,P);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(f=x.__html,f!=null){if(j.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof x=="string"?er(a,x):(typeof x=="number"||typeof x=="bigint")&&er(a,""+x);break;case"onScroll":x!=null&&mn("scroll",a);break;case"onScrollEnd":x!=null&&mn("scrollend",a);break;case"onClick":x!=null&&(a.onclick=Pg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(j=f.endsWith("Capture"),c=f.slice(2,j?f.length-7:void 0),P=a[Dt]||null,P=P!=null?P[f]:null,typeof P=="function"&&a.removeEventListener(c,P,j),typeof x=="function")){typeof P!="function"&&P!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(c,x,j);break e}f in a?a[f]=x:x===!0?a.setAttribute(f,""):hr(a,f,x)}}}function Li(a,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",a),mn("load",a);var x=!1,j=!1,P;for(P in f)if(f.hasOwnProperty(P)){var z=f[P];if(z!=null)switch(P){case"src":x=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qn(a,c,P,z,f,null)}}j&&qn(a,c,"srcSet",f.srcSet,f,null),x&&qn(a,c,"src",f.src,f,null);return;case"input":mn("invalid",a);var U=P=z=j=null,ee=null,xe=null;for(x in f)if(f.hasOwnProperty(x)){var Ie=f[x];if(Ie!=null)switch(x){case"name":j=Ie;break;case"type":z=Ie;break;case"checked":ee=Ie;break;case"defaultChecked":xe=Ie;break;case"value":P=Ie;break;case"defaultValue":U=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,c));break;default:qn(a,c,x,Ie,f,null)}}Ki(a,P,U,ee,xe,z,j,!1),Ft(a);return;case"select":mn("invalid",a),x=z=P=null;for(j in f)if(f.hasOwnProperty(j)&&(U=f[j],U!=null))switch(j){case"value":P=U;break;case"defaultValue":z=U;break;case"multiple":x=U;default:qn(a,c,j,U,f,null)}c=P,f=z,a.multiple=!!x,c!=null?Ht(a,!!x,c,!1):f!=null&&Ht(a,!!x,f,!0);return;case"textarea":mn("invalid",a),P=j=x=null;for(z in f)if(f.hasOwnProperty(z)&&(U=f[z],U!=null))switch(z){case"value":x=U;break;case"defaultValue":j=U;break;case"children":P=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:qn(a,c,z,U,f,null)}_r(a,x,j,P),Ft(a);return;case"option":for(ee in f)f.hasOwnProperty(ee)&&(x=f[ee],x!=null)&&(ee==="selected"?a.selected=x&&typeof x!="function"&&typeof x!="symbol":qn(a,c,ee,x,f,null));return;case"dialog":mn("beforetoggle",a),mn("toggle",a),mn("cancel",a),mn("close",a);break;case"iframe":case"object":mn("load",a);break;case"video":case"audio":for(x=0;x<$h.length;x++)mn($h[x],a);break;case"image":mn("error",a),mn("load",a);break;case"details":mn("toggle",a);break;case"embed":case"source":case"link":mn("error",a),mn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in f)if(f.hasOwnProperty(xe)&&(x=f[xe],x!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qn(a,c,xe,x,f,null)}return;default:if($s(c)){for(Ie in f)f.hasOwnProperty(Ie)&&(x=f[Ie],x!==void 0&&Xb(a,c,Ie,x,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(x=f[U],x!=null&&qn(a,c,U,x,f,null))}function bH(a,c,f,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,P=null,z=null,U=null,ee=null,xe=null,Ie=null;for(je in f){var ze=f[je];if(f.hasOwnProperty(je)&&ze!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ee=ze;default:x.hasOwnProperty(je)||qn(a,c,je,null,x,ze)}}for(var _e in x){var je=x[_e];if(ze=f[_e],x.hasOwnProperty(_e)&&(je!=null||ze!=null))switch(_e){case"type":P=je;break;case"name":j=je;break;case"checked":xe=je;break;case"defaultChecked":Ie=je;break;case"value":z=je;break;case"defaultValue":U=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,c));break;default:je!==ze&&qn(a,c,_e,je,x,ze)}}dn(a,z,U,ee,xe,Ie,P,j);return;case"select":je=z=U=_e=null;for(P in f)if(ee=f[P],f.hasOwnProperty(P)&&ee!=null)switch(P){case"value":break;case"multiple":je=ee;default:x.hasOwnProperty(P)||qn(a,c,P,null,x,ee)}for(j in x)if(P=x[j],ee=f[j],x.hasOwnProperty(j)&&(P!=null||ee!=null))switch(j){case"value":_e=P;break;case"defaultValue":U=P;break;case"multiple":z=P;default:P!==ee&&qn(a,c,j,P,x,ee)}c=U,f=z,x=je,_e!=null?Ht(a,!!f,_e,!1):!!x!=!!f&&(c!=null?Ht(a,!!f,c,!0):Ht(a,!!f,f?[]:"",!1));return;case"textarea":je=_e=null;for(U in f)if(j=f[U],f.hasOwnProperty(U)&&j!=null&&!x.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:qn(a,c,U,null,x,j)}for(z in x)if(j=x[z],P=f[z],x.hasOwnProperty(z)&&(j!=null||P!=null))switch(z){case"value":_e=j;break;case"defaultValue":je=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:j!==P&&qn(a,c,z,j,x,P)}Vn(a,_e,je);return;case"option":for(var Ut in f)_e=f[Ut],f.hasOwnProperty(Ut)&&_e!=null&&!x.hasOwnProperty(Ut)&&(Ut==="selected"?a.selected=!1:qn(a,c,Ut,null,x,_e));for(ee in x)_e=x[ee],je=f[ee],x.hasOwnProperty(ee)&&_e!==je&&(_e!=null||je!=null)&&(ee==="selected"?a.selected=_e&&typeof _e!="function"&&typeof _e!="symbol":qn(a,c,ee,_e,x,je));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in f)_e=f[Lt],f.hasOwnProperty(Lt)&&_e!=null&&!x.hasOwnProperty(Lt)&&qn(a,c,Lt,null,x,_e);for(xe in x)if(_e=x[xe],je=f[xe],x.hasOwnProperty(xe)&&_e!==je&&(_e!=null||je!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,c));break;default:qn(a,c,xe,_e,x,je)}return;default:if($s(c)){for(var Kn in f)_e=f[Kn],f.hasOwnProperty(Kn)&&_e!==void 0&&!x.hasOwnProperty(Kn)&&Xb(a,c,Kn,void 0,x,_e);for(Ie in x)_e=x[Ie],je=f[Ie],!x.hasOwnProperty(Ie)||_e===je||_e===void 0&&je===void 0||Xb(a,c,Ie,_e,x,je);return}}for(var ue in f)_e=f[ue],f.hasOwnProperty(ue)&&_e!=null&&!x.hasOwnProperty(ue)&&qn(a,c,ue,null,x,_e);for(ze in x)_e=x[ze],je=f[ze],!x.hasOwnProperty(ze)||_e===je||_e==null&&je==null||qn(a,c,ze,_e,x,je)}var Qb=null,Jb=null;function Cg(a){return a.nodeType===9?a:a.ownerDocument}function IA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LA(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function ew(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var tw=null;function wH(){var a=window.event;return a&&a.type==="popstate"?a===tw?!1:(tw=a,!0):(tw=null,!1)}var zA=typeof setTimeout=="function"?setTimeout:void 0,SH=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,_H=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(a){return $A.resolve(null).then(a).catch(jH)}:zA;function jH(a){setTimeout(function(){throw a})}function fc(a){return a==="head"}function FA(a,c){var f=c,x=0,j=0;do{var P=f.nextSibling;if(a.removeChild(f),P&&P.nodeType===8)if(f=P.data,f==="/$"){if(0<x&&8>x){f=x;var z=a.ownerDocument;if(f&1&&Bh(z.documentElement),f&2&&Bh(z.body),f&4)for(f=z.head,Bh(f),z=f.firstChild;z;){var U=z.nextSibling,ee=z.nodeName;z[vi]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&z.rel.toLowerCase()==="stylesheet"||f.removeChild(z),z=U}}if(j===0){a.removeChild(P),Yh(c);return}j--}else f==="$"||f==="$?"||f==="$!"?j++:x=f.charCodeAt(0)-48;else x=0;f=P}while(f);Yh(c)}function nw(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":nw(f),ja(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function NH(a,c,f,x){for(;a.nodeType===1;){var j=f;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(x){if(!a[vi])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(P=a.getAttribute("rel"),P==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(P!==j.rel||a.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||a.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||a.getAttribute("title")!==(j.title==null?null:j.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(P=a.getAttribute("src"),(P!==(j.src==null?null:j.src)||a.getAttribute("type")!==(j.type==null?null:j.type)||a.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&P&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var P=j.name==null?null:""+j.name;if(j.type==="hidden"&&a.getAttribute("name")===P)return a}else return a;if(a=Gs(a.nextSibling),a===null)break}return null}function TH(a,c,f){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Gs(a.nextSibling),a===null))return null;return a}function rw(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function PH(a,c){var f=a.ownerDocument;if(a.data!=="$?"||f.readyState==="complete")c();else{var x=function(){c(),f.removeEventListener("DOMContentLoaded",x)};f.addEventListener("DOMContentLoaded",x),a._reactRetry=x}}function Gs(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var iw=null;function BA(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}function UA(a,c,f){switch(c=Cg(f),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Bh(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);ja(a)}var xs=new Map,VA=new Set;function Ag(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ml=Q.d;Q.d={f:CH,r:AH,D:EH,C:MH,L:kH,m:OH,X:DH,S:RH,M:IH};function CH(){var a=ml.f(),c=bg();return a||c}function AH(a){var c=Sr(a);c!==null&&c.tag===5&&c.type==="form"?cC(c):ml.r(a)}var Bd=typeof document>"u"?null:document;function HA(a,c,f){var x=Bd;if(x&&typeof c=="string"&&c){var j=vn(c);j='link[rel="'+a+'"][href="'+j+'"]',typeof f=="string"&&(j+='[crossorigin="'+f+'"]'),VA.has(j)||(VA.add(j),a={rel:a,crossOrigin:f,href:c},x.querySelector(j)===null&&(c=x.createElement("link"),Li(c,"link",a),Yn(c),x.head.appendChild(c)))}}function EH(a){ml.D(a),HA("dns-prefetch",a,null)}function MH(a,c){ml.C(a,c),HA("preconnect",a,c)}function kH(a,c,f){ml.L(a,c,f);var x=Bd;if(x&&a&&c){var j='link[rel="preload"][as="'+vn(c)+'"]';c==="image"&&f&&f.imageSrcSet?(j+='[imagesrcset="'+vn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(j+='[imagesizes="'+vn(f.imageSizes)+'"]')):j+='[href="'+vn(a)+'"]';var P=j;switch(c){case"style":P=Ud(a);break;case"script":P=Vd(a)}xs.has(P)||(a=p({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:a,as:c},f),xs.set(P,a),x.querySelector(j)!==null||c==="style"&&x.querySelector(Uh(P))||c==="script"&&x.querySelector(Vh(P))||(c=x.createElement("link"),Li(c,"link",a),Yn(c),x.head.appendChild(c)))}}function OH(a,c){ml.m(a,c);var f=Bd;if(f&&a){var x=c&&typeof c.as=="string"?c.as:"script",j='link[rel="modulepreload"][as="'+vn(x)+'"][href="'+vn(a)+'"]',P=j;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Vd(a)}if(!xs.has(P)&&(a=p({rel:"modulepreload",href:a},c),xs.set(P,a),f.querySelector(j)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Vh(P)))return}x=f.createElement("link"),Li(x,"link",a),Yn(x),f.head.appendChild(x)}}}function RH(a,c,f){ml.S(a,c,f);var x=Bd;if(x&&a){var j=oa(x).hoistableStyles,P=Ud(a);c=c||"default";var z=j.get(P);if(!z){var U={loading:0,preload:null};if(z=x.querySelector(Uh(P)))U.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":c},f),(f=xs.get(P))&&aw(a,f);var ee=z=x.createElement("link");Yn(ee),Li(ee,"link",a),ee._p=new Promise(function(xe,Ie){ee.onload=xe,ee.onerror=Ie}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Eg(z,c,x)}z={type:"stylesheet",instance:z,count:1,state:U},j.set(P,z)}}}function DH(a,c){ml.X(a,c);var f=Bd;if(f&&a){var x=oa(f).hoistableScripts,j=Vd(a),P=x.get(j);P||(P=f.querySelector(Vh(j)),P||(a=p({src:a,async:!0},c),(c=xs.get(j))&&sw(a,c),P=f.createElement("script"),Yn(P),Li(P,"link",a),f.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},x.set(j,P))}}function IH(a,c){ml.M(a,c);var f=Bd;if(f&&a){var x=oa(f).hoistableScripts,j=Vd(a),P=x.get(j);P||(P=f.querySelector(Vh(j)),P||(a=p({src:a,async:!0,type:"module"},c),(c=xs.get(j))&&sw(a,c),P=f.createElement("script"),Yn(P),Li(P,"link",a),f.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},x.set(j,P))}}function qA(a,c,f,x){var j=(j=be.current)?Ag(j):null;if(!j)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Ud(f.href),f=oa(j).hoistableStyles,x=f.get(c),x||(x={type:"style",instance:null,count:0,state:null},f.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Ud(f.href);var P=oa(j).hoistableStyles,z=P.get(a);if(z||(j=j.ownerDocument||j,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(a,z),(P=j.querySelector(Uh(a)))&&!P._p&&(z.instance=P,z.state.loading=5),xs.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},xs.set(a,f),P||LH(j,a,f,z.state))),c&&x===null)throw Error(r(528,""));return z}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Vd(f),f=oa(j).hoistableScripts,x=f.get(c),x||(x={type:"script",instance:null,count:0,state:null},f.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ud(a){return'href="'+vn(a)+'"'}function Uh(a){return'link[rel="stylesheet"]['+a+"]"}function KA(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function LH(a,c,f,x){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=a.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),Li(c,"link",f),Yn(c),a.head.appendChild(c))}function Vd(a){return'[src="'+vn(a)+'"]'}function Vh(a){return"script[async]"+a}function WA(a,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var x=a.querySelector('style[data-href~="'+vn(f.href)+'"]');if(x)return c.instance=x,Yn(x),x;var j=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return x=(a.ownerDocument||a).createElement("style"),Yn(x),Li(x,"style",j),Eg(x,f.precedence,a),c.instance=x;case"stylesheet":j=Ud(f.href);var P=a.querySelector(Uh(j));if(P)return c.state.loading|=4,c.instance=P,Yn(P),P;x=KA(f),(j=xs.get(j))&&aw(x,j),P=(a.ownerDocument||a).createElement("link"),Yn(P);var z=P;return z._p=new Promise(function(U,ee){z.onload=U,z.onerror=ee}),Li(P,"link",x),c.state.loading|=4,Eg(P,f.precedence,a),c.instance=P;case"script":return P=Vd(f.src),(j=a.querySelector(Vh(P)))?(c.instance=j,Yn(j),j):(x=f,(j=xs.get(P))&&(x=p({},f),sw(x,j)),a=a.ownerDocument||a,j=a.createElement("script"),Yn(j),Li(j,"link",x),a.head.appendChild(j),c.instance=j);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,Eg(x,f.precedence,a));return c.instance}function Eg(a,c,f){for(var x=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=x.length?x[x.length-1]:null,P=j,z=0;z<x.length;z++){var U=x[z];if(U.dataset.precedence===c)P=U;else if(P!==j)break}P?P.parentNode.insertBefore(a,P.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(a,c.firstChild))}function aw(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function sw(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Mg=null;function GA(a,c,f){if(Mg===null){var x=new Map,j=Mg=new Map;j.set(f,x)}else j=Mg,x=j.get(f),x||(x=new Map,j.set(f,x));if(x.has(a))return x;for(x.set(a,null),f=f.getElementsByTagName(a),j=0;j<f.length;j++){var P=f[j];if(!(P[vi]||P[mt]||a==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var z=P.getAttribute(c)||"";z=a+z;var U=x.get(z);U?U.push(P):x.set(z,[P])}}return x}function YA(a,c,f){a=a.ownerDocument||a,a.head.insertBefore(f,c==="title"?a.querySelector("head > title"):null)}function zH(a,c,f){if(f===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(a=c.disabled,typeof c.precedence=="string"&&a==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function ZA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Hh=null;function $H(){}function FH(a,c,f){if(Hh===null)throw Error(r(475));var x=Hh;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var j=Ud(f.href),P=a.querySelector(Uh(j));if(P){a=P._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(x.count++,x=kg.bind(x),a.then(x,x)),c.state.loading|=4,c.instance=P,Yn(P);return}P=a.ownerDocument||a,f=KA(f),(j=xs.get(j))&&aw(f,j),P=P.createElement("link"),Yn(P);var z=P;z._p=new Promise(function(U,ee){z.onload=U,z.onerror=ee}),Li(P,"link",f),c.instance=P}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(x.count++,c=kg.bind(x),a.addEventListener("load",c),a.addEventListener("error",c))}}function BH(){if(Hh===null)throw Error(r(475));var a=Hh;return a.stylesheets&&a.count===0&&ow(a,a.stylesheets),0<a.count?function(c){var f=setTimeout(function(){if(a.stylesheets&&ow(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f)}}:null}function kg(){if(this.count--,this.count===0){if(this.stylesheets)ow(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Og=null;function ow(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Og=new Map,c.forEach(UH,a),Og=null,kg.call(a))}function UH(a,c){if(!(c.state.loading&4)){var f=Og.get(a);if(f)var x=f.get(null);else{f=new Map,Og.set(a,f);for(var j=a.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<j.length;P++){var z=j[P];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(f.set(z.dataset.precedence,z),x=z)}x&&f.set(null,x)}j=c.instance,z=j.getAttribute("data-precedence"),P=f.get(z)||x,P===x&&f.set(null,j),f.set(z,j),this.count++,x=kg.bind(this),j.addEventListener("load",x),j.addEventListener("error",x),P?P.parentNode.insertBefore(j,P.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(j,a.firstChild)),c.state.loading|=4}}var qh={$$typeof:E,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function VH(a,c,f,x,j,P,z,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=x,this.onUncaughtError=j,this.onCaughtError=P,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function XA(a,c,f,x,j,P,z,U,ee,xe,Ie,ze){return a=new VH(a,c,f,z,U,ee,xe,ze),c=1,P===!0&&(c|=24),P=fa(3,null,null,c),a.current=P,P.stateNode=a,c=U0(),c.refCount++,a.pooledCache=c,c.refCount++,P.memoizedState={element:x,isDehydrated:f,cache:c},K0(P),a}function QA(a){return a?(a=al,a):al}function JA(a,c,f,x,j,P){j=QA(j),x.context===null?x.context=j:x.pendingContext=j,x=Jl(c),x.payload={element:f},P=P===void 0?null:P,P!==null&&(x.callback=P),f=ec(a,x,c),f!==null&&(Qa(f,a,c),wh(f,a,c))}function eE(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function lw(a,c){eE(a,c),(a=a.alternate)&&eE(a,c)}function tE(a){if(a.tag===13){var c=Gl(a,67108864);c!==null&&Qa(c,a,67108864),lw(a,67108864)}}var Rg=!0;function HH(a,c,f,x){var j=K.T;K.T=null;var P=Q.p;try{Q.p=2,cw(a,c,f,x)}finally{Q.p=P,K.T=j}}function qH(a,c,f,x){var j=K.T;K.T=null;var P=Q.p;try{Q.p=8,cw(a,c,f,x)}finally{Q.p=P,K.T=j}}function cw(a,c,f,x){if(Rg){var j=uw(x);if(j===null)Zb(a,c,x,Dg,f),rE(a,x);else if(WH(j,a,c,f,x))x.stopPropagation();else if(rE(a,x),c&4&&-1<KH.indexOf(a)){for(;j!==null;){var P=Sr(j);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var z=Ir(P.pendingLanes);if(z!==0){var U=P;for(U.pendingLanes|=2,U.entangledLanes|=2;z;){var ee=1<<31-$t(z);U.entanglements[1]|=ee,z&=~ee}Ao(P),($n&6)===0&&(yg=Wt()+500,zh(0))}}break;case 13:U=Gl(P,2),U!==null&&Qa(U,P,2),bg(),lw(P,2)}if(P=uw(x),P===null&&Zb(a,c,x,Dg,f),P===j)break;j=P}j!==null&&x.stopPropagation()}else Zb(a,c,x,null,f)}}function uw(a){return a=Kr(a),dw(a)}var Dg=null;function dw(a){if(Dg=null,a=ii(a),a!==null){var c=o(a);if(c===null)a=null;else{var f=c.tag;if(f===13){if(a=l(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Dg=a,null}function nE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case Nn:return 2;case kr:return 8;case Tn:case he:return 32;case Be:return 268435456;default:return 32}default:return 32}}var fw=!1,hc=null,mc=null,pc=null,Kh=new Map,Wh=new Map,gc=[],KH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rE(a,c){switch(a){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":pc=null;break;case"pointerover":case"pointerout":Kh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(c.pointerId)}}function Gh(a,c,f,x,j,P){return a===null||a.nativeEvent!==P?(a={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:P,targetContainers:[j]},c!==null&&(c=Sr(c),c!==null&&tE(c)),a):(a.eventSystemFlags|=x,c=a.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),a)}function WH(a,c,f,x,j){switch(c){case"focusin":return hc=Gh(hc,a,c,f,x,j),!0;case"dragenter":return mc=Gh(mc,a,c,f,x,j),!0;case"mouseover":return pc=Gh(pc,a,c,f,x,j),!0;case"pointerover":var P=j.pointerId;return Kh.set(P,Gh(Kh.get(P)||null,a,c,f,x,j)),!0;case"gotpointercapture":return P=j.pointerId,Wh.set(P,Gh(Wh.get(P)||null,a,c,f,x,j)),!0}return!1}function iE(a){var c=ii(a.target);if(c!==null){var f=o(c);if(f!==null){if(c=f.tag,c===13){if(c=l(f),c!==null){a.blockedOn=c,On(a.priority,function(){if(f.tag===13){var x=Xa();x=Xt(x);var j=Gl(f,x);j!==null&&Qa(j,f,x),lw(f,x)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ig(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=uw(a.nativeEvent);if(f===null){f=a.nativeEvent;var x=new f.constructor(f.type,f);Xo=x,f.target.dispatchEvent(x),Xo=null}else return c=Sr(f),c!==null&&tE(c),a.blockedOn=f,!1;c.shift()}return!0}function aE(a,c,f){Ig(a)&&f.delete(c)}function GH(){fw=!1,hc!==null&&Ig(hc)&&(hc=null),mc!==null&&Ig(mc)&&(mc=null),pc!==null&&Ig(pc)&&(pc=null),Kh.forEach(aE),Wh.forEach(aE)}function Lg(a,c){a.blockedOn===c&&(a.blockedOn=null,fw||(fw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GH)))}var zg=null;function sE(a){zg!==a&&(zg=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zg===a&&(zg=null);for(var c=0;c<a.length;c+=3){var f=a[c],x=a[c+1],j=a[c+2];if(typeof x!="function"){if(dw(x||f)===null)continue;break}var P=Sr(f);P!==null&&(a.splice(c,3),c-=3,db(P,{pending:!0,data:j,method:f.method,action:x},x,j))}}))}function Yh(a){function c(ee){return Lg(ee,a)}hc!==null&&Lg(hc,a),mc!==null&&Lg(mc,a),pc!==null&&Lg(pc,a),Kh.forEach(c),Wh.forEach(c);for(var f=0;f<gc.length;f++){var x=gc[f];x.blockedOn===a&&(x.blockedOn=null)}for(;0<gc.length&&(f=gc[0],f.blockedOn===null);)iE(f),f.blockedOn===null&&gc.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(x=0;x<f.length;x+=3){var j=f[x],P=f[x+1],z=j[Dt]||null;if(typeof P=="function")z||sE(f);else if(z){var U=null;if(P&&P.hasAttribute("formAction")){if(j=P,z=P[Dt]||null)U=z.formAction;else if(dw(j)!==null)continue}else U=z.action;typeof U=="function"?f[x+1]=U:(f.splice(x,3),x-=3),sE(f)}}}function hw(a){this._internalRoot=a}$g.prototype.render=hw.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,x=Xa();JA(f,x,a,c,null,null)},$g.prototype.unmount=hw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;JA(a.current,2,null,a,null,null),bg(),c[Gn]=null}};function $g(a){this._internalRoot=a}$g.prototype.unstable_scheduleHydration=function(a){if(a){var c=Yt();a={blockedOn:null,target:a,priority:c};for(var f=0;f<gc.length&&c!==0&&c<gc[f].priority;f++);gc.splice(f,0,a),f===0&&iE(a)}};var oE=t.version;if(oE!=="19.1.0")throw Error(r(527,oE,"19.1.0"));Q.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(c),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var YH={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{An=Fg.inject(YH),tt=Fg}catch{}}return Xh.createRoot=function(a,c){if(!i(a))throw Error(r(299));var f=!1,x="",j=_C,P=jC,z=NC,U=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(U=c.unstable_transitionCallbacks)),c=XA(a,1,!1,null,null,f,x,j,P,z,U,null),a[Gn]=c.current,Yb(a),new hw(c)},Xh.hydrateRoot=function(a,c,f){if(!i(a))throw Error(r(299));var x=!1,j="",P=_C,z=jC,U=NC,ee=null,xe=null;return f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onUncaughtError!==void 0&&(P=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ee=f.unstable_transitionCallbacks),f.formState!==void 0&&(xe=f.formState)),c=XA(a,1,!0,c,f??null,x,j,P,z,U,ee,xe),c.context=QA(null),f=c.current,x=Xa(),x=Xt(x),j=Jl(x),j.callback=null,ec(f,j,x),f=x,c.current.lanes=f,ki(c,f),Ao(c),a[Gn]=c.current,Yb(a),new $g(c)},Xh.version="19.1.0",Xh}var vE;function aq(){if(vE)return pw.exports;vE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pw.exports=iq(),pw.exports}var sq=aq(),v=Lf();const Ge=mo(v),np=XH({__proto__:null,default:Ge},[v]);function oq(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,l=[],u="",h=e.split("/");for(h[0]||h.shift();i=h.shift();)n=i[0],n==="*"?(l.push(n),u+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),l.push(i.substring(1,~r?r:~o?o:i.length)),u+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(u+=(~r?"?":"")+"\\"+i.substring(o))):u+="/"+i;return{keys:l,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var bw={exports:{}},ww={};var yE;function lq(){if(yE)return ww;yE=1;var e=Lf();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(g,b){var _=b(),N=r({inst:{value:_,getSnapshot:b}}),S=N[0].inst,T=N[1];return o(function(){S.value=_,S.getSnapshot=b,h(S)&&T({inst:S})},[g,_,b]),i(function(){return h(S)&&T({inst:S}),g(function(){h(S)&&T({inst:S})})},[g]),l(_),_}function h(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return ww.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ww}var xE;function t4(){return xE||(xE=1,bw.exports=lq()),bw.exports}var cq=t4();const uq=np.useInsertionEffect,dq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fq=dq?v.useLayoutEffect:v.useEffect,hq=uq||fq,n4=e=>{const t=v.useRef([e,(...n)=>t[0](...n)]).current;return hq(()=>{t[0]=e}),t[1]},mq="popstate",Kj="pushState",Wj="replaceState",pq="hashchange",bE=[mq,Kj,Wj,pq],gq=e=>{for(const t of bE)addEventListener(t,e);return()=>{for(const t of bE)removeEventListener(t,e)}},r4=(e,t)=>cq.useSyncExternalStore(gq,e,t),wE=()=>location.search,vq=({ssrSearch:e}={})=>r4(wE,e!=null?()=>e:wE),SE=()=>location.pathname,yq=({ssrPath:e}={})=>r4(SE,e!=null?()=>e:SE),xq=(e,{replace:t=!1,state:n=null}={})=>history[t?Wj:Kj](n,"",e),bq=(e={})=>[yq(e),xq],_E=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_E]>"u"){for(const e of[Kj,Wj]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,_E,{value:!0})}const wq=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",i4=(e="")=>e==="/"?"":e,Sq=(e,t)=>e[0]==="~"?e.slice(1):i4(t)+e,_q=(e="",t)=>wq(IS(i4(e)),IS(t)),jq=e=>e[0]==="?"?e.slice(1):e,IS=e=>{try{return decodeURI(e)}catch{return e}},Nq=e=>IS(jq(e)),a4={hook:bq,searchHook:vq,parser:oq,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},s4=v.createContext(a4),sd=()=>v.useContext(s4),o4={},l4=v.createContext(o4),c4=()=>v.useContext(l4),fx=e=>{const[t,n]=e.hook(e);return[_q(e.base,t),n4((r,i)=>e.aroundNav(n,Sq(r,e.base),i))]},Vr=()=>fx(sd()),u4=()=>{const e=sd();return Nq(e.searchHook(e))},Gj=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),l=i.exec(n)||[],[u,...h]=l;return u!==void 0?[!0,(()=>{const m=o!==!1?Object.fromEntries(o.map((g,b)=>[g,h[b]])):l.groups;let p={...h};return m&&Object.assign(p,m),p})(),...r?[u]:[]]:[!1,null]},d4=e=>Gj(sd().parser,e,Vr()[0]),Tq=({children:e,...t})=>{const n=sd(),r=t.hook?a4:n;let i=r;const[o,l=t.ssrSearch??""]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=l,t.ssrPath=o),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let u=v.useRef({}),h=u.current,m=h;for(let p in r){const g=p==="base"?r[p]+(t[p]??""):t[p]??r[p];h===m&&g!==m[p]&&(u.current=m={...m}),m[p]=g,(g!==r[p]||g!==i[p])&&(i=m)}return v.createElement(s4.Provider,{value:i,children:e})},jE=({children:e,component:t},n)=>t?v.createElement(t,{params:n}):typeof e=="function"?e(n):e,Pq=e=>{let t=v.useRef(o4);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},zr=({path:e,nest:t,match:n,...r})=>{const i=sd(),[o]=fx(i),[l,u,h]=n??Gj(i.parser,e,o,t),m=Pq({...c4(),...u});if(!l)return null;const p=h?v.createElement(Tq,{base:h},jE(r,m)):jE(r,m);return v.createElement(l4.Provider,{value:m,children:p})},NE=v.forwardRef((e,t)=>{const n=sd(),[r,i]=fx(n),{to:o="",href:l=o,onClick:u,asChild:h,children:m,className:p,replace:g,state:b,transition:_,...N}=e,S=n4(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(u?.(C),C.defaultPrevented||(C.preventDefault(),i(l,e)))}),T=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return h&&v.isValidElement(m)?v.cloneElement(m,{onClick:S,href:T}):v.createElement("a",{...N,onClick:S,href:T,className:p?.call?p(r===l):p,children:m,ref:t})}),f4=e=>Array.isArray(e)?e.flatMap(t=>f4(t&&t.type===v.Fragment?t.props.children:t)):[e],Cq=({children:e,location:t})=>{const n=sd(),[r]=fx(n);for(const i of f4(e)){let o=0;if(v.isValidElement(i)&&(o=Gj(n.parser,i.props.path,t||r,i.props.nest))[0])return v.cloneElement(i,{match:o})}return null};var zf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Aq={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Eq=class{#e=Aq;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Mu=new Eq;function Mq(e){setTimeout(e,0)}var Ku=typeof window>"u"||"Deno"in globalThis;function ha(){}function kq(e,t){return typeof e=="function"?e(t):e}function LS(e){return typeof e=="number"&&e>=0&&e!==1/0}function h4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ec(e,t){return typeof e=="function"?e(t):e}function _s(e,t){return typeof e=="function"?e(t):e}function TE(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==Yj(l,t.options))return!1}else if(!Cm(t.queryKey,l))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||o&&!o(t))}function PE(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Wu(t.options.mutationKey)!==Wu(o))return!1}else if(!Cm(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Yj(e,t){return(t?.queryKeyHashFn||Wu)(e)}function Wu(e){return JSON.stringify(e,(t,n)=>zS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Cm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Cm(e[n],t[n])):!1}var Oq=Object.prototype.hasOwnProperty;function m4(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=CE(e)&&CE(t);if(!r&&!(zS(e)&&zS(t)))return t;const o=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),u=l.length,h=r?new Array(u):{};let m=0;for(let p=0;p<u;p++){const g=r?p:l[p],b=e[g],_=t[g];if(b===_){h[g]=b,(r?p<o:Oq.call(e,g))&&m++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){h[g]=_;continue}const N=m4(b,_,n+1);h[g]=N,N===b&&m++}return o===u&&m===o?e:h}function Hv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function CE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zS(e){if(!AE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!AE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AE(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rq(e){return new Promise(t=>{Mu.setTimeout(t,e)})}function $S(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?m4(e,t):t}function Dq(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Iq(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Zj=Symbol();function p4(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Zj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Xj(e,t){return typeof e=="function"?e(...t):!!e}function Lq(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var zq=class extends zf{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ku&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Qj=new zq;function FS(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var $q=Mq;function Fq(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=$q;const o=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;t++;try{h=u()}finally{t--,t||l()}return h},batchCalls:u=>(...h)=>{o(()=>{u(...h)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var fi=Fq(),Bq=class extends zf{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ku&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},qv=new Bq;function Uq(e){return Math.min(1e3*2**e,3e4)}function g4(e){return(e??"online")==="online"?qv.isOnline():!0}var BS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function v4(e){let t=!1,n=0,r;const i=FS(),o=()=>i.status!=="pending",l=S=>{if(!o()){const T=new BS(S);b(T),e.onCancel?.(T)}},u=()=>{t=!0},h=()=>{t=!1},m=()=>Qj.isFocused()&&(e.networkMode==="always"||qv.isOnline())&&e.canRun(),p=()=>g4(e.networkMode)&&e.canRun(),g=S=>{o()||(r?.(),i.resolve(S))},b=S=>{o()||(r?.(),i.reject(S))},_=()=>new Promise(S=>{r=T=>{(o()||m())&&S(T)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),N=()=>{if(o())return;let S;const T=n===0?e.initialPromise:void 0;try{S=T??e.fn()}catch(C){S=Promise.reject(C)}Promise.resolve(S).then(g).catch(C=>{if(o())return;const M=e.retry??(Ku?0:3),E=e.retryDelay??Uq,k=typeof E=="function"?E(n,C):E,R=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,C);if(t||!R){b(C);return}n++,e.onFail?.(n,C),Rq(k).then(()=>m()?void 0:_()).then(()=>{t?b(C):N()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:p,start:()=>(p()?N():_().then(N),i)}}var y4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LS(this.gcTime)&&(this.#e=Mu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ku?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Mu.clearTimeout(this.#e),this.#e=void 0)}},Vq=class extends y4{#e;#t;#n;#i;#r;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ME(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ME(this.options);t.data!==void 0&&(this.setState(EE(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=$S(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ha).catch(ha):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>_s(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ec(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!h4(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const u=p4(this.options,t),m=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(u,m,this):u(m)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#a({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=v4({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof BS&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,h)=>{this.#a({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof BS){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#a({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...x4(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...EE(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),fi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function x4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function EE(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ME(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hq=class extends zf{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#o=FS(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#s;#o;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),kE(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return US(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return US(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Hv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&OE(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||_s(this.options.enabled,this.#t)!==_s(t.enabled,this.#t)||Ec(this.options.staleTime,this.#t)!==Ec(t.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||_s(this.options.enabled,this.#t)!==_s(t.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Kq(this,n)&&(this.#i=n,this.#s=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ha)),t}#g(){this.#b();const e=Ec(this.options.staleTime,this.#t);if(Ku||this.#i.isStale||!LS(e))return;const n=h4(this.#i.dataUpdatedAt,e)+1;this.#c=Mu.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Ku||_s(this.options.enabled,this.#t)===!1||!LS(this.#l)||this.#l===0)&&(this.#u=Mu.setInterval(()=>{(this.options.refetchIntervalInBackground||Qj.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(Mu.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Mu.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,o=this.#r,l=this.#s,h=e!==n?e.state:this.#n,{state:m}=e;let p={...m},g=!1,b;if(t._optimisticResults){const F=this.hasListeners(),Y=!F&&kE(e,t),ne=F&&OE(e,n,t,r);(Y||ne)&&(p={...p,...x4(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:N,status:S}=p;b=p.data;let T=!1;if(t.placeholderData!==void 0&&b===void 0&&S==="pending"){let F;i?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(F=i.data,T=!0):F=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,F!==void 0&&(S="success",b=$S(i?.data,F,t),g=!0)}if(t.select&&b!==void 0&&!T)if(i&&b===o?.data&&t.select===this.#p)b=this.#f;else try{this.#p=t.select,b=t.select(b),b=$S(i?.data,b,t),this.#f=b,this.#a=null}catch(F){this.#a=F}this.#a&&(_=this.#a,b=this.#f,N=Date.now(),S="error");const C=p.fetchStatus==="fetching",M=S==="pending",E=S==="error",k=M&&C,R=b!==void 0,D={status:S,fetchStatus:p.fetchStatus,isPending:M,isSuccess:S==="success",isError:E,isInitialLoading:k,isLoading:k,data:b,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!M,isLoadingError:E&&!R,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&R,isStale:Jj(e,t),refetch:this.refetch,promise:this.#o,isEnabled:_s(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=D.data!==void 0,Y=D.status==="error"&&!F,ne=re=>{Y?re.reject(D.error):F&&re.resolve(D.data)},W=()=>{const re=this.#o=D.promise=FS();ne(re)},Z=this.#o;switch(Z.status){case"pending":e.queryHash===n.queryHash&&ne(Z);break;case"fulfilled":(Y||D.data!==Z.value)&&W();break;case"rejected":(!Y||D.error!==Z.reason)&&W();break}}return D}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Hv(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#i).some(l=>{const u=l;return this.#i[u]!==e[u]&&o.has(u)})};this.#_({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#_(e){fi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function qq(e,t){return _s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kE(e,t){return qq(e,t)||e.state.data!==void 0&&US(e,t,t.refetchOnMount)}function US(e,t,n){if(_s(t.enabled,e)!==!1&&Ec(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Jj(e,t)}return!1}function OE(e,t,n,r){return(e!==t||_s(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Jj(e,n)}function Jj(e,t){return _s(t.enabled,e)!==!1&&e.isStaleByTime(Ec(t.staleTime,e))}function Kq(e,t){return!Hv(e.getCurrentResult(),t)}function RE(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const m=async()=>{let p=!1;const g=N=>{Lq(N,()=>t.signal,()=>p=!0)},b=p4(t.options,t.fetchOptions),_=async(N,S,T)=>{if(p)return Promise.reject();if(S==null&&N.pages.length)return Promise.resolve(N);const M=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:T?"backward":"forward",meta:t.options.meta};return g(I),I})(),E=await b(M),{maxPages:k}=t.options,R=T?Iq:Dq;return{pages:R(N.pages,E,k),pageParams:R(N.pageParams,S,k)}};if(i&&o.length){const N=i==="backward",S=N?Wq:DE,T={pages:o,pageParams:l},C=S(r,T);u=await _(T,C,N)}else{const N=e??o.length;do{const S=h===0?l[0]??r.initialPageParam:DE(r,u);if(h>0&&S==null)break;u=await _(u,S),h++}while(h<N)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function DE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Wq(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Gq=class extends y4{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||b4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=v4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#r({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:i})}const o=await this.#i.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#r({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),fi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function b4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yq=class extends zf{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new Gq({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Bg(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Bg(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Bg(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Bg(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){fi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>PE(t,n))}findAll(e={}){return this.getAll().filter(t=>PE(e,t))}notify(e){fi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return fi.batch(()=>Promise.all(e.map(t=>t.continue().catch(ha))))}};function Bg(e){return e.options.scope?.id}var Zq=class extends zf{#e;#t=void 0;#n;#i;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Hv(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Wu(n.mutationKey)!==Wu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??b4();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){fi.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,n,r,i)}catch(o){Promise.reject(o)}try{this.#i.onSettled?.(t.data,null,n,r,i)}catch(o){Promise.reject(o)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,n,r,i)}catch(o){Promise.reject(o)}try{this.#i.onSettled?.(void 0,t.error,n,r,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Xq=class extends zf{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??Yj(r,t);let o=this.get(i);return o||(o=new Vq({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>TE(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>TE(e,n)):t}notify(e){fi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){fi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qq=class{#e;#t;#n;#i;#r;#s;#o;#a;constructor(e={}){this.#e=e.queryCache||new Xq,this.#t=e.mutationCache||new Yq,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=Qj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=qv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ec(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,l=kq(t,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return fi.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;fi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return fi.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=fi.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(ha).catch(ha)}invalidateQueries(e,t={}){return fi.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=fi.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(ha)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ha)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ec(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ha).catch(ha)}fetchInfiniteQuery(e){return e.behavior=RE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ha).catch(ha)}ensureInfiniteQueryData(e){return e.behavior=RE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Wu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Cm(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Wu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Cm(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Zj&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},w4=v.createContext(void 0),$f=e=>{const t=v.useContext(w4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jq=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(w4.Provider,{value:e,children:t})),S4=v.createContext(!1),eK=()=>v.useContext(S4);S4.Provider;function tK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nK=v.createContext(tK()),rK=()=>v.useContext(nK),iK=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?Xj(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},aK=e=>{v.useEffect(()=>{e.clearReset()},[e])},sK=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Xj(n,[e.error,r])),oK=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lK=(e,t)=>e.isLoading&&e.isFetching&&!t,cK=(e,t)=>e?.suspense&&t.isPending,IE=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function uK(e,t,n){const r=eK(),i=rK(),o=$f(),l=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const u=o.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",oK(l),iK(l,i,u),aK(i);const h=!o.getQueryCache().get(l.queryHash),[m]=v.useState(()=>new t(o,l)),p=m.getOptimisticResult(l),g=!r&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const _=g?m.subscribe(fi.batchCalls(b)):ha;return m.updateResult(),_},[m,g]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),v.useEffect(()=>{m.setOptions(l)},[l,m]),cK(l,p))throw IE(l,m,i);if(sK({result:p,errorResetBoundary:i,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw p.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,p),l.experimental_prefetchInRender&&!Ku&&lK(p,r)&&(h?IE(l,m,i):u?.promise)?.catch(ha).finally(()=>{m.updateResult()}),l.notifyOnChangeProps?p:m.trackResult(p)}function ta(e,t){return uK(e,Hq)}function js(e,t){const n=$f(),[r]=v.useState(()=>new Zq(n,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const i=v.useSyncExternalStore(v.useCallback(l=>r.subscribe(fi.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=v.useCallback((l,u)=>{r.mutate(l,u).catch(ha)},[r]);if(i.error&&Xj(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}async function _4(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function LE(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await _4(r),r}const dK=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await _4(n),await n.json()},fK=new Qq({defaultOptions:{queries:{queryFn:dK({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hK=1,mK=1e6;let Sw=0;function pK(){return Sw=(Sw+1)%Number.MAX_SAFE_INTEGER,Sw.toString()}const _w=new Map,zE=e=>{if(_w.has(e))return;const t=setTimeout(()=>{_w.delete(e),xm({type:"REMOVE_TOAST",toastId:e})},mK);_w.set(e,t)},gK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?zE(n):e.toasts.forEach(r=>{zE(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},jv=[];let Nv={toasts:[]};function xm(e){Nv=gK(Nv,e),jv.forEach(t=>{t(Nv)})}function vK({...e}){const t=pK(),n=i=>xm({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>xm({type:"DISMISS_TOAST",toastId:t});return xm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function yK(){const[e,t]=v.useState(Nv);return v.useEffect(()=>(jv.push(t),()=>{const n=jv.indexOf(t);n>-1&&jv.splice(n,1)}),[e]),{...e,toast:vK,dismiss:n=>xm({type:"DISMISS_TOAST",toastId:n})}}var Vc=e4();const j4=mo(Vc);function Ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function $E(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kl(...e){return t=>{let n=!1;const r=e.map(i=>{const o=$E(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():$E(e[i],null)}}}}function Gt(...e){return v.useCallback(kl(...e),e)}function xK(e,t){const n=v.createContext(t),r=o=>{const{children:l,...u}=o,h=v.useMemo(()=>u,Object.values(u));return s.jsx(n.Provider,{value:h,children:l})};r.displayName=e+"Provider";function i(o){const l=v.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function ra(e,t=[]){let n=[];function r(o,l){const u=v.createContext(l),h=n.length;n=[...n,l];const m=g=>{const{scope:b,children:_,...N}=g,S=b?.[e]?.[h]||u,T=v.useMemo(()=>N,Object.values(N));return s.jsx(S.Provider,{value:T,children:_})};m.displayName=o+"Provider";function p(g,b){const _=b?.[e]?.[h]||u,N=v.useContext(_);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(l=>v.createContext(l));return function(u){const h=u?.[e]||o;return v.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return i.scopeName=e,[r,bK(i,...t)]}function bK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((u,{useScope:h,scopeName:m})=>{const g=h(o)[`__scope${m}`];return{...u,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function FE(e){const t=wK(e),n=v.forwardRef((r,i)=>{const{children:o,...l}=r,u=v.Children.toArray(o),h=u.find(_K);if(h){const m=h.props.children,p=u.map(g=>g===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function wK(e){const t=v.forwardRef((n,r)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=NK(i),u=jK(o,i.props);return i.type!==v.Fragment&&(u.ref=r?kl(r,l):l),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SK=Symbol("radix.slottable");function _K(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SK}function jK(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function NK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rp(e){const t=e+"CollectionProvider",[n,r]=ra(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:T,children:C}=S,M=Ge.useRef(null),E=Ge.useRef(new Map).current;return s.jsx(i,{scope:T,itemMap:E,collectionRef:M,children:C})};l.displayName=t;const u=e+"CollectionSlot",h=FE(u),m=Ge.forwardRef((S,T)=>{const{scope:C,children:M}=S,E=o(u,C),k=Gt(T,E.collectionRef);return s.jsx(h,{ref:k,children:M})});m.displayName=u;const p=e+"CollectionItemSlot",g="data-radix-collection-item",b=FE(p),_=Ge.forwardRef((S,T)=>{const{scope:C,children:M,...E}=S,k=Ge.useRef(null),R=Gt(T,k),I=o(p,C);return Ge.useEffect(()=>(I.itemMap.set(k,{ref:k,...E}),()=>{I.itemMap.delete(k)})),s.jsx(b,{[g]:"",ref:R,children:M})});_.displayName=p;function N(S){const T=o(e+"CollectionConsumer",S);return Ge.useCallback(()=>{const M=T.collectionRef.current;if(!M)return[];const E=Array.from(M.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((I,D)=>E.indexOf(I.ref.current)-E.indexOf(D.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:m,ItemSlot:_},N,r]}function TK(e){const t=PK(e),n=v.forwardRef((r,i)=>{const{children:o,...l}=r,u=v.Children.toArray(o),h=u.find(AK);if(h){const m=h.props.children,p=u.map(g=>g===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function PK(e){const t=v.forwardRef((n,r)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=MK(i),u=EK(o,i.props);return i.type!==v.Fragment&&(u.ref=r?kl(r,l):l),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CK=Symbol("radix.slottable");function AK(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CK}function EK(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function MK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pt=kK.reduce((e,t)=>{const n=TK(`Primitive.${t}`),r=v.forwardRef((i,o)=>{const{asChild:l,...u}=i,h=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function eN(e,t){e&&Vc.flushSync(()=>e.dispatchEvent(t))}function $a(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>t.current?.(...n),[])}function OK(e,t=globalThis?.document){const n=$a(e);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var RK="DismissableLayer",VS="dismissableLayer.update",DK="dismissableLayer.pointerDownOutside",IK="dismissableLayer.focusOutside",BE,N4=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ff=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...h}=e,m=v.useContext(N4),[p,g]=v.useState(null),b=p?.ownerDocument??globalThis?.document,[,_]=v.useState({}),N=Gt(t,D=>g(D)),S=Array.from(m.layers),[T]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=S.indexOf(T),M=p?S.indexOf(p):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,k=M>=C,R=zK(D=>{const F=D.target,Y=[...m.branches].some(ne=>ne.contains(F));!k||Y||(i?.(D),l?.(D),D.defaultPrevented||u?.())},b),I=$K(D=>{const F=D.target;[...m.branches].some(ne=>ne.contains(F))||(o?.(D),l?.(D),D.defaultPrevented||u?.())},b);return OK(D=>{M===m.layers.size-1&&(r?.(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},b),v.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(BE=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),UE(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=BE)}},[p,b,n,m]),v.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),UE())},[p,m]),v.useEffect(()=>{const D=()=>_({});return document.addEventListener(VS,D),()=>document.removeEventListener(VS,D)},[]),s.jsx(Pt.div,{...h,ref:N,style:{pointerEvents:E?k?"auto":"none":void 0,...e.style},onFocusCapture:Ze(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Ze(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ze(e.onPointerDownCapture,R.onPointerDownCapture)})});Ff.displayName=RK;var LK="DismissableLayerBranch",T4=v.forwardRef((e,t)=>{const n=v.useContext(N4),r=v.useRef(null),i=Gt(t,r);return v.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Pt.div,{...e,ref:i})});T4.displayName=LK;function zK(e,t=globalThis?.document){const n=$a(e),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let h=function(){P4(DK,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $K(e,t=globalThis?.document){const n=$a(e),r=v.useRef(!1);return v.useEffect(()=>{const i=o=>{o.target&&!r.current&&P4(IK,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UE(){const e=new CustomEvent(VS);document.dispatchEvent(e)}function P4(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?eN(i,o):i.dispatchEvent(o)}var FK=Ff,BK=T4,Pi=globalThis?.document?v.useLayoutEffect:()=>{},UK="Portal",Bf=v.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=v.useState(!1);Pi(()=>o(!0),[]);const l=n||i&&globalThis?.document?.body;return l?j4.createPortal(s.jsx(Pt.div,{...r,ref:t}),l):null});Bf.displayName=UK;function VK(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Fa=e=>{const{present:t,children:n}=e,r=HK(t),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),o=Gt(r.ref,qK(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:o}):null};Fa.displayName="Presence";function HK(e){const[t,n]=v.useState(),r=v.useRef(null),i=v.useRef(e),o=v.useRef("none"),l=e?"mounted":"unmounted",[u,h]=VK(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=Ug(r.current);o.current=u==="mounted"?m:"none"},[u]),Pi(()=>{const m=r.current,p=i.current;if(p!==e){const b=o.current,_=Ug(m);e?h("MOUNT"):_==="none"||m?.display==="none"?h("UNMOUNT"):h(p&&b!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Pi(()=>{if(t){let m;const p=t.ownerDocument.defaultView??window,g=_=>{const S=Ug(r.current).includes(CSS.escape(_.animationName));if(_.target===t&&S&&(h("ANIMATION_END"),!i.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",m=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=_=>{_.target===t&&(o.current=Ug(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(m),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Ug(e){return e?.animationName||"none"}function qK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var KK=np[" useInsertionEffect ".trim().toString()]||Pi;function co({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,l]=WK({defaultProp:t,onChange:n}),u=e!==void 0,h=u?e:i;{const p=v.useRef(e!==void 0);v.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const m=v.useCallback(p=>{if(u){const g=GK(p)?p(e):p;g!==e&&l.current?.(g)}else o(p)},[u,e,o,l]);return[h,m]}function WK({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),i=v.useRef(n),o=v.useRef(t);return KK(()=>{o.current=t},[t]),v.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function GK(e){return typeof e=="function"}var C4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YK="VisuallyHidden",hx=v.forwardRef((e,t)=>s.jsx(Pt.span,{...e,ref:t,style:{...C4,...e.style}}));hx.displayName=YK;var ZK=hx,tN="ToastProvider",[nN,XK,QK]=rp("Toast"),[A4]=ra("Toast",[QK]),[JK,mx]=A4(tN),E4=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[u,h]=v.useState(null),[m,p]=v.useState(0),g=v.useRef(!1),b=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tN}\`. Expected non-empty \`string\`.`),s.jsx(nN.Provider,{scope:t,children:s.jsx(JK,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:m,viewport:u,onViewportChange:h,onToastAdd:v.useCallback(()=>p(_=>_+1),[]),onToastRemove:v.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:l})})};E4.displayName=tN;var M4="ToastViewport",eW=["F8"],HS="toast.viewportPause",qS="toast.viewportResume",k4=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=eW,label:i="Notifications ({hotkey})",...o}=e,l=mx(M4,n),u=XK(n),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),g=v.useRef(null),b=Gt(t,g,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=l.toastCount>0;v.useEffect(()=>{const T=C=>{r.length!==0&&r.every(E=>C[E]||C.code===E)&&g.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),v.useEffect(()=>{const T=h.current,C=g.current;if(N&&T&&C){const M=()=>{if(!l.isClosePausedRef.current){const I=new CustomEvent(HS);C.dispatchEvent(I),l.isClosePausedRef.current=!0}},E=()=>{if(l.isClosePausedRef.current){const I=new CustomEvent(qS);C.dispatchEvent(I),l.isClosePausedRef.current=!1}},k=I=>{!T.contains(I.relatedTarget)&&E()},R=()=>{T.contains(document.activeElement)||E()};return T.addEventListener("focusin",M),T.addEventListener("focusout",k),T.addEventListener("pointermove",M),T.addEventListener("pointerleave",R),window.addEventListener("blur",M),window.addEventListener("focus",E),()=>{T.removeEventListener("focusin",M),T.removeEventListener("focusout",k),T.removeEventListener("pointermove",M),T.removeEventListener("pointerleave",R),window.removeEventListener("blur",M),window.removeEventListener("focus",E)}}},[N,l.isClosePausedRef]);const S=v.useCallback(({tabbingDirection:T})=>{const M=u().map(E=>{const k=E.ref.current,R=[k,...hW(k)];return T==="forwards"?R:R.reverse()});return(T==="forwards"?M.reverse():M).flat()},[u]);return v.useEffect(()=>{const T=g.current;if(T){const C=M=>{const E=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!E){const R=document.activeElement,I=M.shiftKey;if(M.target===T&&I){m.current?.focus();return}const Y=S({tabbingDirection:I?"backwards":"forwards"}),ne=Y.findIndex(W=>W===R);jw(Y.slice(ne+1))?M.preventDefault():I?m.current?.focus():p.current?.focus()}};return T.addEventListener("keydown",C),()=>T.removeEventListener("keydown",C)}},[u,S]),s.jsxs(BK,{ref:h,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&s.jsx(KS,{ref:m,onFocusFromOutsideViewport:()=>{const T=S({tabbingDirection:"forwards"});jw(T)}}),s.jsx(nN.Slot,{scope:n,children:s.jsx(Pt.ol,{tabIndex:-1,...o,ref:b})}),N&&s.jsx(KS,{ref:p,onFocusFromOutsideViewport:()=>{const T=S({tabbingDirection:"backwards"});jw(T)}})]})});k4.displayName=M4;var O4="ToastFocusProxy",KS=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=mx(O4,n);return s.jsx(hx,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!o.viewport?.contains(u)&&r()}})});KS.displayName=O4;var ip="Toast",tW="toast.swipeStart",nW="toast.swipeMove",rW="toast.swipeCancel",iW="toast.swipeEnd",R4=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...l}=e,[u,h]=co({prop:r,defaultProp:i??!0,onChange:o,caller:ip});return s.jsx(Fa,{present:n||u,children:s.jsx(oW,{open:u,...l,ref:t,onClose:()=>h(!1),onPause:$a(e.onPause),onResume:$a(e.onResume),onSwipeStart:Ze(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ze(e.onSwipeMove,m=>{const{x:p,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ze(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ze(e.onSwipeEnd,m=>{const{x:p,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),h(!1)})})})});R4.displayName=ip;var[aW,sW]=A4(ip,{onClose(){}}),oW=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:u,onPause:h,onResume:m,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:_,...N}=e,S=mx(ip,n),[T,C]=v.useState(null),M=Gt(t,ce=>C(ce)),E=v.useRef(null),k=v.useRef(null),R=i||S.duration,I=v.useRef(0),D=v.useRef(R),F=v.useRef(0),{onToastAdd:Y,onToastRemove:ne}=S,W=$a(()=>{T?.contains(document.activeElement)&&S.viewport?.focus(),l()}),Z=v.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(F.current),I.current=new Date().getTime(),F.current=window.setTimeout(W,ce))},[W]);v.useEffect(()=>{const ce=S.viewport;if(ce){const fe=()=>{Z(D.current),m?.()},K=()=>{const Q=new Date().getTime()-I.current;D.current=D.current-Q,window.clearTimeout(F.current),h?.()};return ce.addEventListener(HS,K),ce.addEventListener(qS,fe),()=>{ce.removeEventListener(HS,K),ce.removeEventListener(qS,fe)}}},[S.viewport,R,h,m,Z]),v.useEffect(()=>{o&&!S.isClosePausedRef.current&&Z(R)},[o,R,S.isClosePausedRef,Z]),v.useEffect(()=>(Y(),()=>ne()),[Y,ne]);const re=v.useMemo(()=>T?B4(T):null,[T]);return S.viewport?s.jsxs(s.Fragment,{children:[re&&s.jsx(lW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:re}),s.jsx(aW,{scope:n,onClose:W,children:Vc.createPortal(s.jsx(nN.ItemSlot,{scope:n,children:s.jsx(FK,{asChild:!0,onEscapeKeyDown:Ze(u,()=>{S.isFocusedToastEscapeKeyDownRef.current||W(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Pt.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":S.swipeDirection,...N,ref:M,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ze(e.onKeyDown,ce=>{ce.key==="Escape"&&(u?.(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Ze(e.onPointerDown,ce=>{ce.button===0&&(E.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:Ze(e.onPointerMove,ce=>{if(!E.current)return;const fe=ce.clientX-E.current.x,K=ce.clientY-E.current.y,Q=!!k.current,H=["left","right"].includes(S.swipeDirection),X=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,$=H?X(0,fe):0,G=H?0:X(0,K),Ne=ce.pointerType==="touch"?10:2,de={x:$,y:G},q={originalEvent:ce,delta:de};Q?(k.current=de,Vg(nW,g,q,{discrete:!1})):VE(de,S.swipeDirection,Ne)?(k.current=de,Vg(tW,p,q,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(fe)>Ne||Math.abs(K)>Ne)&&(E.current=null)}),onPointerUp:Ze(e.onPointerUp,ce=>{const fe=k.current,K=ce.target;if(K.hasPointerCapture(ce.pointerId)&&K.releasePointerCapture(ce.pointerId),k.current=null,E.current=null,fe){const Q=ce.currentTarget,H={originalEvent:ce,delta:fe};VE(fe,S.swipeDirection,S.swipeThreshold)?Vg(iW,_,H,{discrete:!0}):Vg(rW,b,H,{discrete:!0}),Q.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),lW=e=>{const{__scopeToast:t,children:n,...r}=e,i=mx(ip,t),[o,l]=v.useState(!1),[u,h]=v.useState(!1);return dW(()=>l(!0)),v.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),u?null:s.jsx(Bf,{asChild:!0,children:s.jsx(hx,{...r,children:o&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},cW="ToastTitle",D4=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Pt.div,{...r,ref:t})});D4.displayName=cW;var uW="ToastDescription",I4=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Pt.div,{...r,ref:t})});I4.displayName=uW;var L4="ToastAction",z4=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(F4,{altText:n,asChild:!0,children:s.jsx(rN,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${L4}\`. Expected non-empty \`string\`.`),null)});z4.displayName=L4;var $4="ToastClose",rN=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=sW($4,n);return s.jsx(F4,{asChild:!0,children:s.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ze(e.onClick,i.onClose)})})});rN.displayName=$4;var F4=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function B4(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),fW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...B4(r))}}),t}function Vg(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?eN(i,o):i.dispatchEvent(o)}var VE=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function dW(e=()=>{}){const t=$a(e);Pi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function fW(e){return e.nodeType===e.ELEMENT_NODE}function hW(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var mW=E4,U4=k4,V4=R4,H4=D4,q4=I4,K4=z4,W4=rN;function G4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=G4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=G4(e))&&(r&&(r+=" "),r+=t);return r}const HE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qE=zn,ap=(e,t)=>n=>{var r;if(t?.variants==null)return qE(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(m=>{const p=n?.[m],g=o?.[m];if(p===null)return null;const b=HE(p)||HE(g);return i[m][b]}),u=n&&Object.entries(n).reduce((m,p)=>{let[g,b]=p;return b===void 0||(m[g]=b),m},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,p)=>{let{class:g,className:b,..._}=p;return Object.entries(_).every(N=>{let[S,T]=N;return Array.isArray(T)?T.includes({...o,...u}[S]):{...o,...u}[S]===T})?[...m,g,b]:m},[]);return qE(e,l,h,n?.class,n?.className)};const Y4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const pW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const gW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const KE=e=>{const t=gW(e);return t.charAt(0).toUpperCase()+t.slice(1)};var vW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const xW=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>v.createElement("svg",{ref:h,...vW,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Y4("lucide",i),...!o&&!yW(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>v.createElement(m,p)),...Array.isArray(o)?o:[o]]));const qe=(e,t)=>{const n=v.forwardRef(({className:r,...i},o)=>v.createElement(xW,{ref:o,iconNode:t,className:Y4(`lucide-${pW(KE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=KE(e),n};const bW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xd=qe("activity",bW);const wW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vi=qe("arrow-left",wW);const SW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yf=qe("arrow-right",SW);const _W=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],jW=qe("arrow-up-down",_W);const NW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],TW=qe("award",NW);const PW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xf=qe("bell",PW);const CW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],AW=qe("book-open",CW);const EW=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],vl=qe("brain",EW);const MW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$o=qe("calendar",MW);const kW=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kv=qe("camera",kW);const OW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wv=qe("chart-column",OW);const RW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ms=qe("check",RW);const DW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Uf=qe("chevron-down",DW);const IW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],px=qe("chevron-right",IW);const LW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gx=qe("chevron-up",LW);const zW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$W=qe("circle-alert",zW);const FW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gv=qe("circle-check-big",FW);const BW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UW=qe("circle-question-mark",BW);const VW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],WE=qe("circle-x",VW);const HW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z4=qe("circle",HW);const qW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vx=qe("clock",qW);const KW=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WW=qe("cloud-off",KW);const GW=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],WS=qe("cloud-rain",GW);const YW=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Am=qe("cloud",YW);const ZW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XW=qe("copy",ZW);const QW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],JW=qe("download",QW);const eG=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],X4=qe("droplets",eG);const tG=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],nG=qe("ellipsis-vertical",tG);const rG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cf=qe("eye-off",rG);const iG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mc=qe("eye",iG);const aG=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],sG=qe("facebook",aG);const oG=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Q4=qe("flag",oG);const lG=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],J4=qe("footprints",lG);const cG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],uG=qe("funnel",cG);const dG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eL=qe("globe",dG);const fG=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Nw=qe("grip-vertical",fG);const hG=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Em=qe("heart",hG);const mG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GE=qe("history",mG);const pG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YE=qe("info",pG);const gG=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ZE=qe("instagram",gG);const vG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],GS=qe("lightbulb",vG);const yG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],no=qe("loader-circle",yG);const xG=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],YS=qe("loader",xG);const bG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tw=qe("lock",bG);const wG=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],SG=qe("log-in",wG);const _G=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ZS=qe("mail",_G);const jG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ic=qe("map-pin",jG);const NG=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],iN=qe("map",NG);const TG=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],PG=qe("medal",TG);const CG=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AG=qe("menu",CG);const EG=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MG=qe("message-circle",EG);const kG=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],OG=qe("message-square",kG);const RG=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],tL=qe("mic-off",RG);const DG=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],aN=qe("mic",DG);const IG=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],LG=qe("mountain",IG);const zG=[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]],$G=qe("navigation-2",zG);const FG=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],XE=qe("pause",FG);const BG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ku=qe("pencil",BG);const UG=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kc=qe("play",UG);const VG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bm=qe("plus",VG);const HG=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qG=qe("radio",HG);const KG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yv=qe("refresh-cw",KG);const WG=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],yx=qe("route",WG);const GG=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],YG=qe("ruler",GG);const ZG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XG=qe("save",ZG);const QG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JG=qe("search",QG);const eY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tY=qe("send",eY);const nY=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sN=qe("settings",nY);const rY=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],XS=qe("share-2",rY);const iY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aY=qe("shield",iY);const sY=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],QS=qe("smartphone",sY);const oY=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nL=qe("sparkles",oY);const lY=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cY=qe("square-pen",lY);const uY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dY=qe("square",uY);const fY=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pw=qe("star",fY);const hY=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oN=qe("sun",hY);const mY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],JS=qe("target",mY);const pY=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 8a4 4 0 0 0-1.645 7.647",key:"wz5p04"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}]],gY=qe("thermometer-sun",pY);const vY=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],yY=qe("thermometer",vY);const xY=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],bf=qe("timer",xY);const bY=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uf=qe("trash-2",bY);const wY=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],lN=qe("trending-down",wY);const SY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ns=qe("trending-up",SY);const _Y=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$u=qe("triangle-alert",_Y);const jY=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zv=qe("trophy",jY);const NY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rL=qe("upload",NY);const TY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xx=qe("user-plus",TY);const PY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oc=qe("user",PY);const CY=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ro=qe("users",CY);const AY=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],EY=qe("volume-2",AY);const MY=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],kY=qe("volume-x",MY);const OY=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],iL=qe("wind",OY);const RY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],io=qe("x",RY);const DY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Cw=qe("zap",DY),IY=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},LY=(e,t)=>({classGroupId:e,validator:t}),aL=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Xv="-",QE=[],zY="arbitrary..",$Y=e=>{const t=BY(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return FY(l);const u=l.split(Xv),h=u[0]===""&&u.length>1?1:0;return sL(u,h,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const h=r[l],m=n[l];return h?m?IY(m,h):h:m||QE}return n[l]||QE}}},sL=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],o=n.nextPart.get(i);if(o){const m=sL(e,t+1,o);if(m)return m}const l=n.validators;if(l===null)return;const u=t===0?e.join(Xv):e.slice(t).join(Xv),h=l.length;for(let m=0;m<h;m++){const p=l[m];if(p.validator(u))return p.classGroupId}},FY=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?zY+r:void 0})(),BY=e=>{const{theme:t,classGroups:n}=e;return UY(n,t)},UY=(e,t)=>{const n=aL();for(const r in e){const i=e[r];cN(i,n,r,t)}return n},cN=(e,t,n,r)=>{const i=e.length;for(let o=0;o<i;o++){const l=e[o];VY(l,t,n,r)}},VY=(e,t,n,r)=>{if(typeof e=="string"){HY(e,t,n);return}if(typeof e=="function"){qY(e,t,n,r);return}KY(e,t,n,r)},HY=(e,t,n)=>{const r=e===""?t:oL(t,e);r.classGroupId=n},qY=(e,t,n,r)=>{if(WY(e)){cN(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(LY(n,e))},KY=(e,t,n,r)=>{const i=Object.entries(e),o=i.length;for(let l=0;l<o;l++){const[u,h]=i[l];cN(h,oL(t,u),n,r)}},oL=(e,t)=>{let n=e;const r=t.split(Xv),i=r.length;for(let o=0;o<i;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=aL(),n.nextPart.set(l,u)),n=u}return n},WY=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,GY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(o,l)=>{n[o]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in n?n[o]=l:i(o,l)}}},e_="!",JE=":",YY=[],eM=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),ZY=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let l=0,u=0,h=0,m;const p=i.length;for(let S=0;S<p;S++){const T=i[S];if(l===0&&u===0){if(T===JE){o.push(i.slice(h,S)),h=S+1;continue}if(T==="/"){m=S;continue}}T==="["?l++:T==="]"?l--:T==="("?u++:T===")"&&u--}const g=o.length===0?i:i.slice(h);let b=g,_=!1;g.endsWith(e_)?(b=g.slice(0,-1),_=!0):g.startsWith(e_)&&(b=g.slice(1),_=!0);const N=m&&m>h?m-h:void 0;return eM(o,_,b,N)};if(t){const i=t+JE,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):eM(YY,!1,l,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},XY=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",h=t.has(l);u||h?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},QY=e=>({cache:GY(e.cacheSize),parseClassName:ZY(e),sortModifiers:XY(e),...$Y(e)}),JY=/\s+/,eZ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,l=[],u=e.trim().split(JY);let h="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{isExternal:g,modifiers:b,hasImportantModifier:_,baseClassName:N,maybePostfixModifierPosition:S}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let T=!!S,C=r(T?N.substring(0,S):N);if(!C){if(!T){h=p+(h.length>0?" "+h:h);continue}if(C=r(N),!C){h=p+(h.length>0?" "+h:h);continue}T=!1}const M=b.length===0?"":b.length===1?b[0]:o(b).join(":"),E=_?M+e_:M,k=E+C;if(l.indexOf(k)>-1)continue;l.push(k);const R=i(C,T);for(let I=0;I<R.length;++I){const D=R[I];l.push(E+D)}h=p+(h.length>0?" "+h:h)}return h},tZ=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=lL(n))&&(i&&(i+=" "),i+=r);return i},lL=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lL(e[r]))&&(n&&(n+=" "),n+=t);return n},nZ=(e,...t)=>{let n,r,i,o;const l=h=>{const m=t.reduce((p,g)=>g(p),e());return n=QY(m),r=n.cache.get,i=n.cache.set,o=u,u(h)},u=h=>{const m=r(h);if(m)return m;const p=eZ(h,n);return i(h,p),p};return o=l,(...h)=>o(tZ(...h))},rZ=[],ci=e=>{const t=n=>n[e]||rZ;return t.isThemeGetter=!0,t},cL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iZ=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,aZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yc=e=>iZ.test(e),ln=e=>!!e&&!Number.isNaN(Number(e)),xc=e=>!!e&&Number.isInteger(Number(e)),Aw=e=>e.endsWith("%")&&ln(e.slice(0,-1)),pl=e=>aZ.test(e),dL=()=>!0,uZ=e=>sZ.test(e)&&!oZ.test(e),uN=()=>!1,dZ=e=>lZ.test(e),fZ=e=>cZ.test(e),hZ=e=>!xt(e)&&!_t(e),mZ=e=>Hc(e,mL,uN),xt=e=>cL.test(e),Su=e=>Hc(e,pL,uZ),tM=e=>Hc(e,SZ,ln),pZ=e=>Hc(e,vL,dL),gZ=e=>Hc(e,gL,uN),nM=e=>Hc(e,fL,uN),vZ=e=>Hc(e,hL,fZ),Hg=e=>Hc(e,yL,dZ),_t=e=>uL.test(e),Qh=e=>od(e,pL),yZ=e=>od(e,gL),rM=e=>od(e,fL),xZ=e=>od(e,mL),bZ=e=>od(e,hL),qg=e=>od(e,yL,!0),wZ=e=>od(e,vL,!0),Hc=(e,t,n)=>{const r=cL.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},od=(e,t,n=!1)=>{const r=uL.exec(e);return r?r[1]?t(r[1]):n:!1},fL=e=>e==="position"||e==="percentage",hL=e=>e==="image"||e==="url",mL=e=>e==="length"||e==="size"||e==="bg-size",pL=e=>e==="length",SZ=e=>e==="number",gL=e=>e==="family-name",vL=e=>e==="number"||e==="weight",yL=e=>e==="shadow",_Z=()=>{const e=ci("color"),t=ci("font"),n=ci("text"),r=ci("font-weight"),i=ci("tracking"),o=ci("leading"),l=ci("breakpoint"),u=ci("container"),h=ci("spacing"),m=ci("radius"),p=ci("shadow"),g=ci("inset-shadow"),b=ci("text-shadow"),_=ci("drop-shadow"),N=ci("blur"),S=ci("perspective"),T=ci("aspect"),C=ci("ease"),M=ci("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...k(),_t,xt],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],F=()=>[_t,xt,h],Y=()=>[yc,"full","auto",...F()],ne=()=>[xc,"none","subgrid",_t,xt],W=()=>["auto",{span:["full",xc,_t,xt]},xc,_t,xt],Z=()=>[xc,"auto",_t,xt],re=()=>["auto","min","max","fr",_t,xt],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...F()],Q=()=>[yc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],H=()=>[yc,"screen","full","dvw","lvw","svw","min","max","fit",...F()],X=()=>[yc,"screen","full","lh","dvh","lvh","svh","min","max","fit",...F()],$=()=>[e,_t,xt],G=()=>[...k(),rM,nM,{position:[_t,xt]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",xZ,mZ,{size:[_t,xt]}],q=()=>[Aw,Qh,Su],ae=()=>["","none","full",m,_t,xt],be=()=>["",ln,Qh,Su],Ae=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[ln,Aw,rM,nM],ge=()=>["","none",N,_t,xt],Me=()=>["none",ln,_t,xt],ve=()=>["none",ln,_t,xt],pe=()=>[ln,_t,xt],Ye=()=>[yc,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pl],breakpoint:[pl],color:[dL],container:[pl],"drop-shadow":[pl],ease:["in","out","in-out"],font:[hZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pl],shadow:[pl],spacing:["px",ln],text:[pl],"text-shadow":[pl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yc,xt,_t,T]}],container:["container"],columns:[{columns:[ln,xt,_t,u]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{"inset-s":Y(),start:Y()}],end:[{"inset-e":Y(),end:Y()}],"inset-bs":[{"inset-bs":Y()}],"inset-be":[{"inset-be":Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[xc,"auto",_t,xt]}],basis:[{basis:[yc,"full","auto",u,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ln,yc,"auto","initial","none",xt]}],grow:[{grow:["",ln,_t,xt]}],shrink:[{shrink:["",ln,_t,xt]}],order:[{order:[xc,"first","last","none",_t,xt]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pbs:[{pbs:F()}],pbe:[{pbe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mbs:[{mbs:K()}],mbe:[{mbe:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],"inline-size":[{inline:["auto",...H()]}],"min-inline-size":[{"min-inline":["auto",...H()]}],"max-inline-size":[{"max-inline":["none",...H()]}],"block-size":[{block:["auto",...X()]}],"min-block-size":[{"min-block":["auto",...X()]}],"max-block-size":[{"max-block":["none",...X()]}],w:[{w:[u,"screen",...Q()]}],"min-w":[{"min-w":[u,"screen","none",...Q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,Qh,Su]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,wZ,pZ]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Aw,xt]}],"font-family":[{font:[yZ,gZ,t]}],"font-features":[{"font-features":[xt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,_t,xt]}],"line-clamp":[{"line-clamp":[ln,"none",_t,tM]}],leading:[{leading:[o,...F()]}],"list-image":[{"list-image":["none",_t,xt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_t,xt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[ln,"from-font","auto",_t,Su]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ln,"auto",_t,xt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_t,xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_t,xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xc,_t,xt],radial:["",_t,xt],conic:[xc,_t,xt]},bZ,vZ]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-bs":[{"border-bs":be()}],"border-w-be":[{"border-be":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-bs":[{"border-bs":$()}],"border-color-be":[{"border-be":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ln,_t,xt]}],"outline-w":[{outline:["",ln,Qh,Su]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",p,qg,Hg]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,qg,Hg]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ln,Su]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,qg,Hg]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ln,_t,xt]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ln]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[_t,xt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[ln]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_t,xt]}],filter:[{filter:["","none",_t,xt]}],blur:[{blur:ge()}],brightness:[{brightness:[ln,_t,xt]}],contrast:[{contrast:[ln,_t,xt]}],"drop-shadow":[{"drop-shadow":["","none",_,qg,Hg]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ln,_t,xt]}],"hue-rotate":[{"hue-rotate":[ln,_t,xt]}],invert:[{invert:["",ln,_t,xt]}],saturate:[{saturate:[ln,_t,xt]}],sepia:[{sepia:["",ln,_t,xt]}],"backdrop-filter":[{"backdrop-filter":["","none",_t,xt]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[ln,_t,xt]}],"backdrop-contrast":[{"backdrop-contrast":[ln,_t,xt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ln,_t,xt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ln,_t,xt]}],"backdrop-invert":[{"backdrop-invert":["",ln,_t,xt]}],"backdrop-opacity":[{"backdrop-opacity":[ln,_t,xt]}],"backdrop-saturate":[{"backdrop-saturate":[ln,_t,xt]}],"backdrop-sepia":[{"backdrop-sepia":["",ln,_t,xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_t,xt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ln,"initial",_t,xt]}],ease:[{ease:["linear","initial",C,_t,xt]}],delay:[{delay:[ln,_t,xt]}],animate:[{animate:["none",M,_t,xt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,_t,xt]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[_t,xt,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_t,xt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mbs":[{"scroll-mbs":F()}],"scroll-mbe":[{"scroll-mbe":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pbs":[{"scroll-pbs":F()}],"scroll-pbe":[{"scroll-pbe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_t,xt]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ln,Qh,Su,tM]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jZ=nZ(_Z);function Tt(...e){return jZ(zn(e))}const NZ=mW,xL=v.forwardRef(({className:e,...t},n)=>s.jsx(U4,{ref:n,className:Tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xL.displayName=U4.displayName;const TZ=ap("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bL=v.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(V4,{ref:r,className:Tt(TZ({variant:t}),e),...n}));bL.displayName=V4.displayName;const PZ=v.forwardRef(({className:e,...t},n)=>s.jsx(K4,{ref:n,className:Tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));PZ.displayName=K4.displayName;const wL=v.forwardRef(({className:e,...t},n)=>s.jsx(W4,{ref:n,className:Tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(io,{className:"h-4 w-4"})}));wL.displayName=W4.displayName;const SL=v.forwardRef(({className:e,...t},n)=>s.jsx(H4,{ref:n,className:Tt("text-sm font-semibold",e),...t}));SL.displayName=H4.displayName;const _L=v.forwardRef(({className:e,...t},n)=>s.jsx(q4,{ref:n,className:Tt("text-sm opacity-90",e),...t}));_L.displayName=q4.displayName;function CZ(){const{toasts:e}=yK();return s.jsxs(NZ,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return s.jsxs(bL,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(SL,{children:n}),r&&s.jsx(_L,{children:r})]}),i,s.jsx(wL,{})]},t)}),s.jsx(xL,{})]})}function AZ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const EZ=e=>{switch(e){case"success":return OZ;case"info":return DZ;case"warning":return RZ;case"error":return IZ;default:return null}},MZ=Array(12).fill(0),kZ=({visible:e,className:t})=>Ge.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ge.createElement("div",{className:"sonner-spinner"},MZ.map((n,r)=>Ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),OZ=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RZ=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DZ=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IZ=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),LZ=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zZ=()=>{const[e,t]=Ge.useState(document.hidden);return Ge.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let t_=1;class $Z{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,o=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:t_++,l=this.toasts.find(h=>h.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...t,id:o,title:r}),{...h,...t,id:o,dismissible:u,title:r}):h):this.addToast({title:r,...i,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=r!==void 0,l;const u=i.then(async m=>{if(l=["resolve",m],Ge.isValidElement(m))o=!1,this.create({id:r,type:"default",message:m});else if(BZ(m)&&!m.ok){o=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,N=typeof g=="object"&&!Ge.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...N})}else if(m instanceof Error){o=!1;const g=typeof n.error=="function"?await n.error(m):n.error,b=typeof n.description=="function"?await n.description(m):n.description,N=typeof g=="object"&&!Ge.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...N})}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?await n.success(m):n.success,b=typeof n.description=="function"?await n.description(m):n.description,N=typeof g=="object"&&!Ge.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:b,...N})}}).catch(async m=>{if(l=["reject",m],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(m):n.error,g=typeof n.description=="function"?await n.description(m):n.description,_=typeof p=="object"&&!Ge.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,..._})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((m,p)=>u.then(()=>l[0]==="reject"?p(l[1]):m(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(t,n)=>{const r=n?.id||t_++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ra=new $Z,FZ=(e,t)=>{const n=t?.id||t_++;return Ra.addToast({title:e,...t,id:n}),n},BZ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",UZ=FZ,VZ=()=>Ra.toasts,HZ=()=>Ra.getActiveToasts(),Se=Object.assign(UZ,{success:Ra.success,info:Ra.info,warning:Ra.warning,error:Ra.error,custom:Ra.custom,message:Ra.message,promise:Ra.promise,dismiss:Ra.dismiss,loading:Ra.loading},{getHistory:VZ,getToasts:HZ});AZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kg(e){return e.label!==void 0}const qZ=3,KZ="24px",WZ="16px",iM=4e3,GZ=356,YZ=14,ZZ=45,XZ=200;function Eo(...e){return e.filter(Boolean).join(" ")}function QZ(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const JZ=e=>{var t,n,r,i,o,l,u,h,m;const{invert:p,toast:g,unstyled:b,interacting:_,setHeights:N,visibleToasts:S,heights:T,index:C,toasts:M,expanded:E,removeToast:k,defaultRichColors:R,closeButton:I,style:D,cancelButtonStyle:F,actionButtonStyle:Y,className:ne="",descriptionClassName:W="",duration:Z,position:re,gap:ce,expandByDefault:fe,classNames:K,icons:Q,closeButtonAriaLabel:H="Close toast"}=e,[X,$]=Ge.useState(null),[G,Ne]=Ge.useState(null),[de,q]=Ge.useState(!1),[ae,be]=Ge.useState(!1),[Ae,ke]=Ge.useState(!1),[ie,ge]=Ge.useState(!1),[Me,ve]=Ge.useState(!1),[pe,Ye]=Ge.useState(0),[vt,Rt]=Ge.useState(0),Wt=Ge.useRef(g.duration||Z||iM),gn=Ge.useRef(null),Nn=Ge.useRef(null),kr=C===0,Tn=C+1<=S,he=g.type,Be=g.dismissible!==!1,ot=g.className||"",Zt=g.descriptionClassName||"",An=Ge.useMemo(()=>T.findIndex(Mt=>Mt.toastId===g.id)||0,[T,g.id]),tt=Ge.useMemo(()=>{var Mt;return(Mt=g.closeButton)!=null?Mt:I},[g.closeButton,I]),Jn=Ge.useMemo(()=>g.duration||Z||iM,[g.duration,Z]),$t=Ge.useRef(0),Or=Ge.useRef(0),Qt=Ge.useRef(0),gi=Ge.useRef(null),[Rr,Dr]=re.split("-"),Ir=Ge.useMemo(()=>T.reduce((Mt,kn,Xt)=>Xt>=An?Mt:Mt+kn.height,0),[T,An]),Mi=zZ(),br=g.invert||p,wa=he==="loading";Or.current=Ge.useMemo(()=>An*ce+Ir,[An,Ir]),Ge.useEffect(()=>{Wt.current=Jn},[Jn]),Ge.useEffect(()=>{q(!0)},[]),Ge.useEffect(()=>{const Mt=Nn.current;if(Mt){const kn=Mt.getBoundingClientRect().height;return Rt(kn),N(Xt=>[{toastId:g.id,height:kn,position:g.position},...Xt]),()=>N(Xt=>Xt.filter(ur=>ur.toastId!==g.id))}},[N,g.id]),Ge.useLayoutEffect(()=>{if(!de)return;const Mt=Nn.current,kn=Mt.style.height;Mt.style.height="auto";const Xt=Mt.getBoundingClientRect().height;Mt.style.height=kn,Rt(Xt),N(ur=>ur.find(On=>On.toastId===g.id)?ur.map(On=>On.toastId===g.id?{...On,height:Xt}:On):[{toastId:g.id,height:Xt,position:g.position},...ur])},[de,g.title,g.description,N,g.id,g.jsx,g.action,g.cancel]);const wr=Ge.useCallback(()=>{be(!0),Ye(Or.current),N(Mt=>Mt.filter(kn=>kn.toastId!==g.id)),setTimeout(()=>{k(g)},XZ)},[g,k,N,Or]);Ge.useEffect(()=>{if(g.promise&&he==="loading"||g.duration===1/0||g.type==="loading")return;let Mt;return E||_||Mi?(()=>{if(Qt.current<$t.current){const ur=new Date().getTime()-$t.current;Wt.current=Wt.current-ur}Qt.current=new Date().getTime()})():Wt.current!==1/0&&($t.current=new Date().getTime(),Mt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),wr()},Wt.current)),()=>clearTimeout(Mt)},[E,_,g,he,Mi,wr]),Ge.useEffect(()=>{g.delete&&(wr(),g.onDismiss==null||g.onDismiss.call(g,g))},[wr,g.delete]);function Sa(){var Mt;if(Q?.loading){var kn;return Ge.createElement("div",{className:Eo(K?.loader,g==null||(kn=g.classNames)==null?void 0:kn.loader,"sonner-loader"),"data-visible":he==="loading"},Q.loading)}return Ge.createElement(kZ,{className:Eo(K?.loader,g==null||(Mt=g.classNames)==null?void 0:Mt.loader),visible:he==="loading"})}const sa=g.icon||Q?.[he]||EZ(he);var ki,_a;return Ge.createElement("li",{tabIndex:0,ref:Nn,className:Eo(ne,ot,K?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,K?.default,K?.[he],g==null||(n=g.classNames)==null?void 0:n[he]),"data-sonner-toast":"","data-rich-colors":(ki=g.richColors)!=null?ki:R,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":de,"data-promise":!!g.promise,"data-swiped":Me,"data-removed":ae,"data-visible":Tn,"data-y-position":Rr,"data-x-position":Dr,"data-index":C,"data-front":kr,"data-swiping":Ae,"data-dismissible":Be,"data-type":he,"data-invert":br,"data-swipe-out":ie,"data-swipe-direction":G,"data-expanded":!!(E||fe&&de),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":M.length-C,"--offset":`${ae?pe:Or.current}px`,"--initial-height":fe?"auto":`${vt}px`,...D,...g.style},onDragEnd:()=>{ke(!1),$(null),gi.current=null},onPointerDown:Mt=>{Mt.button!==2&&(wa||!Be||(gn.current=new Date,Ye(Or.current),Mt.target.setPointerCapture(Mt.pointerId),Mt.target.tagName!=="BUTTON"&&(ke(!0),gi.current={x:Mt.clientX,y:Mt.clientY})))},onPointerUp:()=>{var Mt,kn,Xt;if(ie||!Be)return;gi.current=null;const ur=Number(((Mt=Nn.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yt=Number(((kn=Nn.current)==null?void 0:kn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),On=new Date().getTime()-((Xt=gn.current)==null?void 0:Xt.getTime()),Sn=X==="x"?ur:Yt,mt=Math.abs(Sn)/On;if(Math.abs(Sn)>=ZZ||mt>.11){Ye(Or.current),g.onDismiss==null||g.onDismiss.call(g,g),Ne(X==="x"?ur>0?"right":"left":Yt>0?"down":"up"),wr(),ge(!0);return}else{var Dt,Gn;(Dt=Nn.current)==null||Dt.style.setProperty("--swipe-amount-x","0px"),(Gn=Nn.current)==null||Gn.style.setProperty("--swipe-amount-y","0px")}ve(!1),ke(!1),$(null)},onPointerMove:Mt=>{var kn,Xt,ur;if(!gi.current||!Be||((kn=window.getSelection())==null?void 0:kn.toString().length)>0)return;const On=Mt.clientY-gi.current.y,Sn=Mt.clientX-gi.current.x;var mt;const Dt=(mt=e.swipeDirections)!=null?mt:QZ(re);!X&&(Math.abs(Sn)>1||Math.abs(On)>1)&&$(Math.abs(Sn)>Math.abs(On)?"x":"y");let Gn={x:0,y:0};const or=ft=>1/(1.5+Math.abs(ft)/20);if(X==="y"){if(Dt.includes("top")||Dt.includes("bottom"))if(Dt.includes("top")&&On<0||Dt.includes("bottom")&&On>0)Gn.y=On;else{const ft=On*or(On);Gn.y=Math.abs(ft)<Math.abs(On)?ft:On}}else if(X==="x"&&(Dt.includes("left")||Dt.includes("right")))if(Dt.includes("left")&&Sn<0||Dt.includes("right")&&Sn>0)Gn.x=Sn;else{const ft=Sn*or(Sn);Gn.x=Math.abs(ft)<Math.abs(Sn)?ft:Sn}(Math.abs(Gn.x)>0||Math.abs(Gn.y)>0)&&ve(!0),(Xt=Nn.current)==null||Xt.style.setProperty("--swipe-amount-x",`${Gn.x}px`),(ur=Nn.current)==null||ur.style.setProperty("--swipe-amount-y",`${Gn.y}px`)}},tt&&!g.jsx&&he!=="loading"?Ge.createElement("button",{"aria-label":H,"data-disabled":wa,"data-close-button":!0,onClick:wa||!Be?()=>{}:()=>{wr(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Eo(K?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(_a=Q?.close)!=null?_a:LZ):null,(he||g.icon||g.promise)&&g.icon!==null&&(Q?.[he]!==null||g.icon)?Ge.createElement("div",{"data-icon":"",className:Eo(K?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Sa():null,g.type!=="loading"?sa:null):null,Ge.createElement("div",{"data-content":"",className:Eo(K?.content,g==null||(o=g.classNames)==null?void 0:o.content)},Ge.createElement("div",{"data-title":"",className:Eo(K?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Ge.createElement("div",{"data-description":"",className:Eo(W,Zt,K?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),Ge.isValidElement(g.cancel)?g.cancel:g.cancel&&Kg(g.cancel)?Ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||F,onClick:Mt=>{Kg(g.cancel)&&Be&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Mt),wr())},className:Eo(K?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,Ge.isValidElement(g.action)?g.action:g.action&&Kg(g.action)?Ge.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||Y,onClick:Mt=>{Kg(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Mt),!Mt.defaultPrevented&&wr())},className:Eo(K?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function aM(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function eX(e,t){const n={};return[e,t].forEach((r,i)=>{const o=i===1,l=o?"--mobile-offset":"--offset",u=o?WZ:KZ;function h(m){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${l}-${m}`]=u:n[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):h(u)}),n}const tX=Ge.forwardRef(function(t,n){const{id:r,invert:i,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:p,mobileOffset:g,theme:b="light",richColors:_,duration:N,style:S,visibleToasts:T=qZ,toastOptions:C,dir:M=aM(),gap:E=YZ,icons:k,containerAriaLabel:R="Notifications"}=t,[I,D]=Ge.useState([]),F=Ge.useMemo(()=>r?I.filter(de=>de.toasterId===r):I.filter(de=>!de.toasterId),[I,r]),Y=Ge.useMemo(()=>Array.from(new Set([o].concat(F.filter(de=>de.position).map(de=>de.position)))),[F,o]),[ne,W]=Ge.useState([]),[Z,re]=Ge.useState(!1),[ce,fe]=Ge.useState(!1),[K,Q]=Ge.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=Ge.useRef(null),X=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=Ge.useRef(null),G=Ge.useRef(!1),Ne=Ge.useCallback(de=>{D(q=>{var ae;return(ae=q.find(be=>be.id===de.id))!=null&&ae.delete||Ra.dismiss(de.id),q.filter(({id:be})=>be!==de.id)})},[]);return Ge.useEffect(()=>Ra.subscribe(de=>{if(de.dismiss){requestAnimationFrame(()=>{D(q=>q.map(ae=>ae.id===de.id?{...ae,delete:!0}:ae))});return}setTimeout(()=>{j4.flushSync(()=>{D(q=>{const ae=q.findIndex(be=>be.id===de.id);return ae!==-1?[...q.slice(0,ae),{...q[ae],...de},...q.slice(ae+1)]:[de,...q]})})})}),[I]),Ge.useEffect(()=>{if(b!=="system"){Q(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:q})=>{Q(q?"dark":"light")})}catch{de.addListener(({matches:ae})=>{try{Q(ae?"dark":"light")}catch(be){console.error(be)}})}},[b]),Ge.useEffect(()=>{I.length<=1&&re(!1)},[I]),Ge.useEffect(()=>{const de=q=>{var ae;if(l.every(ke=>q[ke]||q.code===ke)){var Ae;re(!0),(Ae=H.current)==null||Ae.focus()}q.code==="Escape"&&(document.activeElement===H.current||(ae=H.current)!=null&&ae.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[l]),Ge.useEffect(()=>{if(H.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,G.current=!1)}},[H.current]),Ge.createElement("section",{ref:n,"aria-label":`${R} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((de,q)=>{var ae;const[be,Ae]=de.split("-");return F.length?Ge.createElement("ol",{key:de,dir:M==="auto"?aM():M,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":be,"data-x-position":Ae,style:{"--front-toast-height":`${((ae=ne[0])==null?void 0:ae.height)||0}px`,"--width":`${GZ}px`,"--gap":`${E}px`,...S,...eX(p,g)},onBlur:ke=>{G.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(G.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||G.current||(G.current=!0,$.current=ke.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{ce||re(!1)},onDragEnd:()=>re(!1),onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},F.filter(ke=>!ke.position&&q===0||ke.position===de).map((ke,ie)=>{var ge,Me;return Ge.createElement(JZ,{key:ke.id,icons:k,index:ie,toast:ke,defaultRichColors:_,duration:(ge=C?.duration)!=null?ge:N,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:T,closeButton:(Me=C?.closeButton)!=null?Me:h,interacting:ce,position:de,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:Ne,toasts:F.filter(ve=>ve.position==ke.position),heights:ne.filter(ve=>ve.position==ke.position),setHeights:W,expandByDefault:u,gap:E,expanded:Z,swipeDirections:t.swipeDirections})})):null}))});var nX=np[" useId ".trim().toString()]||(()=>{}),rX=0;function ao(e){const[t,n]=v.useState(nX());return Pi(()=>{n(r=>r??String(rX++))},[e]),t?`radix-${t}`:""}const iX=["top","right","bottom","left"],Lc=Math.min,Ja=Math.max,Qv=Math.round,Wg=Math.floor,Fo=e=>({x:e,y:e}),aX={left:"right",right:"left",bottom:"top",top:"bottom"},sX={start:"end",end:"start"};function n_(e,t,n){return Ja(e,Lc(t,n))}function _l(e,t){return typeof e=="function"?e(t):e}function jl(e){return e.split("-")[0]}function Vf(e){return e.split("-")[1]}function dN(e){return e==="x"?"y":"x"}function fN(e){return e==="y"?"height":"width"}const oX=new Set(["top","bottom"]);function Io(e){return oX.has(jl(e))?"y":"x"}function hN(e){return dN(Io(e))}function lX(e,t,n){n===void 0&&(n=!1);const r=Vf(e),i=hN(e),o=fN(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Jv(l)),[l,Jv(l)]}function cX(e){const t=Jv(e);return[r_(e),t,r_(t)]}function r_(e){return e.replace(/start|end/g,t=>sX[t])}const sM=["left","right"],oM=["right","left"],uX=["top","bottom"],dX=["bottom","top"];function fX(e,t,n){switch(e){case"top":case"bottom":return n?t?oM:sM:t?sM:oM;case"left":case"right":return t?uX:dX;default:return[]}}function hX(e,t,n,r){const i=Vf(e);let o=fX(jl(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(r_)))),o}function Jv(e){return e.replace(/left|right|bottom|top/g,t=>aX[t])}function mX(e){return{top:0,right:0,bottom:0,left:0,...e}}function jL(e){return typeof e!="number"?mX(e):{top:e,right:e,bottom:e,left:e}}function ey(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function lM(e,t,n){let{reference:r,floating:i}=e;const o=Io(t),l=hN(t),u=fN(l),h=jl(t),m=o==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let _;switch(h){case"top":_={x:p,y:r.y-i.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(Vf(t)){case"start":_[l]-=b*(n&&m?-1:1);break;case"end":_[l]+=b*(n&&m?-1:1);break}return _}async function pX(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:_=0}=_l(t,e),N=jL(_),T=u[b?g==="floating"?"reference":"floating":g],C=ey(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:p,strategy:h})),M=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),k=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},R=ey(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:E,strategy:h}):M);return{top:(C.top-R.top+N.top)/k.y,bottom:(R.bottom-C.bottom+N.bottom)/k.y,left:(C.left-R.left+N.left)/k.x,right:(R.right-C.right+N.right)/k.x}}const gX=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let m=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:g}=lM(m,r,h),b=r,_={},N=0;for(let T=0;T<u.length;T++){var S;const{name:C,fn:M}=u[T],{x:E,y:k,data:R,reset:I}=await M({x:p,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:_,rects:m,platform:{...l,detectOverflow:(S=l.detectOverflow)!=null?S:pX},elements:{reference:e,floating:t}});p=E??p,g=k??g,_={..._,[C]:{..._[C],...R}},I&&N<=50&&(N++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(m=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:p,y:g}=lM(m,b,h)),T=-1)}return{x:p,y:g,placement:b,strategy:i,middlewareData:_}},vX=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:l,elements:u,middlewareData:h}=t,{element:m,padding:p=0}=_l(e,t)||{};if(m==null)return{};const g=jL(p),b={x:n,y:r},_=hN(i),N=fN(_),S=await l.getDimensions(m),T=_==="y",C=T?"top":"left",M=T?"bottom":"right",E=T?"clientHeight":"clientWidth",k=o.reference[N]+o.reference[_]-b[_]-o.floating[N],R=b[_]-o.reference[_],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let D=I?I[E]:0;(!D||!await(l.isElement==null?void 0:l.isElement(I)))&&(D=u.floating[E]||o.floating[N]);const F=k/2-R/2,Y=D/2-S[N]/2-1,ne=Lc(g[C],Y),W=Lc(g[M],Y),Z=ne,re=D-S[N]-W,ce=D/2-S[N]/2+F,fe=n_(Z,ce,re),K=!h.arrow&&Vf(i)!=null&&ce!==fe&&o.reference[N]/2-(ce<Z?ne:W)-S[N]/2<0,Q=K?ce<Z?ce-Z:ce-re:0;return{[_]:b[_]+Q,data:{[_]:fe,centerOffset:ce-fe-Q,...K&&{alignmentOffset:Q}},reset:K}}}),yX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:h,elements:m}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:S=!0,...T}=_l(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=jl(i),M=Io(u),E=jl(u)===u,k=await(h.isRTL==null?void 0:h.isRTL(m.floating)),R=b||(E||!S?[Jv(u)]:cX(u)),I=N!=="none";!b&&I&&R.push(...hX(u,S,N,k));const D=[u,...R],F=await h.detectOverflow(t,T),Y=[];let ne=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&Y.push(F[C]),g){const ce=lX(i,l,k);Y.push(F[ce[0]],F[ce[1]])}if(ne=[...ne,{placement:i,overflows:Y}],!Y.every(ce=>ce<=0)){var W,Z;const ce=(((W=o.flip)==null?void 0:W.index)||0)+1,fe=D[ce];if(fe&&(!(g==="alignment"?M!==Io(fe):!1)||ne.every(H=>Io(H.placement)===M?H.overflows[0]>0:!0)))return{data:{index:ce,overflows:ne},reset:{placement:fe}};let K=(Z=ne.filter(Q=>Q.overflows[0]<=0).sort((Q,H)=>Q.overflows[1]-H.overflows[1])[0])==null?void 0:Z.placement;if(!K)switch(_){case"bestFit":{var re;const Q=(re=ne.filter(H=>{if(I){const X=Io(H.placement);return X===M||X==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(X=>X>0).reduce((X,$)=>X+$,0)]).sort((H,X)=>H[1]-X[1])[0])==null?void 0:re[0];Q&&(K=Q);break}case"initialPlacement":K=u;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function cM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uM(e){return iX.some(t=>e[t]>=0)}const xX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:i="referenceHidden",...o}=_l(e,t);switch(i){case"referenceHidden":{const l=await r.detectOverflow(t,{...o,elementContext:"reference"}),u=cM(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:uM(u)}}}case"escaped":{const l=await r.detectOverflow(t,{...o,altBoundary:!0}),u=cM(l,n.floating);return{data:{escapedOffsets:u,escaped:uM(u)}}}default:return{}}}}},NL=new Set(["left","top"]);async function bX(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=jl(n),u=Vf(n),h=Io(n)==="y",m=NL.has(l)?-1:1,p=o&&h?-1:1,g=_l(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof N=="number"&&(_=u==="end"?N*-1:N),h?{x:_*p,y:b*m}:{x:b*m,y:_*p}}const wX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=t,h=await bX(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:l}}}}},SX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i,platform:o}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:C=>{let{x:M,y:E}=C;return{x:M,y:E}}},...m}=_l(e,t),p={x:n,y:r},g=await o.detectOverflow(t,m),b=Io(jl(i)),_=dN(b);let N=p[_],S=p[b];if(l){const C=_==="y"?"top":"left",M=_==="y"?"bottom":"right",E=N+g[C],k=N-g[M];N=n_(E,N,k)}if(u){const C=b==="y"?"top":"left",M=b==="y"?"bottom":"right",E=S+g[C],k=S-g[M];S=n_(E,S,k)}const T=h.fn({...t,[_]:N,[b]:S});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[_]:l,[b]:u}}}}}},_X=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=_l(e,t),p={x:n,y:r},g=Io(i),b=dN(g);let _=p[b],N=p[g];const S=_l(u,t),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const E=b==="y"?"height":"width",k=o.reference[b]-o.floating[E]+T.mainAxis,R=o.reference[b]+o.reference[E]-T.mainAxis;_<k?_=k:_>R&&(_=R)}if(m){var C,M;const E=b==="y"?"width":"height",k=NL.has(jl(i)),R=o.reference[g]-o.floating[E]+(k&&((C=l.offset)==null?void 0:C[g])||0)+(k?0:T.crossAxis),I=o.reference[g]+o.reference[E]+(k?0:((M=l.offset)==null?void 0:M[g])||0)-(k?T.crossAxis:0);N<R?N=R:N>I&&(N=I)}return{[b]:_,[g]:N}}}},jX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:h=()=>{},...m}=_l(e,t),p=await l.detectOverflow(t,m),g=jl(i),b=Vf(i),_=Io(i)==="y",{width:N,height:S}=o.floating;let T,C;g==="top"||g==="bottom"?(T=g,C=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(C=g,T=b==="end"?"top":"bottom");const M=S-p.top-p.bottom,E=N-p.left-p.right,k=Lc(S-p[T],M),R=Lc(N-p[C],E),I=!t.middlewareData.shift;let D=k,F=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=M),I&&!b){const ne=Ja(p.left,0),W=Ja(p.right,0),Z=Ja(p.top,0),re=Ja(p.bottom,0);_?F=N-2*(ne!==0||W!==0?ne+W:Ja(p.left,p.right)):D=S-2*(Z!==0||re!==0?Z+re:Ja(p.top,p.bottom))}await h({...t,availableWidth:F,availableHeight:D});const Y=await l.getDimensions(u.floating);return N!==Y.width||S!==Y.height?{reset:{rects:!0}}:{}}}};function bx(){return typeof window<"u"}function Hf(e){return TL(e)?(e.nodeName||"").toLowerCase():"#document"}function ns(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yo(e){var t;return(t=(TL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TL(e){return bx()?e instanceof Node||e instanceof ns(e).Node:!1}function uo(e){return bx()?e instanceof Element||e instanceof ns(e).Element:!1}function Vo(e){return bx()?e instanceof HTMLElement||e instanceof ns(e).HTMLElement:!1}function dM(e){return!bx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ns(e).ShadowRoot}const NX=new Set(["inline","contents"]);function sp(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!NX.has(i)}const TX=new Set(["table","td","th"]);function PX(e){return TX.has(Hf(e))}const CX=[":popover-open",":modal"];function wx(e){return CX.some(t=>{try{return e.matches(t)}catch{return!1}})}const AX=["transform","translate","scale","rotate","perspective"],EX=["transform","translate","scale","rotate","perspective","filter"],MX=["paint","layout","strict","content"];function mN(e){const t=pN(),n=uo(e)?fo(e):e;return AX.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||EX.some(r=>(n.willChange||"").includes(r))||MX.some(r=>(n.contain||"").includes(r))}function kX(e){let t=zc(e);for(;Vo(t)&&!wf(t);){if(mN(t))return t;if(wx(t))return null;t=zc(t)}return null}function pN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OX=new Set(["html","body","#document"]);function wf(e){return OX.has(Hf(e))}function fo(e){return ns(e).getComputedStyle(e)}function Sx(e){return uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zc(e){if(Hf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dM(e)&&e.host||Yo(e);return dM(t)?t.host:t}function PL(e){const t=zc(e);return wf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vo(t)&&sp(t)?t:PL(t)}function Mm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=PL(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=ns(i);if(o){const u=i_(l);return t.concat(l,l.visualViewport||[],sp(i)?i:[],u&&n?Mm(u):[])}return t.concat(i,Mm(i,[],n))}function i_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function CL(e){const t=fo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vo(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=Qv(n)!==o||Qv(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function gN(e){return uo(e)?e:e.contextElement}function df(e){const t=gN(e);if(!Vo(t))return Fo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=CL(t);let l=(o?Qv(n.width):n.width)/r,u=(o?Qv(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const RX=Fo(0);function AL(e){const t=ns(e);return!pN()||!t.visualViewport?RX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DX(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ns(e)?!1:t}function Gu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=gN(e);let l=Fo(1);t&&(r?uo(r)&&(l=df(r)):l=df(e));const u=DX(o,n,r)?AL(o):Fo(0);let h=(i.left+u.x)/l.x,m=(i.top+u.y)/l.y,p=i.width/l.x,g=i.height/l.y;if(o){const b=ns(o),_=r&&uo(r)?ns(r):r;let N=b,S=i_(N);for(;S&&r&&_!==N;){const T=df(S),C=S.getBoundingClientRect(),M=fo(S),E=C.left+(S.clientLeft+parseFloat(M.paddingLeft))*T.x,k=C.top+(S.clientTop+parseFloat(M.paddingTop))*T.y;h*=T.x,m*=T.y,p*=T.x,g*=T.y,h+=E,m+=k,N=ns(S),S=i_(N)}}return ey({width:p,height:g,x:h,y:m})}function _x(e,t){const n=Sx(e).scrollLeft;return t?t.left+n:Gu(Yo(e)).left+n}function EL(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-_x(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function IX(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Yo(r),u=t?wx(t.floating):!1;if(r===l||u&&o)return n;let h={scrollLeft:0,scrollTop:0},m=Fo(1);const p=Fo(0),g=Vo(r);if((g||!g&&!o)&&((Hf(r)!=="body"||sp(l))&&(h=Sx(r)),Vo(r))){const _=Gu(r);m=df(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const b=l&&!g&&!o?EL(l,h):Fo(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+p.x+b.x,y:n.y*m.y-h.scrollTop*m.y+p.y+b.y}}function LX(e){return Array.from(e.getClientRects())}function zX(e){const t=Yo(e),n=Sx(e),r=e.ownerDocument.body,i=Ja(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ja(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+_x(e);const u=-n.scrollTop;return fo(r).direction==="rtl"&&(l+=Ja(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const fM=25;function $X(e,t){const n=ns(e),r=Yo(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){o=i.width,l=i.height;const p=pN();(!p||p&&t==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const m=_x(r);if(m<=0){const p=r.ownerDocument,g=p.body,b=getComputedStyle(g),_=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,N=Math.abs(r.clientWidth-g.clientWidth-_);N<=fM&&(o-=N)}else m<=fM&&(o+=m);return{width:o,height:l,x:u,y:h}}const FX=new Set(["absolute","fixed"]);function BX(e,t){const n=Gu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Vo(e)?df(e):Fo(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,h=i*o.x,m=r*o.y;return{width:l,height:u,x:h,y:m}}function hM(e,t,n){let r;if(t==="viewport")r=$X(e,n);else if(t==="document")r=zX(Yo(e));else if(uo(t))r=BX(t,n);else{const i=AL(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ey(r)}function ML(e,t){const n=zc(e);return n===t||!uo(n)||wf(n)?!1:fo(n).position==="fixed"||ML(n,t)}function UX(e,t){const n=t.get(e);if(n)return n;let r=Mm(e,[],!1).filter(u=>uo(u)&&Hf(u)!=="body"),i=null;const o=fo(e).position==="fixed";let l=o?zc(e):e;for(;uo(l)&&!wf(l);){const u=fo(l),h=mN(l);!h&&u.position==="fixed"&&(i=null),(o?!h&&!i:!h&&u.position==="static"&&!!i&&FX.has(i.position)||sp(l)&&!h&&ML(e,l))?r=r.filter(p=>p!==l):i=u,l=zc(l)}return t.set(e,r),r}function VX(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?wx(t)?[]:UX(t,this._c):[].concat(n),r],u=l[0],h=l.reduce((m,p)=>{const g=hM(t,p,i);return m.top=Ja(g.top,m.top),m.right=Lc(g.right,m.right),m.bottom=Lc(g.bottom,m.bottom),m.left=Ja(g.left,m.left),m},hM(t,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function HX(e){const{width:t,height:n}=CL(e);return{width:t,height:n}}function qX(e,t,n){const r=Vo(t),i=Yo(t),o=n==="fixed",l=Gu(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const h=Fo(0);function m(){h.x=_x(i)}if(r||!r&&!o)if((Hf(t)!=="body"||sp(i))&&(u=Sx(t)),r){const _=Gu(t,!0,o,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else i&&m();o&&!r&&i&&m();const p=i&&!r&&!o?EL(i,u):Fo(0),g=l.left+u.scrollLeft-h.x-p.x,b=l.top+u.scrollTop-h.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Ew(e){return fo(e).position==="static"}function mM(e,t){if(!Vo(e)||fo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Yo(e)===n&&(n=n.ownerDocument.body),n}function kL(e,t){const n=ns(e);if(wx(e))return n;if(!Vo(e)){let i=zc(e);for(;i&&!wf(i);){if(uo(i)&&!Ew(i))return i;i=zc(i)}return n}let r=mM(e,t);for(;r&&PX(r)&&Ew(r);)r=mM(r,t);return r&&wf(r)&&Ew(r)&&!mN(r)?n:r||kX(e)||n}const KX=async function(e){const t=this.getOffsetParent||kL,n=this.getDimensions,r=await n(e.floating);return{reference:qX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WX(e){return fo(e).direction==="rtl"}const GX={convertOffsetParentRelativeRectToViewportRelativeRect:IX,getDocumentElement:Yo,getClippingRect:VX,getOffsetParent:kL,getElementRects:KX,getClientRects:LX,getDimensions:HX,getScale:df,isElement:uo,isRTL:WX};function OL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YX(e,t){let n=null,r;const i=Yo(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const m=e.getBoundingClientRect(),{left:p,top:g,width:b,height:_}=m;if(u||t(),!b||!_)return;const N=Wg(g),S=Wg(i.clientWidth-(p+b)),T=Wg(i.clientHeight-(g+_)),C=Wg(p),E={rootMargin:-N+"px "+-S+"px "+-T+"px "+-C+"px",threshold:Ja(0,Lc(1,h))||1};let k=!0;function R(I){const D=I[0].intersectionRatio;if(D!==h){if(!k)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!OL(m,e.getBoundingClientRect())&&l(),k=!1}try{n=new IntersectionObserver(R,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,E)}n.observe(e)}return l(!0),o}function ZX(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=gN(e),p=i||o?[...m?Mm(m):[],...Mm(t)]:[];p.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const g=m&&u?YX(m,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(C=>{let[M]=C;M&&M.target===m&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var E;(E=_)==null||E.observe(t)})),n()}),m&&!h&&_.observe(m),_.observe(t));let N,S=h?Gu(e):null;h&&T();function T(){const C=Gu(e);S&&!OL(S,C)&&n(),S=C,N=requestAnimationFrame(T)}return n(),()=>{var C;p.forEach(M=>{i&&M.removeEventListener("scroll",n),o&&M.removeEventListener("resize",n)}),g?.(),(C=_)==null||C.disconnect(),_=null,h&&cancelAnimationFrame(N)}}const XX=wX,QX=SX,JX=yX,eQ=jX,tQ=xX,pM=vX,nQ=_X,rQ=(e,t,n)=>{const r=new Map,i={platform:GX,...n},o={...i.platform,_c:r};return gX(e,t,{...i,platform:o})};var iQ=typeof document<"u",aQ=function(){},Tv=iQ?v.useLayoutEffect:aQ;function ty(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ty(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ty(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function RL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gM(e,t){const n=RL(e);return Math.round(t*n)/n}function Mw(e){const t=v.useRef(e);return Tv(()=>{t.current=e}),t}function sQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:h,open:m}=e,[p,g]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=v.useState(r);ty(b,r)||_(r);const[N,S]=v.useState(null),[T,C]=v.useState(null),M=v.useCallback(H=>{H!==I.current&&(I.current=H,S(H))},[]),E=v.useCallback(H=>{H!==D.current&&(D.current=H,C(H))},[]),k=o||N,R=l||T,I=v.useRef(null),D=v.useRef(null),F=v.useRef(p),Y=h!=null,ne=Mw(h),W=Mw(i),Z=Mw(m),re=v.useCallback(()=>{if(!I.current||!D.current)return;const H={placement:t,strategy:n,middleware:b};W.current&&(H.platform=W.current),rQ(I.current,D.current,H).then(X=>{const $={...X,isPositioned:Z.current!==!1};ce.current&&!ty(F.current,$)&&(F.current=$,Vc.flushSync(()=>{g($)}))})},[b,t,n,W,Z]);Tv(()=>{m===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[m]);const ce=v.useRef(!1);Tv(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Tv(()=>{if(k&&(I.current=k),R&&(D.current=R),k&&R){if(ne.current)return ne.current(k,R,re);re()}},[k,R,re,ne,Y]);const fe=v.useMemo(()=>({reference:I,floating:D,setReference:M,setFloating:E}),[M,E]),K=v.useMemo(()=>({reference:k,floating:R}),[k,R]),Q=v.useMemo(()=>{const H={position:n,left:0,top:0};if(!K.floating)return H;const X=gM(K.floating,p.x),$=gM(K.floating,p.y);return u?{...H,transform:"translate("+X+"px, "+$+"px)",...RL(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:$}},[n,u,K.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:re,refs:fe,elements:K,floatingStyles:Q}),[p,re,fe,K,Q])}const oQ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pM({element:r.current,padding:i}).fn(n):{}:r?pM({element:r,padding:i}).fn(n):{}}}},lQ=(e,t)=>({...XX(e),options:[e,t]}),cQ=(e,t)=>({...QX(e),options:[e,t]}),uQ=(e,t)=>({...nQ(e),options:[e,t]}),dQ=(e,t)=>({...JX(e),options:[e,t]}),fQ=(e,t)=>({...eQ(e),options:[e,t]}),hQ=(e,t)=>({...tQ(e),options:[e,t]}),mQ=(e,t)=>({...oQ(e),options:[e,t]});var pQ="Arrow",DL=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(Pt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});DL.displayName=pQ;var gQ=DL;function jx(e){const[t,n]=v.useState(void 0);return Pi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const h=o.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,u=m.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vN="Popper",[IL,qf]=ra(vN),[vQ,LL]=IL(vN),zL=e=>{const{__scopePopper:t,children:n}=e,[r,i]=v.useState(null);return s.jsx(vQ,{scope:t,anchor:r,onAnchorChange:i,children:n})};zL.displayName=vN;var $L="PopperAnchor",FL=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=LL($L,n),l=v.useRef(null),u=Gt(t,l),h=v.useRef(null);return v.useEffect(()=>{const m=h.current;h.current=r?.current||l.current,m!==h.current&&o.onAnchorChange(h.current)}),r?null:s.jsx(Pt.div,{...i,ref:u})});FL.displayName=$L;var yN="PopperContent",[yQ,xQ]=IL(yN),BL=v.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:N,...S}=e,T=LL(yN,n),[C,M]=v.useState(null),E=Gt(t,Ae=>M(Ae)),[k,R]=v.useState(null),I=jx(k),D=I?.width??0,F=I?.height??0,Y=r+(o!=="center"?"-"+o:""),ne=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},W=Array.isArray(m)?m:[m],Z=W.length>0,re={padding:ne,boundary:W.filter(wQ),altBoundary:Z},{refs:ce,floatingStyles:fe,placement:K,isPositioned:Q,middlewareData:H}=sQ({strategy:"fixed",placement:Y,whileElementsMounted:(...Ae)=>ZX(...Ae,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[lQ({mainAxis:i+F,alignmentAxis:l}),h&&cQ({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?uQ():void 0,...re}),h&&dQ({...re}),fQ({...re,apply:({elements:Ae,rects:ke,availableWidth:ie,availableHeight:ge})=>{const{width:Me,height:ve}=ke.reference,pe=Ae.floating.style;pe.setProperty("--radix-popper-available-width",`${ie}px`),pe.setProperty("--radix-popper-available-height",`${ge}px`),pe.setProperty("--radix-popper-anchor-width",`${Me}px`),pe.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),k&&mQ({element:k,padding:u}),SQ({arrowWidth:D,arrowHeight:F}),b&&hQ({strategy:"referenceHidden",...re})]}),[X,$]=HL(K),G=$a(N);Pi(()=>{Q&&G?.()},[Q,G]);const Ne=H.arrow?.x,de=H.arrow?.y,q=H.arrow?.centerOffset!==0,[ae,be]=v.useState();return Pi(()=>{C&&be(window.getComputedStyle(C).zIndex)},[C]),s.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:Q?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(yQ,{scope:n,placedSide:X,onArrowChange:R,arrowX:Ne,arrowY:de,shouldHideArrow:q,children:s.jsx(Pt.div,{"data-side":X,"data-align":$,...S,ref:E,style:{...S.style,animation:Q?void 0:"none"}})})})});BL.displayName=yN;var UL="PopperArrow",bQ={top:"bottom",right:"left",bottom:"top",left:"right"},VL=v.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=xQ(UL,r),l=bQ[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(gQ,{...i,ref:n,style:{...i.style,display:"block"}})})});VL.displayName=UL;function wQ(e){return e!==null}var SQ=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[m,p]=HL(n),g={start:"0%",center:"50%",end:"100%"}[p],b=(i.arrow?.x??0)+u/2,_=(i.arrow?.y??0)+h/2;let N="",S="";return m==="bottom"?(N=l?g:`${b}px`,S=`${-h}px`):m==="top"?(N=l?g:`${b}px`,S=`${r.floating.height+h}px`):m==="right"?(N=`${-h}px`,S=l?g:`${_}px`):m==="left"&&(N=`${r.floating.width+h}px`,S=l?g:`${_}px`),{data:{x:N,y:S}}}});function HL(e){const[t,n="center"]=e.split("-");return[t,n]}var qL=zL,xN=FL,bN=BL,wN=VL,_Q=Symbol("radix.slottable");function jQ(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_Q,t}var[Nx]=ra("Tooltip",[qf]),SN=qf(),KL="TooltipProvider",NQ=700,vM="tooltip.open",[TQ,WL]=Nx(KL),GL=e=>{const{__scopeTooltip:t,delayDuration:n=NQ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,l=v.useRef(!0),u=v.useRef(!1),h=v.useRef(0);return v.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),s.jsx(TQ,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:v.useCallback(m=>{u.current=m},[]),disableHoverableContent:i,children:o})};GL.displayName=KL;var YL="Tooltip",[y2e,op]=Nx(YL),a_="TooltipTrigger",PQ=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=op(a_,n),o=WL(a_,n),l=SN(n),u=v.useRef(null),h=Gt(t,u,i.onTriggerChange),m=v.useRef(!1),p=v.useRef(!1),g=v.useCallback(()=>m.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx(xN,{asChild:!0,...l,children:s.jsx(Pt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:Ze(e.onPointerMove,b=>{b.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ze(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ze(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ze(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:Ze(e.onBlur,i.onClose),onClick:Ze(e.onClick,i.onClose)})})});PQ.displayName=a_;var _N="TooltipPortal",[CQ,AQ]=Nx(_N,{forceMount:void 0}),ZL=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=op(_N,t);return s.jsx(CQ,{scope:t,forceMount:n,children:s.jsx(Fa,{present:n||o.open,children:s.jsx(Bf,{asChild:!0,container:i,children:r})})})};ZL.displayName=_N;var Sf="TooltipContent",XL=v.forwardRef((e,t)=>{const n=AQ(Sf,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,l=op(Sf,e.__scopeTooltip);return s.jsx(Fa,{present:r||l.open,children:l.disableHoverableContent?s.jsx(QL,{side:i,...o,ref:t}):s.jsx(EQ,{side:i,...o,ref:t})})}),EQ=v.forwardRef((e,t)=>{const n=op(Sf,e.__scopeTooltip),r=WL(Sf,e.__scopeTooltip),i=v.useRef(null),o=Gt(t,i),[l,u]=v.useState(null),{trigger:h,onClose:m}=n,p=i.current,{onPointerInTransitChange:g}=r,b=v.useCallback(()=>{u(null),g(!1)},[g]),_=v.useCallback((N,S)=>{const T=N.currentTarget,C={x:N.clientX,y:N.clientY},M=DQ(C,T.getBoundingClientRect()),E=IQ(C,M),k=LQ(S.getBoundingClientRect()),R=$Q([...E,...k]);u(R),g(!0)},[g]);return v.useEffect(()=>()=>b(),[b]),v.useEffect(()=>{if(h&&p){const N=T=>_(T,p),S=T=>_(T,h);return h.addEventListener("pointerleave",N),p.addEventListener("pointerleave",S),()=>{h.removeEventListener("pointerleave",N),p.removeEventListener("pointerleave",S)}}},[h,p,_,b]),v.useEffect(()=>{if(l){const N=S=>{const T=S.target,C={x:S.clientX,y:S.clientY},M=h?.contains(T)||p?.contains(T),E=!zQ(C,l);M?b():E&&(b(),m())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[h,p,l,m,b]),s.jsx(QL,{...e,ref:o})}),[MQ,kQ]=Nx(YL,{isInside:!1}),OQ=jQ("TooltipContent"),QL=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,h=op(Sf,n),m=SN(n),{onClose:p}=h;return v.useEffect(()=>(document.addEventListener(vM,p),()=>document.removeEventListener(vM,p)),[p]),v.useEffect(()=>{if(h.trigger){const g=b=>{b.target?.contains(h.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,p]),s.jsx(Ff,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:s.jsxs(bN,{"data-state":h.stateAttribute,...m,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(OQ,{children:r}),s.jsx(MQ,{scope:n,isInside:!0,children:s.jsx(ZK,{id:h.contentId,role:"tooltip",children:i||r})})]})})});XL.displayName=Sf;var JL="TooltipArrow",RQ=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=SN(n);return kQ(JL,n).isInside?null:s.jsx(wN,{...i,...r,ref:t})});RQ.displayName=JL;function DQ(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function IQ(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function LQ(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function zQ(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],h=t[l],m=u.x,p=u.y,g=h.x,b=h.y;p>r!=b>r&&n<(g-m)*(r-p)/(b-p)+m&&(i=!i)}return i}function $Q(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),FQ(t)}function FQ(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var BQ=GL,UQ=ZL,e3=XL;const VQ=BQ,HQ=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(UQ,{children:s.jsx(e3,{ref:r,sideOffset:t,className:Tt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));HQ.displayName=e3.displayName;const wt=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Tt("rounded-xl border bg-card text-card-foreground shadow",e),...t}));wt.displayName="Card";const jN=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Tt("flex flex-col space-y-1.5 p-6",e),...t}));jN.displayName="CardHeader";const NN=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Tt("font-semibold leading-none tracking-tight",e),...t}));NN.displayName="CardTitle";const TN=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));TN.displayName="CardDescription";const Et=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Tt("p-6 pt-0",e),...t}));Et.displayName="CardContent";const s_=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Tt("flex items-center p-6 pt-0",e),...t}));s_.displayName="CardFooter";function qQ(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(wt,{className:"w-full max-w-md mx-4",children:s.jsxs(Et,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx($W,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const PN=v.createContext({});function CN(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const t3=typeof window<"u",n3=t3?v.useLayoutEffect:v.useEffect,Tx=v.createContext(null);function AN(e,t){e.indexOf(t)===-1&&e.push(t)}function ny(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ho=(e,t,n)=>n>t?t:n<e?e:n;let EN=()=>{};const Nl={},r3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function i3(e){return typeof e=="object"&&e!==null}const a3=e=>/^0[^.\s]+$/u.test(e);function s3(e){let t;return()=>(t===void 0&&(t=e()),t)}const ks=e=>e,KQ=(e,t)=>n=>t(e(n)),lp=(...e)=>e.reduce(KQ),km=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class MN{constructor(){this.subscriptions=[]}add(t){return AN(this.subscriptions,t),()=>ny(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const so=e=>e*1e3,Ts=e=>e/1e3;function o3(e,t){return t?e*(1e3/t):0}const l3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,WQ=1e-7,GQ=12;function YQ(e,t,n,r,i){let o,l,u=0;do l=t+(n-t)/2,o=l3(l,r,i)-e,o>0?n=l:t=l;while(Math.abs(o)>WQ&&++u<GQ);return l}function cp(e,t,n,r){if(e===t&&n===r)return ks;const i=o=>YQ(o,0,1,e,n);return o=>o===0||o===1?o:l3(i(o),t,r)}const c3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,u3=e=>t=>1-e(1-t),d3=cp(.33,1.53,.69,.99),kN=u3(d3),f3=c3(kN),h3=e=>(e*=2)<1?.5*kN(e):.5*(2-Math.pow(2,-10*(e-1))),ON=e=>1-Math.sin(Math.acos(e)),m3=u3(ON),p3=c3(ON),ZQ=cp(.42,0,1,1),XQ=cp(0,0,.58,1),g3=cp(.42,0,.58,1),QQ=e=>Array.isArray(e)&&typeof e[0]!="number",v3=e=>Array.isArray(e)&&typeof e[0]=="number",JQ={linear:ks,easeIn:ZQ,easeInOut:g3,easeOut:XQ,circIn:ON,circInOut:p3,circOut:m3,backIn:kN,backInOut:f3,backOut:d3,anticipate:h3},eJ=e=>typeof e=="string",yM=e=>{if(v3(e)){EN(e.length===4);const[t,n,r,i]=e;return cp(t,n,r,i)}else if(eJ(e))return JQ[e];return e},Gg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tJ(e,t){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(m.schedule(p),e()),p(u)}const m={schedule:(p,g=!1,b=!1)=>{const N=b&&i?n:r;return g&&l.add(p),N.has(p)||N.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(u=p,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(h),n.clear(),i=!1,o&&(o=!1,m.process(p))}};return m}const nJ=40;function y3(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Gg.reduce((E,k)=>(E[k]=tJ(o),E),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:p,update:g,preRender:b,render:_,postRender:N}=l,S=()=>{const E=Nl.useManualTiming?i.timestamp:performance.now();n=!1,Nl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,nJ),1)),i.timestamp=E,i.isProcessing=!0,u.process(i),h.process(i),m.process(i),p.process(i),g.process(i),b.process(i),_.process(i),N.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(S))},T=()=>{n=!0,r=!0,i.isProcessing||e(S)};return{schedule:Gg.reduce((E,k)=>{const R=l[k];return E[k]=(I,D=!1,F=!1)=>(n||T(),R.schedule(I,D,F)),E},{}),cancel:E=>{for(let k=0;k<Gg.length;k++)l[Gg[k]].cancel(E)},state:i,steps:l}}const{schedule:sr,cancel:$c,state:$i,steps:kw}=y3(typeof requestAnimationFrame<"u"?requestAnimationFrame:ks,!0);let Pv;function rJ(){Pv=void 0}const ma={now:()=>(Pv===void 0&&ma.set($i.isProcessing||Nl.useManualTiming?$i.timestamp:performance.now()),Pv),set:e=>{Pv=e,queueMicrotask(rJ)}},x3=e=>t=>typeof t=="string"&&t.startsWith(e),b3=x3("--"),iJ=x3("var(--"),RN=e=>iJ(e)?aJ.test(e.split("/*")[0].trim()):!1,aJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xM(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Kf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Om={...Kf,transform:e=>Ho(0,1,e)},Yg={...Kf,default:1},wm=e=>Math.round(e*1e5)/1e5,DN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sJ(e){return e==null}const oJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IN=(e,t)=>n=>!!(typeof n=="string"&&oJ.test(n)&&n.startsWith(e)||t&&!sJ(n)&&Object.prototype.hasOwnProperty.call(n,t)),w3=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(DN);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},lJ=e=>Ho(0,255,e),Ow={...Kf,transform:e=>Math.round(lJ(e))},Ou={test:IN("rgb","red"),parse:w3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ow.transform(e)+", "+Ow.transform(t)+", "+Ow.transform(n)+", "+wm(Om.transform(r))+")"};function cJ(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const o_={test:IN("#"),parse:cJ,transform:Ou.transform},up=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bc=up("deg"),Bo=up("%"),bt=up("px"),uJ=up("vh"),dJ=up("vw"),bM={...Bo,parse:e=>Bo.parse(e)/100,transform:e=>Bo.transform(e*100)},ef={test:IN("hsl","hue"),parse:w3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bo.transform(wm(t))+", "+Bo.transform(wm(n))+", "+wm(Om.transform(r))+")"},ni={test:e=>Ou.test(e)||o_.test(e)||ef.test(e),parse:e=>Ou.test(e)?Ou.parse(e):ef.test(e)?ef.parse(e):o_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ou.transform(e):ef.transform(e),getAnimatableNone:e=>{const t=ni.parse(e);return t.alpha=0,ni.transform(t)}},fJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hJ(e){return isNaN(e)&&typeof e=="string"&&(e.match(DN)?.length||0)+(e.match(fJ)?.length||0)>0}const S3="number",_3="color",mJ="var",pJ="var(",wM="${}",gJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=t.replace(gJ,h=>(ni.test(h)?(r.color.push(o),i.push(_3),n.push(ni.parse(h))):h.startsWith(pJ)?(r.var.push(o),i.push(mJ),n.push(h)):(r.number.push(o),i.push(S3),n.push(parseFloat(h))),++o,wM)).split(wM);return{values:n,split:u,indexes:r,types:i}}function j3(e){return Rm(e).values}function N3(e){const{split:t,types:n}=Rm(e),r=t.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=t[l],i[l]!==void 0){const u=n[l];u===S3?o+=wm(i[l]):u===_3?o+=ni.transform(i[l]):o+=i[l]}return o}}const vJ=e=>typeof e=="number"?0:ni.test(e)?ni.getAnimatableNone(e):e;function yJ(e){const t=j3(e);return N3(e)(t.map(vJ))}const oo={test:hJ,parse:j3,createTransformer:N3,getAnimatableNone:yJ};function Rw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xJ({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,l=0;if(!t)i=o=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,h=2*n-u;i=Rw(h,u,e+1/3),o=Rw(h,u,e),l=Rw(h,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function ry(e,t){return n=>n>0?t:e}const Mr=(e,t,n)=>e+(t-e)*n,Dw=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},bJ=[o_,Ou,ef],wJ=e=>bJ.find(t=>t.test(e));function SM(e){const t=wJ(e);if(!t)return!1;let n=t.parse(e);return t===ef&&(n=xJ(n)),n}const _M=(e,t)=>{const n=SM(e),r=SM(t);if(!n||!r)return ry(e,t);const i={...n};return o=>(i.red=Dw(n.red,r.red,o),i.green=Dw(n.green,r.green,o),i.blue=Dw(n.blue,r.blue,o),i.alpha=Mr(n.alpha,r.alpha,o),Ou.transform(i))},l_=new Set(["none","hidden"]);function SJ(e,t){return l_.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _J(e,t){return n=>Mr(e,t,n)}function LN(e){return typeof e=="number"?_J:typeof e=="string"?RN(e)?ry:ni.test(e)?_M:TJ:Array.isArray(e)?T3:typeof e=="object"?ni.test(e)?_M:jJ:ry}function T3(e,t){const n=[...e],r=n.length,i=e.map((o,l)=>LN(o)(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function jJ(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=LN(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function NJ(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][r[o]],u=e.values[l]??0;n[i]=u,r[o]++}return n}const TJ=(e,t)=>{const n=oo.createTransformer(t),r=Rm(e),i=Rm(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?l_.has(e)&&!i.values.length||l_.has(t)&&!r.values.length?SJ(e,t):lp(T3(NJ(r,i),i.values),n):ry(e,t)};function P3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Mr(e,t,n):LN(e)(e,t)}const PJ=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>sr.update(t,n),stop:()=>$c(t),now:()=>$i.isProcessing?$i.timestamp:ma.now()}},C3=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},iy=2e4;function zN(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<iy;)t+=n,r=e.next(t);return t>=iy?1/0:t}function CJ(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(zN(r),iy);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Ts(i)}}const AJ=5;function A3(e,t,n){const r=Math.max(t-AJ,0);return o3(n-e(r),t-r)}const Fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iw=.001;function EJ({duration:e=Fr.duration,bounce:t=Fr.bounce,velocity:n=Fr.velocity,mass:r=Fr.mass}){let i,o,l=1-t;l=Ho(Fr.minDamping,Fr.maxDamping,l),e=Ho(Fr.minDuration,Fr.maxDuration,Ts(e)),l<1?(i=m=>{const p=m*l,g=p*e,b=p-n,_=c_(m,l),N=Math.exp(-g);return Iw-b/_*N},o=m=>{const g=m*l*e,b=g*n+n,_=Math.pow(l,2)*Math.pow(m,2)*e,N=Math.exp(-g),S=c_(Math.pow(m,2),l);return(-i(m)+Iw>0?-1:1)*((b-_)*N)/S}):(i=m=>{const p=Math.exp(-m*e),g=(m-n)*e+1;return-Iw+p*g},o=m=>{const p=Math.exp(-m*e),g=(n-m)*(e*e);return p*g});const u=5/e,h=kJ(i,o,u);if(e=so(e),isNaN(h))return{stiffness:Fr.stiffness,damping:Fr.damping,duration:e};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:e}}}const MJ=12;function kJ(e,t,n){let r=n;for(let i=1;i<MJ;i++)r=r-e(r)/t(r);return r}function c_(e,t){return e*Math.sqrt(1-t*t)}const OJ=["duration","bounce"],RJ=["stiffness","damping","mass"];function jM(e,t){return t.some(n=>e[n]!==void 0)}function DJ(e){let t={velocity:Fr.velocity,stiffness:Fr.stiffness,damping:Fr.damping,mass:Fr.mass,isResolvedFromDuration:!1,...e};if(!jM(e,RJ)&&jM(e,OJ))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Ho(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Fr.mass,stiffness:i,damping:o}}else{const n=EJ(e);t={...t,...n,mass:Fr.mass},t.isResolvedFromDuration=!0}return t}function ay(e=Fr.visualDuration,t=Fr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:m,mass:p,duration:g,velocity:b,isResolvedFromDuration:_}=DJ({...n,velocity:-Ts(n.velocity||0)}),N=b||0,S=m/(2*Math.sqrt(h*p)),T=l-o,C=Ts(Math.sqrt(h/p)),M=Math.abs(T)<5;r||(r=M?Fr.restSpeed.granular:Fr.restSpeed.default),i||(i=M?Fr.restDelta.granular:Fr.restDelta.default);let E;if(S<1){const R=c_(C,S);E=I=>{const D=Math.exp(-S*C*I);return l-D*((N+S*C*T)/R*Math.sin(R*I)+T*Math.cos(R*I))}}else if(S===1)E=R=>l-Math.exp(-C*R)*(T+(N+C*T)*R);else{const R=C*Math.sqrt(S*S-1);E=I=>{const D=Math.exp(-S*C*I),F=Math.min(R*I,300);return l-D*((N+S*C*T)*Math.sinh(F)+R*T*Math.cosh(F))/R}}const k={calculatedDuration:_&&g||null,next:R=>{const I=E(R);if(_)u.done=R>=g;else{let D=R===0?N:0;S<1&&(D=R===0?so(N):A3(E,R,I));const F=Math.abs(D)<=r,Y=Math.abs(l-I)<=i;u.done=F&&Y}return u.value=u.done?l:I,u},toString:()=>{const R=Math.min(zN(k),iy),I=C3(D=>k.next(R*D).value,R,30);return R+"ms "+I},toTransition:()=>{}};return k}ay.applyToOptions=e=>{const t=CJ(e,100,ay);return e.ease=t.ease,e.duration=so(t.duration),e.type="keyframes",e};function u_({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:p}){const g=e[0],b={done:!1,value:g},_=F=>u!==void 0&&F<u||h!==void 0&&F>h,N=F=>u===void 0?h:h===void 0||Math.abs(u-F)<Math.abs(h-F)?u:h;let S=n*t;const T=g+S,C=l===void 0?T:l(T);C!==T&&(S=C-g);const M=F=>-S*Math.exp(-F/r),E=F=>C+M(F),k=F=>{const Y=M(F),ne=E(F);b.done=Math.abs(Y)<=m,b.value=b.done?C:ne};let R,I;const D=F=>{_(b.value)&&(R=F,I=ay({keyframes:[b.value,N(b.value)],velocity:A3(E,F,b.value),damping:i,stiffness:o,restDelta:m,restSpeed:p}))};return D(0),{calculatedDuration:null,next:F=>{let Y=!1;return!I&&R===void 0&&(Y=!0,k(F),D(F)),R!==void 0&&F>=R?I.next(F-R):(!Y&&k(F),b)}}}function IJ(e,t,n){const r=[],i=n||Nl.mix||P3,o=e.length-1;for(let l=0;l<o;l++){let u=i(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||ks:t;u=lp(h,u)}r.push(u)}return r}function LJ(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(EN(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=IJ(t,r,i),h=u.length,m=p=>{if(l&&p<e[0])return t[0];let g=0;if(h>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const b=km(e[g],e[g+1],p);return u[g](b)};return n?p=>m(Ho(e[0],e[o-1],p)):m}function zJ(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=km(0,t,r);e.push(Mr(n,1,i))}}function $J(e){const t=[0];return zJ(t,e.length-1),t}function FJ(e,t){return e.map(n=>n*t)}function BJ(e,t){return e.map(()=>t||g3).splice(0,e.length-1)}function Sm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=QQ(r)?r.map(yM):yM(r),o={done:!1,value:t[0]},l=FJ(n&&n.length===t.length?n:$J(t),e),u=LJ(l,t,{ease:Array.isArray(i)?i:BJ(t,i)});return{calculatedDuration:e,next:h=>(o.value=u(h),o.done=h>=e,o)}}const UJ=e=>e!==null;function $N(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(UJ),u=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const VJ={decay:u_,inertia:u_,tween:Sm,keyframes:Sm,spring:ay};function E3(e){typeof e.type=="string"&&(e.type=VJ[e.type])}class FN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const HJ=e=>e/100;class BN extends FN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ma.now()&&this.tick(ma.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;E3(t);const{type:n=Sm,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const h=n||Sm;h!==Sm&&typeof u[0]!="number"&&(this.mixKeyframes=lp(HJ,P3(u[0],u[1])),u=[0,100]);const m=h({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=zN(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:p,repeat:g,repeatType:b,repeatDelay:_,type:N,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,k=r;if(g){const F=Math.min(this.currentTime,i)/u;let Y=Math.floor(F),ne=F%1;!ne&&F>=1&&(ne=1),ne===1&&Y--,Y=Math.min(Y,g+1),Y%2&&(b==="reverse"?(ne=1-ne,_&&(ne-=_/u)):b==="mirror"&&(k=l)),E=Ho(0,1,ne)*u}const R=M?{done:!1,value:p[0]}:k.next(E);o&&(R.value=o(R.value));let{done:I}=R;!M&&h!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return D&&N!==u_&&(R.value=$N(p,this.options,T,this.speed)),S&&S(R.value),D&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return Ts(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ts(t)}get time(){return Ts(this.currentTime)}set time(t){t=so(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ma.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=PJ,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ma.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function qJ(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ru=e=>e*180/Math.PI,d_=e=>{const t=Ru(Math.atan2(e[1],e[0]));return f_(t)},KJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:d_,rotateZ:d_,skewX:e=>Ru(Math.atan(e[1])),skewY:e=>Ru(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},f_=e=>(e=e%360,e<0&&(e+=360),e),NM=d_,TM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),PM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),WJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TM,scaleY:PM,scale:e=>(TM(e)+PM(e))/2,rotateX:e=>f_(Ru(Math.atan2(e[6],e[5]))),rotateY:e=>f_(Ru(Math.atan2(-e[2],e[0]))),rotateZ:NM,rotate:NM,skewX:e=>Ru(Math.atan(e[4])),skewY:e=>Ru(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function h_(e){return e.includes("scale")?1:0}function m_(e,t){if(!e||e==="none")return h_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=WJ,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KJ,i=u}if(!i)return h_(t);const o=r[t],l=i[1].split(",").map(YJ);return typeof o=="function"?o(l):l[o]}const GJ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return m_(n,t)};function YJ(e){return parseFloat(e.trim())}const Wf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gf=new Set(Wf),CM=e=>e===Kf||e===bt,ZJ=new Set(["x","y","z"]),XJ=Wf.filter(e=>!ZJ.has(e));function QJ(e){const t=[];return XJ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Pc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>m_(t,"x"),y:(e,{transform:t})=>m_(t,"y")};Pc.translateX=Pc.x;Pc.translateY=Pc.y;const Fu=new Set;let p_=!1,g_=!1,v_=!1;function M3(){if(g_){const e=Array.from(Fu).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=QJ(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}g_=!1,p_=!1,Fu.forEach(e=>e.complete(v_)),Fu.clear()}function k3(){Fu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(g_=!0)})}function JJ(){v_=!0,k3(),M3(),v_=!1}class UN{constructor(t,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Fu.add(this),p_||(p_=!0,sr.read(k3),sr.resolveKeyframes(M3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}qJ(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fu.delete(this)}cancel(){this.state==="scheduled"&&(Fu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eee=e=>e.startsWith("--");function tee(e,t,n){eee(t)?e.style.setProperty(t,n):e.style[t]=n}const nee={};function O3(e,t){const n=s3(e);return()=>nee[t]??n()}const ree=O3(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),R3=O3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dm=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,AM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dm([0,.65,.55,1]),circOut:dm([.55,0,1,.45]),backIn:dm([.31,.01,.66,-.59]),backOut:dm([.33,1.53,.69,.99])};function D3(e,t){if(e)return typeof e=="function"?R3()?C3(e,t):"ease-out":v3(e)?dm(e):Array.isArray(e)?e.map(n=>D3(n,t)||AM.easeOut):AM[e]}function iee(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const p={[t]:n};h&&(p.offset=h);const g=D3(u,i);Array.isArray(g)&&(p.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),e.animate(p,b)}function I3(e){return typeof e=="function"&&"applyToOptions"in e}function aee({type:e,...t}){return I3(e)&&R3()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class L3 extends FN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,EN(typeof t.type!="string");const m=aee(t);this.animation=iee(n,r,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=$N(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):tee(n,r,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ts(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ts(t)}get time(){return Ts(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=so(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ree()?(this.animation.timeline=t,ks):n(this)}}const z3={anticipate:h3,backInOut:f3,circInOut:p3};function see(e){return e in z3}function oee(e){typeof e.ease=="string"&&see(e.ease)&&(e.ease=z3[e.ease])}const Lw=10;class lee extends L3{constructor(t){oee(t),E3(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new BN({...l,autoplay:!1}),h=Math.max(Lw,ma.now()-this.startTime),m=Ho(0,Lw,h-Lw);n.setWithVelocity(u.sample(Math.max(0,h-m)).value,u.sample(h).value,m),u.stop()}}const EM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oo.test(e)||e==="0")&&!e.startsWith("url("));function cee(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function uee(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=EM(i,t),u=EM(o,t);return!l||!u?!1:cee(e)||(n==="spring"||I3(n))&&r}function y_(e){e.duration=0,e.type="keyframes"}const dee=new Set(["opacity","clipPath","filter","transform"]),fee=s3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hee(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=t.owner.getProps();return fee()&&n&&dee.has(n)&&(n!=="transform"||!m)&&!h&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const mee=40;class pee extends FN{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ma.now();const b={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:h,motionValue:m,element:p,...g},_=p?.KeyframeResolver||UN;this.keyframeResolver=new _(u,(N,S,T)=>this.onKeyframesResolved(N,S,b,!T),h,m,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:p}=r;this.resolvedAt=ma.now(),uee(t,o,l,u)||((Nl.instantAnimations||!h)&&p?.($N(t,r,n)),t[0]=t[t.length-1],y_(r),r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mee?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},_=!m&&hee(b),N=b.motionValue?.owner?.current,S=_?new lee({...b,element:N}):new BN(b);S.finished.then(()=>{this.notifyFinished()}).catch(ks),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),JJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function $3(e,t,n,r=0,i=1){const o=Array.from(e).sort((m,p)=>m.sortNodePosition(p)).indexOf(t),l=e.size,u=(l-1)*r;return typeof n=="function"?n(o,l):i===1?o*r:u-o*r}const gee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vee(e){const t=gee.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function F3(e,t,n=1){const[r,i]=vee(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return r3(l)?parseFloat(l):l}return RN(i)?F3(i,t,n+1):i}const yee={type:"spring",stiffness:500,damping:25,restSpeed:10},xee=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bee={type:"keyframes",duration:.8},wee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},See=(e,{keyframes:t})=>t.length>2?bee:Gf.has(e)?e.startsWith("scale")?xee(t[1]):yee:wee,_ee=e=>e!==null;function jee(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(_ee),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}function B3(e,t){if(e?.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function VN(e,t){const n=e?.[t]??e?.default??e;return n!==e?B3(n,e):n}function Nee({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const HN=(e,t,n,r={},i,o)=>l=>{const u=VN(r,e)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-so(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-m,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:i};Nee(u)||Object.assign(p,See(e,p)),p.duration&&(p.duration=so(p.duration)),p.repeatDelay&&(p.repeatDelay=so(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(y_(p),p.delay===0&&(g=!0)),(Nl.instantAnimations||Nl.skipAnimations||i?.shouldSkipAnimations)&&(g=!0,y_(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const b=jee(p.keyframes,u);if(b!==void 0){sr.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new BN(p):new pee(p)};function MM(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function qN(e,t,n,r){if(typeof t=="function"){const[i,o]=MM(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=MM(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function ff(e,t,n){const r=e.getProps();return qN(r,t,n!==void 0?n:r.custom,e)}const U3=new Set(["width","height","top","left","right","bottom",...Wf]),kM=30,Tee=e=>!isNaN(parseFloat(e));class Pee{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=ma.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ma.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Tee(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new MN);const r=this.events[t].add(n);return t==="change"?()=>{r(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ma.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kM);return o3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _f(e,t){return new Pee(e,t)}const x_=e=>Array.isArray(e);function Cee(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,_f(n))}function Aee(e){return x_(e)?e[e.length-1]||0:e}function Eee(e,t){const n=ff(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const u=Aee(o[l]);Cee(e,l,u)}}const ea=e=>!!(e&&e.getVelocity);function Mee(e){return!!(ea(e)&&e.add)}function b_(e,t){const n=e.getValue("willChange");if(Mee(n))return n.add(t);if(!n&&Nl.WillChange){const r=new Nl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function KN(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const kee="framerAppearId",V3="data-"+KN(kee);function H3(e){return e.props[V3]}function Oee({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function q3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o,transitionEnd:l,...u}=t;const h=e.getDefaultTransition();o=o?B3(o,h):h;const m=o?.reduceMotion;r&&(o=r);const p=[],g=i&&e.animationState&&e.animationState.getState()[i];for(const b in u){const _=e.getValue(b,e.latestValues[b]??null),N=u[b];if(N===void 0||g&&Oee(g,b))continue;const S={delay:n,...VN(o||{},b)},T=_.get();if(T!==void 0&&!_.isAnimating&&!Array.isArray(N)&&N===T&&!S.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const k=H3(e);if(k){const R=window.MotionHandoffAnimation(k,b,sr);R!==null&&(S.startTime=R,C=!0)}}b_(e,b);const M=m??e.shouldReduceMotion;_.start(HN(b,_,N,M&&U3.has(b)?{type:!1}:S,e,C));const E=_.animation;E&&p.push(E)}if(l){const b=()=>sr.update(()=>{l&&Eee(e,l)});p.length?Promise.all(p).then(b):b()}return p}function w_(e,t,n={}){const r=ff(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(q3(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:g}=i;return Ree(e,t,h,m,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,m]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function Ree(e,t,n=0,r=0,i=0,o=1,l){const u=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),u.push(w_(h,t,{...l,delay:n+(typeof r=="function"?0:r)+$3(e.variantChildren,h,r,i,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function Dee(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>w_(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=w_(e,t,n);else{const i=typeof t=="function"?ff(e,t,n.custom):t;r=Promise.all(q3(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Iee={test:e=>e==="auto",parse:e=>e},K3=e=>t=>t.test(e),W3=[Kf,bt,Bo,bc,dJ,uJ,Iee],OM=e=>W3.find(K3(e));function Lee(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||a3(e):!0}const zee=new Set(["brightness","contrast","saturate","opacity"]);function $ee(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(DN)||[];if(!r)return e;const i=n.replace(r,"");let o=zee.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Fee=/\b([a-z-]*)\(.*?\)/gu,S_={...oo,getAnimatableNone:e=>{const t=e.match(Fee);return t?t.map($ee).join(" "):e}},__={...oo,getAnimatableNone:e=>{const t=oo.parse(e);return oo.createTransformer(e)(t.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},RM={...Kf,transform:Math.round},Bee={rotate:bc,rotateX:bc,rotateY:bc,rotateZ:bc,scale:Yg,scaleX:Yg,scaleY:Yg,scaleZ:Yg,skew:bc,skewX:bc,skewY:bc,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Om,originX:bM,originY:bM,originZ:bt},WN={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,inset:bt,insetBlock:bt,insetBlockStart:bt,insetBlockEnd:bt,insetInline:bt,insetInlineStart:bt,insetInlineEnd:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,paddingBlock:bt,paddingBlockStart:bt,paddingBlockEnd:bt,paddingInline:bt,paddingInlineStart:bt,paddingInlineEnd:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,marginBlock:bt,marginBlockStart:bt,marginBlockEnd:bt,marginInline:bt,marginInlineStart:bt,marginInlineEnd:bt,fontSize:bt,backgroundPositionX:bt,backgroundPositionY:bt,...Bee,zIndex:RM,fillOpacity:Om,strokeOpacity:Om,numOctaves:RM},Uee={...WN,color:ni,backgroundColor:ni,outlineColor:ni,fill:ni,stroke:ni,borderColor:ni,borderTopColor:ni,borderRightColor:ni,borderBottomColor:ni,borderLeftColor:ni,filter:S_,WebkitFilter:S_,mask:__,WebkitMask:__},G3=e=>Uee[e],Vee=new Set([S_,__]);function Y3(e,t){let n=G3(e);return Vee.has(n)||(n=oo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Hee=new Set(["auto","none","0"]);function qee(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!Hee.has(o)&&Rm(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=Y3(n,i)}class Kee extends UN{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),RN(g))){const b=F3(g,n.current);b!==void 0&&(t[p]=b),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!U3.has(r)||t.length!==2)return;const[i,o]=t,l=OM(i),u=OM(o),h=xM(i),m=xM(o);if(h!==m&&Pc[r]){this.needsMeasurement=!0;return}if(l!==u)if(CM(l)&&CM(u))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Pc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||Lee(t[i]))&&r.push(i);r.length&&qee(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Pc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const Wee=new Set(["opacity","clipPath","filter","transform"]);function Z3(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(r=>r!=null)}const X3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function j_(e){return i3(e)&&"offsetHeight"in e}const{schedule:GN}=y3(queueMicrotask,!1),Xs={x:!1,y:!1};function Q3(){return Xs.x||Xs.y}function Gee(e){return e==="x"||e==="y"?Xs[e]?null:(Xs[e]=!0,()=>{Xs[e]=!1}):Xs.x||Xs.y?null:(Xs.x=Xs.y=!0,()=>{Xs.x=Xs.y=!1})}function J3(e,t){const n=Z3(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Yee(e){return!(e.pointerType==="touch"||Q3())}function Zee(e,t,n={}){const[r,i,o]=J3(e,n);return r.forEach(l=>{let u=!1,h=!1,m;const p=()=>{l.removeEventListener("pointerleave",N)},g=T=>{m&&(m(T),m=void 0),p()},b=T=>{u=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),h&&(h=!1,g(T))},_=()=>{u=!0,window.addEventListener("pointerup",b,i),window.addEventListener("pointercancel",b,i)},N=T=>{if(T.pointerType!=="touch"){if(u){h=!0;return}g(T)}},S=T=>{if(!Yee(T))return;h=!1;const C=t(l,T);typeof C=="function"&&(m=C,l.addEventListener("pointerleave",N,i))};l.addEventListener("pointerenter",S,i),l.addEventListener("pointerdown",_,i)}),o}const ez=(e,t)=>t?e===t?!0:ez(e,t.parentElement):!1,YN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Xee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qee(e){return Xee.has(e.tagName)||e.isContentEditable===!0}const Jee=new Set(["INPUT","SELECT","TEXTAREA"]);function ete(e){return Jee.has(e.tagName)||e.isContentEditable===!0}const Cv=new WeakSet;function DM(e){return t=>{t.key==="Enter"&&e(t)}}function zw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tte=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=DM(()=>{if(Cv.has(n))return;zw(n,"down");const i=DM(()=>{zw(n,"up")}),o=()=>zw(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function IM(e){return YN(e)&&!Q3()}const LM=new WeakSet;function nte(e,t,n={}){const[r,i,o]=J3(e,n),l=u=>{const h=u.currentTarget;if(!IM(u)||LM.has(u))return;Cv.add(h),n.stopPropagation&&LM.add(u);const m=t(h,u),p=(_,N)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Cv.has(h)&&Cv.delete(h),IM(_)&&typeof m=="function"&&m(_,{success:N})},g=_=>{p(_,h===window||h===document||n.useGlobalTarget||ez(h,_.target))},b=_=>{p(_,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),j_(u)&&(u.addEventListener("focus",m=>tte(m,i)),!Qee(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function ZN(e){return i3(e)&&"ownerSVGElement"in e}const Av=new WeakMap;let Ev;const tz=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:ZN(r)&&"getBBox"in r?r.getBBox()[t]:r[n],rte=tz("inline","width","offsetWidth"),ite=tz("block","height","offsetHeight");function ate({target:e,borderBoxSize:t}){Av.get(e)?.forEach(n=>{n(e,{get width(){return rte(e,t)},get height(){return ite(e,t)}})})}function ste(e){e.forEach(ate)}function ote(){typeof ResizeObserver>"u"||(Ev=new ResizeObserver(ste))}function lte(e,t){Ev||ote();const n=Z3(e);return n.forEach(r=>{let i=Av.get(r);i||(i=new Set,Av.set(r,i)),i.add(t),Ev?.observe(r)}),()=>{n.forEach(r=>{const i=Av.get(r);i?.delete(t),i?.size||Ev?.unobserve(r)})}}const Mv=new Set;let tf;function cte(){tf=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Mv.forEach(t=>t(e))},window.addEventListener("resize",tf)}function ute(e){return Mv.add(e),tf||cte(),()=>{Mv.delete(e),!Mv.size&&typeof tf=="function"&&(window.removeEventListener("resize",tf),tf=void 0)}}function zM(e,t){return typeof e=="function"?ute(e):lte(e,t)}function dte(e){return ZN(e)&&e.tagName==="svg"}const fte=[...W3,ni,oo],hte=e=>fte.find(K3(e)),$M=()=>({translate:0,scale:1,origin:0,originPoint:0}),nf=()=>({x:$M(),y:$M()}),FM=()=>({min:0,max:0}),ui=()=>({x:FM(),y:FM()}),mte=new WeakMap;function Px(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Dm(e){return typeof e=="string"||Array.isArray(e)}const XN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QN=["initial",...XN];function Cx(e){return Px(e.animate)||QN.some(t=>Dm(e[t]))}function nz(e){return!!(Cx(e)||e.variants)}function pte(e,t,n){for(const r in t){const i=t[r],o=n[r];if(ea(i))e.addValue(r,i);else if(ea(o))e.addValue(r,_f(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,_f(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const N_={current:null},rz={current:!1},gte=typeof window<"u";function vte(){if(rz.current=!0,!!gte)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>N_.current=e.matches;e.addEventListener("change",t),t()}else N_.current=!1}const BM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let sy={};function iz(e){sy=e}function yte(){return sy}class xte{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=UN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=ma.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,sr.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Cx(n),this.isVariantNode=nz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const N=b[_];m[_]!==void 0&&ea(N)&&N.set(m[_])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,mte.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(rz.current||vte(),this.shouldReduceMotion=N_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),$c(this.notifyUpdate),$c(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&Wee.has(t)&&this.current instanceof HTMLElement){const{factory:l,keyframes:u,times:h,ease:m,duration:p}=n.accelerate,g=new L3({element:this.current,name:t,keyframes:u,times:h,ease:m,duration:so(p)}),b=l(g);this.valueSubscriptions.set(t,()=>{b(),g.cancel()});return}const r=Gf.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&sr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sy){const n=sy[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ui()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<BM.length;r++){const i=BM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=t[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=pte(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=_f(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(r3(r)||a3(r))?r=parseFloat(r):!hte(r)&&oo.test(n)&&(r=Y3(t,n)),this.setBaseTarget(t,ea(r)?r.get():r)),ea(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=qN(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ea(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new MN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){GN.render(this.render)}}class az extends xte{constructor(){super(...arguments),this.KeyframeResolver=Kee}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ea(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class qc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sz({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bte({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wte(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $w(e){return e===void 0||e===1}function T_({scale:e,scaleX:t,scaleY:n}){return!$w(e)||!$w(t)||!$w(n)}function Nu(e){return T_(e)||oz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oz(e){return UM(e.x)||UM(e.y)}function UM(e){return e&&e!=="0%"}function oy(e,t,n){const r=e-n,i=t*r;return n+i}function VM(e,t,n,r,i){return i!==void 0&&(e=oy(e,i,r)),oy(e,n,r)+t}function P_(e,t=0,n=1,r,i){e.min=VM(e.min,t,n,r,i),e.max=VM(e.max,t,n,r,i)}function lz(e,{x:t,y:n}){P_(e.x,t.translate,t.scale,t.originPoint),P_(e.y,n.translate,n.scale,n.originPoint)}const HM=.999999999999,qM=1.0000000000001;function Ste(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,l;for(let u=0;u<i;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&af(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,lz(e,l)),r&&Nu(o.latestValues)&&af(e,o.latestValues))}t.x<qM&&t.x>HM&&(t.x=1),t.y<qM&&t.y>HM&&(t.y=1)}function rf(e,t){e.min=e.min+t,e.max=e.max+t}function KM(e,t,n,r,i=.5){const o=Mr(e.min,e.max,i);P_(e,t,n,o,r)}function af(e,t){KM(e.x,t.x,t.scaleX,t.scale,t.originX),KM(e.y,t.y,t.scaleY,t.scale,t.originY)}function cz(e,t){return sz(wte(e.getBoundingClientRect(),t))}function _te(e,t,n){const r=cz(e,n),{scroll:i}=t;return i&&(rf(r.x,i.offset.x),rf(r.y,i.offset.y)),r}const jte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nte=Wf.length;function Tte(e,t,n){let r="",i=!0;for(let o=0;o<Nte;o++){const l=Wf[o],u=e[l];if(u===void 0)continue;let h=!0;if(typeof u=="number")h=u===(l.startsWith("scale")?1:0);else{const m=parseFloat(u);h=l.startsWith("scale")?m===1:m===0}if(!h||n){const m=X3(u,WN[l]);if(!h){i=!1;const p=jte[l]||l;r+=`${p}(${m}) `}n&&(t[l]=m)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function JN(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let l=!1,u=!1;for(const h in t){const m=t[h];if(Gf.has(h)){l=!0;continue}else if(b3(h)){i[h]=m;continue}else{const p=X3(m,WN[h]);h.startsWith("origin")?(u=!0,o[h]=p):r[h]=p}}if(t.transform||(l||n?r.transform=Tte(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=o;r.transformOrigin=`${h} ${m} ${p}`}}function uz(e,{style:t,vars:n},r,i){const o=e.style;let l;for(l in t)o[l]=t[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function WM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=WM(e,t.target.x),r=WM(e,t.target.y);return`${n}% ${r}%`}},Pte={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=oo.parse(e);if(i.length>5)return r;const o=oo.createTransformer(e),l=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,h=n.y.scale*t.y;i[0+l]/=u,i[1+l]/=h;const m=Mr(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),o(i)}},C_={borderRadius:{...Jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jh,borderTopRightRadius:Jh,borderBottomLeftRadius:Jh,borderBottomRightRadius:Jh,boxShadow:Pte};function dz(e,{layout:t,layoutId:n}){return Gf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!C_[e]||e==="opacity")}function eT(e,t,n){const r=e.style,i=t?.style,o={};if(!r)return o;for(const l in r)(ea(r[l])||i&&ea(i[l])||dz(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=r[l]);return o}function Cte(e){return window.getComputedStyle(e)}class Ate extends az{constructor(){super(...arguments),this.type="html",this.renderInstance=uz}readValueFromInstance(t,n){if(Gf.has(n))return this.projection?.isProjecting?h_(n):GJ(t,n);{const r=Cte(t),i=(b3(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return cz(t,n)}build(t,n,r){JN(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return eT(t,n,r)}}const Ete={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mte={offset:"strokeDashoffset",array:"strokeDasharray"};function kte(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?Ete:Mte;e[o.offset]=`${-r}`,e[o.array]=`${t} ${n}`}const Ote=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fz(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...u},h,m,p){if(JN(e,u,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete g.transformBox);for(const _ of Ote)g[_]!==void 0&&(b[_]=g[_],delete g[_]);t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&kte(g,i,o,l,!1)}const hz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),mz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rte(e,t,n,r){uz(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(hz.has(i)?i:KN(i),t.attrs[i])}function pz(e,t,n){const r=eT(e,t,n);for(const i in e)if(ea(e[i])||ea(t[i])){const o=Wf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}class Dte extends az{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ui}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Gf.has(n)){const r=G3(n);return r&&r.default||0}return n=hz.has(n)?n:KN(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pz(t,n,r)}build(t,n,r){fz(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Rte(t,n,r,i)}mount(t){this.isSVGTag=mz(t.tagName),super.mount(t)}}const Ite=QN.length;function gz(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gz(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ite;n++){const r=QN[n],i=e.props[r];(Dm(i)||i===!1)&&(t[r]=i)}return t}function vz(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Lte=[...XN].reverse(),zte=XN.length;function $te(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Dee(e,n,r)))}function Fte(e){let t=$te(e),n=GM(),r=!0;const i=h=>(m,p)=>{const g=ff(e,p,h==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:_,...N}=g;m={...m,...N,..._}}return m};function o(h){t=h(e)}function l(h){const{props:m}=e,p=gz(e.parent)||{},g=[],b=new Set;let _={},N=1/0;for(let T=0;T<zte;T++){const C=Lte[T],M=n[C],E=m[C]!==void 0?m[C]:p[C],k=Dm(E),R=C===h?M.isActive:null;R===!1&&(N=T);let I=E===p[C]&&E!==m[C]&&k;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),M.protectedKeys={..._},!M.isActive&&R===null||!E&&!M.prevProp||Px(E)||typeof E=="boolean")continue;if(C==="exit"&&M.isActive&&R!==!0){M.prevResolvedValues&&(_={..._,...M.prevResolvedValues});continue}const D=Bte(M.prevProp,E);let F=D||C===h&&M.isActive&&!I&&k||T>N&&k,Y=!1;const ne=Array.isArray(E)?E:[E];let W=ne.reduce(i(C),{});R===!1&&(W={});const{prevResolvedValues:Z={}}=M,re={...Z,...W},ce=Q=>{F=!0,b.has(Q)&&(Y=!0,b.delete(Q)),M.needsAnimating[Q]=!0;const H=e.getValue(Q);H&&(H.liveStyle=!1)};for(const Q in re){const H=W[Q],X=Z[Q];if(_.hasOwnProperty(Q))continue;let $=!1;x_(H)&&x_(X)?$=!vz(H,X):$=H!==X,$?H!=null?ce(Q):b.add(Q):H!==void 0&&b.has(Q)?ce(Q):M.protectedKeys[Q]=!0}M.prevProp=E,M.prevResolvedValues=W,M.isActive&&(_={..._,...W}),r&&e.blockInitialAnimation&&(F=!1);const fe=I&&D;F&&(!fe||Y)&&g.push(...ne.map(Q=>{const H={type:C};if(typeof Q=="string"&&r&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:X}=e,$=ff(X,Q);if(X.enteringChildren&&$){const{delayChildren:G}=$.transition||{};H.delay=$3(X.enteringChildren,e,G)}}return{animation:Q,options:H}}))}if(b.size){const T={};if(typeof m.initial!="boolean"){const C=ff(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(T.transition=C.transition)}b.forEach(C=>{const M=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),T[C]=M??null}),g.push({animation:T})}let S=!!g.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(g):Promise.resolve()}function u(h,m){if(n[h].isActive===m)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(h,m)),n[h].isActive=m;const p=l(h);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=GM()}}}function Bte(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vz(t,e):!1}function _u(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GM(){return{animate:_u(!0),whileInView:_u(),whileHover:_u(),whileTap:_u(),whileDrag:_u(),whileFocus:_u(),exit:_u()}}function YM(e,t){e.min=t.min,e.max=t.max}function Ys(e,t){YM(e.x,t.x),YM(e.y,t.y)}function ZM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const yz=1e-4,Ute=1-yz,Vte=1+yz,xz=.01,Hte=0-xz,qte=0+xz;function pa(e){return e.max-e.min}function Kte(e,t,n){return Math.abs(e-t)<=n}function XM(e,t,n,r=.5){e.origin=r,e.originPoint=Mr(t.min,t.max,e.origin),e.scale=pa(n)/pa(t),e.translate=Mr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Ute&&e.scale<=Vte||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hte&&e.translate<=qte||isNaN(e.translate))&&(e.translate=0)}function _m(e,t,n,r){XM(e.x,t.x,n.x,r?r.originX:void 0),XM(e.y,t.y,n.y,r?r.originY:void 0)}function QM(e,t,n){e.min=n.min+t.min,e.max=e.min+pa(t)}function Wte(e,t,n){QM(e.x,t.x,n.x),QM(e.y,t.y,n.y)}function JM(e,t,n){e.min=t.min-n.min,e.max=e.min+pa(t)}function ly(e,t,n){JM(e.x,t.x,n.x),JM(e.y,t.y,n.y)}function ek(e,t,n,r,i){return e-=t,e=oy(e,1/n,r),i!==void 0&&(e=oy(e,1/i,r)),e}function Gte(e,t=0,n=1,r=.5,i,o=e,l=e){if(Bo.test(t)&&(t=parseFloat(t),t=Mr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=Mr(o.min,o.max,r);e===o&&(u-=t),e.min=ek(e.min,t,n,u,i),e.max=ek(e.max,t,n,u,i)}function tk(e,t,[n,r,i],o,l){Gte(e,t[n],t[r],t[i],t.scale,o,l)}const Yte=["x","scaleX","originX"],Zte=["y","scaleY","originY"];function nk(e,t,n,r){tk(e.x,t,Yte,n?n.x:void 0,r?r.x:void 0),tk(e.y,t,Zte,n?n.y:void 0,r?r.y:void 0)}function rk(e){return e.translate===0&&e.scale===1}function bz(e){return rk(e.x)&&rk(e.y)}function ik(e,t){return e.min===t.min&&e.max===t.max}function Xte(e,t){return ik(e.x,t.x)&&ik(e.y,t.y)}function ak(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wz(e,t){return ak(e.x,t.x)&&ak(e.y,t.y)}function sk(e){return pa(e.x)/pa(e.y)}function ok(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ro(e){return[e("x"),e("y")]}function Qte(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:g,rotateY:b,skewX:_,skewY:N}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),_&&(r+=`skewX(${_}deg) `),N&&(r+=`skewY(${N}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Sz=["TopLeft","TopRight","BottomLeft","BottomRight"],Jte=Sz.length,lk=e=>typeof e=="string"?parseFloat(e):e,ck=e=>typeof e=="number"||bt.test(e);function ene(e,t,n,r,i,o){i?(e.opacity=Mr(0,n.opacity??1,tne(r)),e.opacityExit=Mr(t.opacity??1,0,nne(r))):o&&(e.opacity=Mr(t.opacity??1,n.opacity??1,r));for(let l=0;l<Jte;l++){const u=`border${Sz[l]}Radius`;let h=uk(t,u),m=uk(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||ck(h)===ck(m)?(e[u]=Math.max(Mr(lk(h),lk(m),r),0),(Bo.test(m)||Bo.test(h))&&(e[u]+="%")):e[u]=m}(t.rotate||n.rotate)&&(e.rotate=Mr(t.rotate||0,n.rotate||0,r))}function uk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tne=_z(0,.5,m3),nne=_z(.5,.95,ks);function _z(e,t,n){return r=>r<e?0:r>t?1:n(km(e,t,r))}function rne(e,t,n){const r=ea(e)?e:_f(e);return r.start(HN("",r,t,n)),r.animation}function Im(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ine=(e,t)=>e.depth-t.depth;class ane{constructor(){this.children=[],this.isDirty=!1}add(t){AN(this.children,t),this.isDirty=!0}remove(t){ny(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ine),this.isDirty=!1,this.children.forEach(t)}}function sne(e,t){const n=ma.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&($c(r),e(o-t))};return sr.setup(r,!0),()=>$c(r)}function kv(e){return ea(e)?e.get():e}class one{constructor(){this.members=[]}add(t){AN(this.members,t);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===t||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&ny(this.members,r)}t.scheduleRender()}remove(t){if(ny(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i],l=o.instance;if(o.isPresent!==!1&&(!l||l.isConnected!==!1)){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const i=r.options.layoutDependency,o=t.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const h=r.instance;h&&h.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:u}=t.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ov={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Fw=["","X","Y","Z"],lne=1e3;let cne=0;function Bw(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=H3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",sr,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jz(r)}function Nz({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=t?.()){this.id=cne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fne),this.nodes.forEach(gne),this.nodes.forEach(vne),this.nodes.forEach(hne)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new ane)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new MN),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ZN(l)&&!dte(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let p,g=0;const b=()=>this.root.updateBlockedByResize=!1;sr.read(()=>{g=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,p&&p(),p=sne(b,250),Ov.hasAnimatedSinceResize&&(Ov.hasAnimatedSinceResize=!1,this.nodes.forEach(hk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||Sne,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=m.getProps(),C=!this.targetLayout||!wz(this.targetLayout,_),M=!g&&b;if(this.options.layoutRoot||this.resumeFrom||M||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...VN(N,"layout"),onPlay:S,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,M)}else g||hk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yne),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pne),this.nodes.forEach(une),this.nodes.forEach(dne)):this.nodes.forEach(fk),this.clearAllSnapshots();const u=ma.now();$i.delta=Ho(0,1e3/60,u-$i.timestamp),$i.timestamp=u,$i.isProcessing=!0,kw.update.process($i),kw.preRender.process($i),kw.render.process($i),$i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mne),this.sharedNodes.forEach(xne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pa(this.snapshot.measuredBox.x)&&!pa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ui(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!bz(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||Nu(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),_ne(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ui();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jne))){const{scroll:m}=this.root;m&&(rf(u.x,m.offset.x),rf(u.y,m.offset.y))}return u}removeElementScroll(l){const u=ui();if(Ys(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:g}=m;m!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ys(u,l),rf(u.x,p.offset.x),rf(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=ui();Ys(h,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&af(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Nu(p.latestValues)&&af(h,p.latestValues)}return Nu(this.latestValues)&&af(h,this.latestValues),h}removeTransform(l){const u=ui();Ys(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Nu(m.latestValues))continue;T_(m.latestValues)&&m.updateSnapshot();const p=ui(),g=m.measurePageBox();Ys(p,g),nk(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Nu(this.latestValues)&&nk(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=$i.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ui(),this.targetWithTransforms=ui()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ys(this.target,this.layout.layoutBox),lz(this.target,this.targetDelta)):Ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||T_(this.parent.latestValues)||oz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ui(),this.relativeTargetOrigin=ui(),ly(this.relativeTargetOrigin,u,h),Ys(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===$i.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Ys(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;Ste(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ui());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZM(this.prevProjectionDelta.x,this.projectionDelta.x),ZM(this.prevProjectionDelta.y,this.projectionDelta.y)),_m(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!ok(this.projectionDelta.x,this.prevProjectionDelta.x)||!ok(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nf(),this.projectionDelta=nf(),this.projectionDeltaWithTransform=nf()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},g=nf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=ui(),_=h?h.source:void 0,N=this.layout?this.layout.source:void 0,S=_!==N,T=this.getStack(),C=!T||T.members.length<=1,M=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(wne));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const R=k/1e3;mk(g.x,l.x,R),mk(g.y,l.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ly(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bne(this.relativeTarget,this.relativeTargetOrigin,b,R),E&&Xte(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ui()),Ys(E,this.relativeTarget)),S&&(this.animationValues=p,ene(p,m,this.latestValues,R,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{Ov.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_f(0)),this.motionValue.jump(0,!1),this.currentAnimation=rne(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:p}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&Tz(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||ui();const g=pa(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const b=pa(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}Ys(u,h),af(u,p),_m(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new one),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Bw("z",l,m,this.animationValues);for(let p=0;p<Fw.length;p++)Bw(`rotate${Fw[p]}`,l,m,this.animationValues),Bw(`skew${Fw[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=kv(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=kv(u?.pointerEvents)||""),this.hasProjected&&!Nu(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let g=Qte(this.projectionDeltaWithTransform,this.treeScale,p);h&&(g=h(p,g)),l.transform=g;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in C_){if(p[N]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:C}=C_[N],M=g==="none"?p[N]:S(p[N],m);if(T){const E=T.length;for(let k=0;k<E;k++)l[T[k]]=M}else C?this.options.visualElement.renderState.vars[N]=M:l[N]=M}this.options.layoutId&&(l.pointerEvents=m===this?kv(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(dk),this.root.sharedNodes.clear()}}}function une(e){e.updateLayout()}function dne(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ro(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],b=pa(g);g.min=n[p].min,g.max=g.min+b}):Tz(i,t.layoutBox,n)&&Ro(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],b=pa(n[p]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+b)});const l=nf();_m(l,n,t.layoutBox);const u=nf();o?_m(u,e.applyTransform(r,!0),t.measuredBox):_m(u,n,t.layoutBox);const h=!bz(l);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const _=ui();ly(_,t.layoutBox,g.layoutBox);const N=ui();ly(N,n,b.layoutBox),wz(_,N)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=_,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function fne(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hne(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mne(e){e.clearSnapshot()}function dk(e){e.clearMeasurements()}function fk(e){e.isLayoutDirty=!1}function pne(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gne(e){e.resolveTargetDelta()}function vne(e){e.calcProjection()}function yne(e){e.resetSkewAndRotation()}function xne(e){e.removeLeadSnapshot()}function mk(e,t,n){e.translate=Mr(t.translate,0,n),e.scale=Mr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pk(e,t,n,r){e.min=Mr(t.min,n.min,r),e.max=Mr(t.max,n.max,r)}function bne(e,t,n,r){pk(e.x,t.x,n.x,r),pk(e.y,t.y,n.y,r)}function wne(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Sne={duration:.45,ease:[.4,0,.1,1]},gk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vk=gk("applewebkit/")&&!gk("chrome/")?Math.round:ks;function yk(e){e.min=vk(e.min),e.max=vk(e.max)}function _ne(e){yk(e.x),yk(e.y)}function Tz(e,t,n){return e==="position"||e==="preserve-aspect"&&!Kte(sk(t),sk(n),.2)}function jne(e){return e!==e.root&&e.scroll?.wasRoot}const Nne=Nz({attachResizeListener:(e,t)=>Im(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Uw={current:void 0},Pz=Nz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Uw.current){const e=new Nne({});e.mount(window),e.setOptions({layoutScroll:!0}),Uw.current=e}return Uw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tT=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tne(...e){return t=>{let n=!1;const r=e.map(i=>{const o=xk(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():xk(e[i],null)}}}}function Pne(...e){return v.useCallback(Tne(...e),e)}class Cne extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=j_(r)&&r.offsetWidth||0,o=j_(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=i-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Ane({children:e,isPresent:t,anchorX:n,anchorY:r,root:i,pop:o}){const l=v.useId(),u=v.useRef(null),h=v.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=v.useContext(tT),p=e.props?.ref??e?.ref,g=Pne(u,p);return v.useInsertionEffect(()=>{const{width:b,height:_,top:N,left:S,right:T,bottom:C}=h.current;if(t||o===!1||!u.current||!b||!_)return;const M=n==="left"?`left: ${S}`:`right: ${T}`,E=r==="bottom"?`bottom: ${C}`:`top: ${N}`;u.current.dataset.motionPopId=l;const k=document.createElement("style");m&&(k.nonce=m);const R=i??document.head;return R.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${_}px !important;
            ${M}px !important;
            ${E}px !important;
          }
        `),()=>{R.contains(k)&&R.removeChild(k)}},[t]),s.jsx(Cne,{isPresent:t,childRef:u,sizeRef:h,pop:o,children:o===!1?e:v.cloneElement(e,{ref:g})})}const Ene=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:u,anchorY:h,root:m})=>{const p=CN(Mne),g=v.useId();let b=!0,_=v.useMemo(()=>(b=!1,{id:g,initial:t,isPresent:n,custom:i,onExitComplete:N=>{p.set(N,!0);for(const S of p.values())if(!S)return;r&&r()},register:N=>(p.set(N,!1),()=>p.delete(N))}),[n,p,r]);return o&&b&&(_={..._}),v.useMemo(()=>{p.forEach((N,S)=>p.set(S,!1))},[n]),v.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),e=s.jsx(Ane,{pop:l==="popLayout",isPresent:n,anchorX:u,anchorY:h,root:m,children:e}),s.jsx(Tx.Provider,{value:_,children:e})};function Mne(){return new Map}function Cz(e=!0){const t=v.useContext(Tx);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=v.useId();v.useEffect(()=>{if(e)return i(o)},[e]);const l=v.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,l]:[!0]}const Zg=e=>e.key||"";function bk(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Da=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",anchorY:h="top",root:m})=>{const[p,g]=Cz(l),b=v.useMemo(()=>bk(e),[e]),_=l&&!p?[]:b.map(Zg),N=v.useRef(!0),S=v.useRef(b),T=CN(()=>new Map),C=v.useRef(new Set),[M,E]=v.useState(b),[k,R]=v.useState(b);n3(()=>{N.current=!1,S.current=b;for(let F=0;F<k.length;F++){const Y=Zg(k[F]);_.includes(Y)?(T.delete(Y),C.current.delete(Y)):T.get(Y)!==!0&&T.set(Y,!1)}},[k,_.length,_.join("-")]);const I=[];if(b!==M){let F=[...b];for(let Y=0;Y<k.length;Y++){const ne=k[Y],W=Zg(ne);_.includes(W)||(F.splice(Y,0,ne),I.push(ne))}return o==="wait"&&I.length&&(F=I),R(bk(F)),E(b),null}const{forceRender:D}=v.useContext(PN);return s.jsx(s.Fragment,{children:k.map(F=>{const Y=Zg(F),ne=l&&!p?!1:b===k||_.includes(Y),W=()=>{if(C.current.has(Y))return;if(C.current.add(Y),T.has(Y))T.set(Y,!0);else return;let Z=!0;T.forEach(re=>{re||(Z=!1)}),Z&&(D?.(),R(S.current),l&&g?.(),r&&r())};return s.jsx(Ene,{isPresent:ne,initial:!N.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:m,onExitComplete:ne?void 0:W,anchorX:u,anchorY:h,children:F},Y)})})},Az=v.createContext({strict:!1}),wk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Sk=!1;function kne(){if(Sk)return;const e={};for(const t in wk)e[t]={isEnabled:n=>wk[t].some(r=>!!n[r])};iz(e),Sk=!0}function Ez(){return kne(),yte()}function One(e){const t=Ez();for(const n in e)t[n]={...t[n],...e[n]};iz(t)}const Rne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function cy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Rne.has(e)}let Mz=e=>!cy(e);function Dne(e){typeof e=="function"&&(Mz=t=>t.startsWith("on")?!cy(t):e(t))}try{Dne(require("@emotion/is-prop-valid").default)}catch{}function Ine(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Mz(i)||n===!0&&cy(i)||!t&&!cy(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Ax=v.createContext({});function Lne(e,t){if(Cx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Dm(n)?n:void 0,animate:Dm(r)?r:void 0}}return e.inherit!==!1?t:{}}function zne(e){const{initial:t,animate:n}=Lne(e,v.useContext(Ax));return v.useMemo(()=>({initial:t,animate:n}),[_k(t),_k(n)])}function _k(e){return Array.isArray(e)?e.join(" "):e}const nT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kz(e,t,n){for(const r in t)!ea(t[r])&&!dz(r,n)&&(e[r]=t[r])}function $ne({transformTemplate:e},t){return v.useMemo(()=>{const n=nT();return JN(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Fne(e,t){const n=e.style||{},r={};return kz(r,n,e),Object.assign(r,$ne(e,t)),r}function Bne(e,t){const n={},r=Fne(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Oz=()=>({...nT(),attrs:{}});function Une(e,t,n,r){const i=v.useMemo(()=>{const o=Oz();return fz(o,t,mz(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};kz(o,e.style,e),i.style={...o,...i.style}}return i}const Vne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rT(e){return typeof e!="string"||e.includes("-")?!1:!!(Vne.indexOf(e)>-1||/[A-Z]/u.test(e))}function Hne(e,t,n,{latestValues:r},i,o=!1,l){const h=(l??rT(e)?Une:Bne)(t,r,i,e),m=Ine(t,typeof e=="string",o),p=e!==v.Fragment?{...m,...h,ref:n}:{},{children:g}=t,b=v.useMemo(()=>ea(g)?g.get():g,[g]);return v.createElement(e,{...p,children:b})}function qne({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Kne(n,r,i,e),renderState:t()}}function Kne(e,t,n,r){const i={},o=r(e,{});for(const b in o)i[b]=kv(o[b]);let{initial:l,animate:u}=e;const h=Cx(e),m=nz(e);t&&m&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Px(g)){const b=Array.isArray(g)?g:[g];for(let _=0;_<b.length;_++){const N=qN(e,b[_]);if(N){const{transitionEnd:S,transition:T,...C}=N;for(const M in C){let E=C[M];if(Array.isArray(E)){const k=p?E.length-1:0;E=E[k]}E!==null&&(i[M]=E)}for(const M in S)i[M]=S[M]}}}return i}const Rz=e=>(t,n)=>{const r=v.useContext(Ax),i=v.useContext(Tx),o=()=>qne(e,t,r,i);return n?o():CN(o)},Wne=Rz({scrapeMotionValuesFromProps:eT,createRenderState:nT}),Gne=Rz({scrapeMotionValuesFromProps:pz,createRenderState:Oz}),Yne=Symbol.for("motionComponentSymbol");function Zne(e,t,n){const r=v.useRef(n);v.useInsertionEffect(()=>{r.current=n});const i=v.useRef(null);return v.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=r.current;if(typeof l=="function")if(o){const u=l(o);typeof u=="function"&&(i.current=u)}else i.current?(i.current(),i.current=null):l(o);else l&&(l.current=o)},[t])}const Dz=v.createContext({});function Qd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xne(e,t,n,r,i,o){const{visualElement:l}=v.useContext(Ax),u=v.useContext(Az),h=v.useContext(Tx),m=v.useContext(tT),p=m.reducedMotion,g=m.skipAnimations,b=v.useRef(null),_=v.useRef(!1);r=r||u.renderer,!b.current&&r&&(b.current=r(e,{visualState:t,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,skipAnimations:g,isSVG:o}),_.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const N=b.current,S=v.useContext(Dz);N&&!N.projection&&i&&(N.type==="html"||N.type==="svg")&&Qne(b.current,n,i,S);const T=v.useRef(!1);v.useInsertionEffect(()=>{N&&T.current&&N.update(n,h)});const C=n[V3],M=v.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return n3(()=>{_.current=!0,N&&(T.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),M.current&&N.animationState&&N.animationState.animateChanges())}),v.useEffect(()=>{N&&(!M.current&&N.animationState&&N.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),M.current=!1),N.enteringChildren=void 0)}),N}function Qne(e,t,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Iz(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Qd(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:h,layoutRoot:m})}function Iz(e){if(e)return e.options.allowProjection!==!1?e.projection:Iz(e.parent)}function Vw(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&One(r);const o=n?n==="svg":rT(e),l=o?Gne:Wne;function u(m,p){let g;const b={...v.useContext(tT),...m,layoutId:Jne(m)},{isStatic:_}=b,N=zne(m),S=l(m,_);if(!_&&t3){ere();const T=tre(b);g=T.MeasureLayout,N.visualElement=Xne(e,S,b,i,T.ProjectionNode,o)}return s.jsxs(Ax.Provider,{value:N,children:[g&&N.visualElement?s.jsx(g,{visualElement:N.visualElement,...b}):null,Hne(e,m,Zne(S,N.visualElement,p),S,_,t,o)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const h=v.forwardRef(u);return h[Yne]=e,h}function Jne({layoutId:e}){const t=v.useContext(PN).id;return t&&e!==void 0?t+"-"+e:e}function ere(e,t){v.useContext(Az).strict}function tre(e){const t=Ez(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function nre(e,t){if(typeof Proxy>"u")return Vw;const n=new Map,r=(o,l)=>Vw(o,l,e,t),i=(o,l)=>r(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Vw(l,void 0,e,t)),n.get(l))})}const rre=(e,t)=>t.isSVG??rT(e)?new Dte(t):new Ate(t,{allowProjection:e!==v.Fragment});class ire extends qc{constructor(t){super(t),t.animationState||(t.animationState=Fte(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Px(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let are=0;class sre extends qc{constructor(){super(...arguments),this.id=are++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ore={animation:{Feature:ire},exit:{Feature:sre}};function dp(e){return{point:{x:e.pageX,y:e.pageY}}}const lre=e=>t=>YN(t)&&e(t,dp(t));function jm(e,t,n,r){return Im(e,t,lre(n),r)}const Lz=({current:e})=>e?e.ownerDocument.defaultView:null,jk=(e,t)=>Math.abs(e-t);function cre(e,t){const n=jk(e.x,t.x),r=jk(e.y,t.y);return Math.sqrt(n**2+r**2)}const Nk=new Set(["auto","scroll"]);class zz{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=qw(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,S=cre(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!S)return;const{point:T}=_,{timestamp:C}=$i;this.history.push({...T,timestamp:C});const{onStart:M,onMove:E}=this.handlers;N||(M&&M(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,_)},this.handlePointerMove=(_,N)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Hw(N,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(_,N)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=qw(_.type==="pointercancel"?this.lastMoveEventInfo:Hw(N,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,M),T&&T(_,M)},!YN(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const h=dp(t),m=Hw(h,this.transformPagePoint),{point:p}=m,{timestamp:g}=$i;this.history=[{...p,timestamp:g}];const{onSessionStart:b}=n;b&&b(t,qw(m,this.history)),this.removeListeners=lp(jm(this.contextWindow,"pointermove",this.handlePointerMove),jm(this.contextWindow,"pointerup",this.handlePointerUp),jm(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(Nk.has(r.overflowX)||Nk.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),sr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$c(this.updatePoint)}}function Hw(e,t){return t?{point:t(e.point)}:e}function Tk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qw({point:e},t){return{point:e,delta:Tk(e,$z(t)),offset:Tk(e,ure(t)),velocity:dre(t,.1)}}function ure(e){return e[0]}function $z(e){return e[e.length-1]}function dre(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=$z(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>so(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>so(t)*2&&(r=e[1]);const o=Ts(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function fre(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Mr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Mr(n,e,r.max):Math.min(e,n)),e}function Pk(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hre(e,{top:t,left:n,bottom:r,right:i}){return{x:Pk(e.x,n,i),y:Pk(e.y,t,r)}}function Ck(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mre(e,t){return{x:Ck(e.x,t.x),y:Ck(e.y,t.y)}}function pre(e,t){let n=.5;const r=pa(e),i=pa(t);return i>r?n=km(t.min,t.max-r,e.min):r>i&&(n=km(e.min,e.max-i,t.min)),Ho(0,1,n)}function gre(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const A_=.35;function vre(e=A_){return e===!1?e=0:e===!0&&(e=A_),{x:Ak(e,"left","right"),y:Ak(e,"top","bottom")}}function Ak(e,t,n){return{min:Ek(e,t),max:Ek(e,n)}}function Ek(e,t){return typeof e=="number"?e:e[t]||0}const yre=new WeakMap;class xre{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ui(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=g=>{n&&this.snapToCursor(dp(g).point),this.stopAnimation()},l=(g,b)=>{const{drag:_,dragPropagation:N,onDragStart:S}=this.getProps();if(_&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gee(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ro(C=>{let M=this.getAxisMotionValue(C).get()||0;if(Bo.test(M)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[C];k&&(M=pa(k)*(parseFloat(M)/100))}}this.originPoint[C]=M}),S&&sr.update(()=>S(g,b),!1,!0),b_(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:N,onDirectionLock:S,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=b;if(N&&this.currentDirection===null){this.currentDirection=wre(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),T&&sr.update(()=>T(g,b),!1,!0)},h=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:g}=this.getProps();(g||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new zz(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:Lz(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&sr.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Xg(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=fre(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Qd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=hre(r.layoutBox,t):this.constraints=!1,this.elastic=vre(n),i!==this.constraints&&!Qd(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&Ro(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gre(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Qd(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=_te(r,i.root,this.visualElement.getTransformPagePoint());let l=mre(i.layout.layoutBox,o);if(n){const u=n(bte(l));this.hasMutatedConstraints=!!u,u&&(l=sz(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Ro(p=>{if(!Xg(p,n,this.currentDirection))return;let g=h&&h[p]||{};l&&(g={min:0,max:0});const b=i?200:1e6,_=i?40:1e7,N={type:"inertia",velocity:r?t[p]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,N)});return Promise.all(m).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return b_(this.visualElement,t),r.start(HN(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ro(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ro(n=>{const{drag:r}=this.getProps();if(!Xg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n],h=o.get()||0;o.set(t[n]-Mr(l,u,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ro(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=pre({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ro(l=>{if(!Xg(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(Mr(h,m,i[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;yre.set(this.visualElement,this);const t=this.visualElement.current,n=jm(t,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps(),b=m.target,_=b!==t&&ete(b);p&&g&&!_&&this.start(m)});let r;const i=()=>{const{dragConstraints:m}=this.getProps();Qd(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),r||(r=bre(t,m.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),sr.read(i);const u=Im(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ro(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=m[g].translate,b.set(b.get()+m[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=A_,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Mk(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function bre(e,t,n){const r=zM(e,Mk(n)),i=zM(t,Mk(n));return()=>{r(),i()}}function Xg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wre(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sre extends qc{constructor(t){super(t),this.removeGroupControls=ks,this.removeListeners=ks,this.controls=new xre(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ks}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Kw=e=>(t,n)=>{e&&sr.update(()=>e(t,n),!1,!0)};class _re extends qc{constructor(){super(...arguments),this.removePointerDownListener=ks}onPointerDown(t){this.session=new zz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Kw(t),onStart:Kw(n),onMove:Kw(r),onEnd:(o,l)=>{delete this.session,i&&sr.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=jm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ww=!1;class jre extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),Ww&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ov.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,t.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),Ww=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||sr.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),GN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Ww=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fz(e){const[t,n]=Cz(),r=v.useContext(PN);return s.jsx(jre,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(Dz),isPresent:t,safeToRemove:n})}const Nre={pan:{Feature:_re},drag:{Feature:Sre,ProjectionNode:Pz,MeasureLayout:Fz}};function kk(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&sr.postRender(()=>o(t,dp(t)))}class Tre extends qc{mount(){const{current:t}=this.node;t&&(this.unmount=Zee(t,(n,r)=>(kk(this.node,r,"Start"),i=>kk(this.node,i,"End"))))}unmount(){}}class Pre extends qc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lp(Im(this.node.current,"focus",()=>this.onFocus()),Im(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ok(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&sr.postRender(()=>o(t,dp(t)))}class Cre extends qc{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=nte(t,(i,o)=>(Ok(this.node,o,"Start"),(l,{success:u})=>Ok(this.node,l,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const E_=new WeakMap,Gw=new WeakMap,Are=e=>{const t=E_.get(e.target);t&&t(e)},Ere=e=>{e.forEach(Are)};function Mre({root:e,...t}){const n=e||document;Gw.has(n)||Gw.set(n,{});const r=Gw.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ere,{root:e,...t})),r[i]}function kre(e,t,n){const r=Mre(t);return E_.set(e,n),r.observe(e),()=>{E_.delete(e),r.unobserve(e)}}const Ore={some:0,all:1};class Rre extends qc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ore[i]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),b=m?p:g;b&&b(h)};return kre(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Dre(t,n))&&this.startObserver()}unmount(){}}function Dre({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ire={inView:{Feature:Rre},tap:{Feature:Cre},focus:{Feature:Pre},hover:{Feature:Tre}},Lre={layout:{ProjectionNode:Pz,MeasureLayout:Fz}},zre={...ore,...Ire,...Nre,...Lre},At=nre(zre,rre);var $re=Symbol.for("react.lazy"),uy=np[" use ".trim().toString()];function Fre(e){return typeof e=="object"&&e!==null&&"then"in e}function Bz(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===$re&&"_payload"in e&&Fre(e._payload)}function Uz(e){const t=Ure(e),n=v.forwardRef((r,i)=>{let{children:o,...l}=r;Bz(o)&&typeof uy=="function"&&(o=uy(o._payload));const u=v.Children.toArray(o),h=u.find(Hre);if(h){const m=h.props.children,p=u.map(g=>g===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var Bre=Uz("Slot");function Ure(e){const t=v.forwardRef((n,r)=>{let{children:i,...o}=n;if(Bz(i)&&typeof uy=="function"&&(i=uy(i._payload)),v.isValidElement(i)){const l=Kre(i),u=qre(o,i.props);return i.type!==v.Fragment&&(u.ref=r?kl(r,l):l),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vre=Symbol("radix.slottable");function Hre(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vre}function qre(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Kre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const iT=ap("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Re=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const l=r?Bre:"button";return s.jsx(l,{className:Tt(iT({variant:t,size:n,className:e})),ref:o,...i})});Re.displayName="Button";const Wre="/assets/cinematic_runner_nig_a3303f7d-CUDLd6CF.jpg",Vz="/assets/logo-transparent-akVJLtkc.png";function Gre(){const[,e]=Vr(),t=[{icon:aN,title:"AI Voice Coaching",description:"Real-time, context-aware audio coaching that adapts to your pace, heart rate, and terrain."},{icon:iN,title:"Smart Route Mapping",description:"Discover tailored routes based on your skill level and current location with elevation data."},{icon:ro,title:"Live Share & Safety",description:"Let friends track your run in real-time. Stay safe with instant location sharing."},{icon:Wv,title:"Deep Run Insights",description:"Analyze your performance with professional-grade metrics and personalized AI feedback."}];return s.jsxs("div",{className:"min-h-screen bg-background text-foreground overflow-x-hidden",children:[s.jsxs("nav",{className:"absolute top-0 left-0 right-0 z-50 p-6 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:Vz,alt:"AI Run Coach Logo",className:"w-24 h-24 object-contain"}),s.jsx("span",{className:"font-display font-bold uppercase tracking-tighter text-2xl hidden sm:block",children:"AI Run Coach"})]}),s.jsx(Re,{variant:"ghost",onClick:()=>e("/login"),className:"text-primary hover:text-primary/80 hover:bg-primary/10 uppercase text-xs font-bold tracking-widest",children:"Login"})]}),s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-20 pb-32 px-6 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/60 via-background/40 to-background z-10"}),s.jsx("img",{src:Wre,alt:"Hero Runner",className:"w-full h-full object-cover object-[65%_center] sm:object-center opacity-80 grayscale hover:grayscale-0 transition-all duration-1000 scale-125 sm:scale-100"})]}),s.jsxs("div",{className:"relative z-20 max-w-4xl w-full text-center space-y-8",children:[s.jsxs(At.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-6xl md:text-8xl font-display font-black uppercase tracking-tighter leading-none mb-6",children:[s.jsx("br",{})," Ai Run ",s.jsx("span",{className:"text-primary text-glow-lg",children:"Coach"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-white font-medium max-w-2xl mx-auto leading-relaxed",children:"Experience the world's most advanced AI-powered running companion. Real-time coaching, smart routing, social sharing and run analysis."})]}),s.jsxs(At.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsxs(Re,{variant:"outline",size:"lg",className:"h-12 px-8 text-base font-display uppercase tracking-widest rounded-full border-primary/50 hover:bg-primary/10 hover:border-primary group",onClick:()=>e("/login"),children:["Login / Register",s.jsx(yf,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(Re,{variant:"outline",size:"lg",className:"h-12 px-8 text-base font-display uppercase tracking-widest rounded-full border-white/10 hover:bg-white/5",onClick:()=>e("/features"),"data-testid":"button-view-features",children:"View All Features"})]})]})]}),s.jsxs("section",{className:"py-32 px-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20 space-y-4",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold uppercase tracking-tight",children:"Unleash your potential with your personalized Ai Coach"}),s.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Connect your smart watch and your Ai Run Coach will help to push you further, safer, and smarter."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,r)=>s.jsxs(At.div,{whileHover:{y:-10},className:"p-8 rounded-3xl bg-card/50 border border-white/5 hover:border-primary/30 transition-all group",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center mb-6 group-hover:bg-primary/20 transition-colors",children:s.jsx(n.icon,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-display font-bold mb-4 uppercase tracking-wide",children:n.title}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:n.description})]},r))})]}),s.jsx("section",{className:"py-24 bg-primary/5 border-y border-white/5 px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto flex flex-col items-center text-center space-y-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold uppercase tracking-tight",children:"A Global Community of Runners"}),s.jsxs("p",{className:"text-muted-foreground max-w-2xl mx-auto text-sm md:text-base leading-relaxed",children:["Join runners from around the world, including ",s.jsx("span",{className:"text-primary font-bold",children:"New Zealand"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"Australia"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"North America"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"South America"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"Canada"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"UK"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"India"}),", ",s.jsx("span",{className:"text-primary font-bold",children:"Philippines"}),", and ",s.jsx("span",{className:"text-primary font-bold",children:"Japan"}),"."]})]})})}),s.jsx("section",{className:"py-32 px-6 text-center",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 bg-card/30 p-12 rounded-[3rem] border border-white/10 backdrop-blur-3xl",children:[s.jsx("h2",{className:"text-5xl font-display font-black uppercase tracking-tighter",children:"Ready to evolve?"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Join thousands of runners using AI to break their personal bests."}),s.jsxs(Re,{variant:"outline",size:"lg",className:"h-12 px-8 text-base font-display uppercase tracking-widest rounded-full border-primary/50 hover:bg-primary/10 hover:border-primary",onClick:()=>e("/login"),children:["Login / Register",s.jsx(yf,{className:"ml-2 w-5 h-5"})]})]})}),s.jsxs("footer",{className:"py-12 px-6 text-center border-t border-white/5 opacity-60",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] mb-4",children:" 2025 AI Run Coach  Designed for Peak Performance"}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsx("button",{onClick:()=>e("/privacy"),className:"text-[10px] uppercase tracking-widest text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>e("/terms"),className:"text-[10px] uppercase tracking-widest text-muted-foreground hover:text-primary transition-colors",children:"Terms of Use"})]})]})]})}function dy(e,[t,n]){return Math.min(n,Math.max(t,e))}var Yre=v.createContext(void 0);function Yf(e){const t=v.useContext(Yre);return e||t||"ltr"}function Ex(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hz=["PageUp","PageDown"],qz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Zf="Slider",[M_,Zre,Xre]=rp(Zf),[Wz]=ra(Zf,[Xre]),[Qre,Mx]=Wz(Zf),Gz=v.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[r],value:p,onValueChange:g=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:N,...S}=e,T=v.useRef(new Set),C=v.useRef(0),E=l==="horizontal"?Jre:eie,[k=[],R]=co({prop:p,defaultProp:m,onChange:W=>{[...T.current][C.current]?.focus(),g(W)}}),I=v.useRef(k);function D(W){const Z=aie(k,W);ne(W,Z)}function F(W){ne(W,C.current)}function Y(){const W=I.current[C.current];k[C.current]!==W&&b(k)}function ne(W,Z,{commit:re}={commit:!1}){const ce=cie(o),fe=uie(Math.round((W-r)/o)*o+r,ce),K=dy(fe,[r,i]);R((Q=[])=>{const H=rie(Q,K,Z);if(lie(H,h*o)){C.current=H.indexOf(K);const X=String(H)!==String(Q);return X&&re&&b(H),X?H:Q}else return Q})}return s.jsx(Qre,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:C,thumbs:T.current,values:k,orientation:l,form:N,children:s.jsx(M_.Provider,{scope:e.__scopeSlider,children:s.jsx(M_.Slot,{scope:e.__scopeSlider,children:s.jsx(E,{"aria-disabled":u,"data-disabled":u?"":void 0,...S,ref:t,onPointerDown:Ze(S.onPointerDown,()=>{u||(I.current=k)}),min:r,max:i,inverted:_,onSlideStart:u?void 0:D,onSlideMove:u?void 0:F,onSlideEnd:u?void 0:Y,onHomeKeyDown:()=>!u&&ne(r,0,{commit:!0}),onEndKeyDown:()=>!u&&ne(i,k.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:Z})=>{if(!u){const fe=Hz.includes(W.key)||W.shiftKey&&qz.includes(W.key)?10:1,K=C.current,Q=k[K],H=o*fe*Z;ne(Q+H,K,{commit:!0})}}})})})})});Gz.displayName=Zf;var[Yz,Zz]=Wz(Zf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Jre=v.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:l,onSlideMove:u,onSlideEnd:h,onStepKeyDown:m,...p}=e,[g,b]=v.useState(null),_=Gt(t,E=>b(E)),N=v.useRef(void 0),S=Yf(i),T=S==="ltr",C=T&&!o||!T&&o;function M(E){const k=N.current||g.getBoundingClientRect(),R=[0,k.width],D=aT(R,C?[n,r]:[r,n]);return N.current=k,D(E-k.left)}return s.jsx(Yz,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:s.jsx(Xz,{dir:S,"data-orientation":"horizontal",...p,ref:_,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const k=M(E.clientX);l?.(k)},onSlideMove:E=>{const k=M(E.clientX);u?.(k)},onSlideEnd:()=>{N.current=void 0,h?.()},onStepKeyDown:E=>{const R=Kz[C?"from-left":"from-right"].includes(E.key);m?.({event:E,direction:R?-1:1})}})})}),eie=v.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:h,...m}=e,p=v.useRef(null),g=Gt(t,p),b=v.useRef(void 0),_=!i;function N(S){const T=b.current||p.current.getBoundingClientRect(),C=[0,T.height],E=aT(C,_?[r,n]:[n,r]);return b.current=T,E(S-T.top)}return s.jsx(Yz,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:s.jsx(Xz,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const T=N(S.clientY);o?.(T)},onSlideMove:S=>{const T=N(S.clientY);l?.(T)},onSlideEnd:()=>{b.current=void 0,u?.()},onStepKeyDown:S=>{const C=Kz[_?"from-bottom":"from-top"].includes(S.key);h?.({event:S,direction:C?-1:1})}})})}),Xz=v.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:h,...m}=e,p=Mx(Zf,n);return s.jsx(Pt.span,{...m,ref:t,onKeyDown:Ze(e.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):Hz.concat(qz).includes(g.key)&&(h(g),g.preventDefault())}),onPointerDown:Ze(e.onPointerDown,g=>{const b=g.target;b.setPointerCapture(g.pointerId),g.preventDefault(),p.thumbs.has(b)?b.focus():r(g)}),onPointerMove:Ze(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ze(e.onPointerUp,g=>{const b=g.target;b.hasPointerCapture(g.pointerId)&&(b.releasePointerCapture(g.pointerId),o(g))})})}),Qz="SliderTrack",Jz=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Mx(Qz,n);return s.jsx(Pt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});Jz.displayName=Qz;var k_="SliderRange",e6=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Mx(k_,n),o=Zz(k_,n),l=v.useRef(null),u=Gt(t,l),h=i.values.length,m=i.values.map(b=>r6(b,i.min,i.max)),p=h>1?Math.min(...m):0,g=100-Math.max(...m);return s.jsx(Pt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[o.startEdge]:p+"%",[o.endEdge]:g+"%"}})});e6.displayName=k_;var O_="SliderThumb",t6=v.forwardRef((e,t)=>{const n=Zre(e.__scopeSlider),[r,i]=v.useState(null),o=Gt(t,u=>i(u)),l=v.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return s.jsx(tie,{...e,ref:o,index:l})}),tie=v.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...o}=e,l=Mx(O_,n),u=Zz(O_,n),[h,m]=v.useState(null),p=Gt(t,M=>m(M)),g=h?l.form||!!h.closest("form"):!0,b=jx(h),_=l.values[r],N=_===void 0?0:r6(_,l.min,l.max),S=iie(r,l.values.length),T=b?.[u.size],C=T?sie(T,N,u.direction):0;return v.useEffect(()=>{if(h)return l.thumbs.add(h),()=>{l.thumbs.delete(h)}},[h,l.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${N}% + ${C}px)`},children:[s.jsx(M_.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Pt.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:p,style:_===void 0?{display:"none"}:e.style,onFocus:Ze(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),g&&s.jsx(n6,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},r)]})});t6.displayName=O_;var nie="RadioBubbleInput",n6=v.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=v.useRef(null),o=Gt(i,r),l=Ex(t);return v.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&p){const g=new Event("input",{bubbles:!0});p.call(u,t),u.dispatchEvent(g)}},[l,t]),s.jsx(Pt.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});n6.displayName=nie;function rie(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,o)=>i-o)}function r6(e,t,n){const o=100/(n-t)*(e-t);return dy(o,[0,100])}function iie(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function aie(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function sie(e,t,n){const r=e/2,o=aT([0,50],[0,r]);return(r-o(t)*n)*n}function oie(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function lie(e,t){if(t>0){const n=oie(e);return Math.min(...n)>=t}return!0}function aT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cie(e){return(String(e).split(".")[1]||"").length}function uie(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var i6=Gz,die=Jz,fie=e6,hie=t6;const mie=v.forwardRef(({className:e,...t},n)=>s.jsxs(i6,{ref:n,className:Tt("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(die,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:s.jsx(fie,{className:"absolute h-full bg-primary"})}),s.jsx(hie,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));mie.displayName=i6.displayName;const pie=ap("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function Zr({className:e,variant:t,...n}){return s.jsx("div",{className:Tt(pie({variant:t}),e),...n})}var Yw="focusScope.autoFocusOnMount",Zw="focusScope.autoFocusOnUnmount",Rk={bubbles:!1,cancelable:!0},gie="FocusScope",kx=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,h]=v.useState(null),m=$a(i),p=$a(o),g=v.useRef(null),b=Gt(t,S=>h(S)),_=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let S=function(E){if(_.paused||!u)return;const k=E.target;u.contains(k)?g.current=k:wc(g.current,{select:!0})},T=function(E){if(_.paused||!u)return;const k=E.relatedTarget;k!==null&&(u.contains(k)||wc(g.current,{select:!0}))},C=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&wc(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",T);const M=new MutationObserver(C);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),M.disconnect()}}},[r,u,_.paused]),v.useEffect(()=>{if(u){Ik.add(_);const S=document.activeElement;if(!u.contains(S)){const C=new CustomEvent(Yw,Rk);u.addEventListener(Yw,m),u.dispatchEvent(C),C.defaultPrevented||(vie(Sie(a6(u)),{select:!0}),document.activeElement===S&&wc(u))}return()=>{u.removeEventListener(Yw,m),setTimeout(()=>{const C=new CustomEvent(Zw,Rk);u.addEventListener(Zw,p),u.dispatchEvent(C),C.defaultPrevented||wc(S??document.body,{select:!0}),u.removeEventListener(Zw,p),Ik.remove(_)},0)}}},[u,m,p,_]);const N=v.useCallback(S=>{if(!n&&!r||_.paused)return;const T=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,C=document.activeElement;if(T&&C){const M=S.currentTarget,[E,k]=yie(M);E&&k?!S.shiftKey&&C===k?(S.preventDefault(),n&&wc(E,{select:!0})):S.shiftKey&&C===E&&(S.preventDefault(),n&&wc(k,{select:!0})):C===M&&S.preventDefault()}},[n,r,_.paused]);return s.jsx(Pt.div,{tabIndex:-1,...l,ref:b,onKeyDown:N})});kx.displayName=gie;function vie(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wc(r,{select:t}),document.activeElement!==n)return}function yie(e){const t=a6(e),n=Dk(t,e),r=Dk(t.reverse(),e);return[n,r]}function a6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dk(e,t){for(const n of e)if(!xie(n,{upTo:t}))return n}function xie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bie(e){return e instanceof HTMLInputElement&&"select"in e}function wc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&bie(e)&&t&&e.select()}}var Ik=wie();function wie(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Lk(e,t),e.unshift(t)},remove(t){e=Lk(e,t),e[0]?.resume()}}}function Lk(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Sie(e){return e.filter(t=>t.tagName!=="A")}var Xw=0;function sT(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zk()),document.body.insertAdjacentElement("beforeend",e[1]??zk()),Xw++,()=>{Xw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xw--}},[])}function zk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Do=function(){return Do=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Do.apply(this,arguments)};function s6(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _ie(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Rv="right-scroll-bar-position",Dv="width-before-scroll-bar",jie="with-scroll-bars-hidden",Nie="--removed-body-scroll-bar-size";function Qw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Tie(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Pie=typeof window<"u"?v.useLayoutEffect:v.useEffect,$k=new WeakMap;function Cie(e,t){var n=Tie(null,function(r){return e.forEach(function(i){return Qw(i,r)})});return Pie(function(){var r=$k.get(n);if(r){var i=new Set(r),o=new Set(e),l=n.current;i.forEach(function(u){o.has(u)||Qw(u,null)}),o.forEach(function(u){i.has(u)||Qw(u,l)})}$k.set(n,e)},[e]),n}function Aie(e){return e}function Eie(e,t){t===void 0&&(t=Aie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var h=function(){var p=l;l=[],p.forEach(o)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(p){l.push(p),m()},filter:function(p){return l=l.filter(p),n}}}};return i}function Mie(e){e===void 0&&(e={});var t=Eie(null);return t.options=Do({async:!0,ssr:!1},e),t}var o6=function(e){var t=e.sideCar,n=s6(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Do({},n))};o6.isSideCarExport=!0;function kie(e,t){return e.useMedium(t),o6}var l6=Mie(),Jw=function(){},Ox=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Jw,onWheelCapture:Jw,onTouchMoveCapture:Jw}),i=r[0],o=r[1],l=e.forwardProps,u=e.children,h=e.className,m=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,_=e.noRelative,N=e.noIsolation,S=e.inert,T=e.allowPinchZoom,C=e.as,M=C===void 0?"div":C,E=e.gapMode,k=s6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=b,I=Cie([n,t]),D=Do(Do({},k),i);return v.createElement(v.Fragment,null,p&&v.createElement(R,{sideCar:l6,removeScrollBar:m,shards:g,noRelative:_,noIsolation:N,inert:S,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:E}),l?v.cloneElement(v.Children.only(u),Do(Do({},D),{ref:I})):v.createElement(M,Do({},D,{className:h,ref:I}),u))});Ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ox.classNames={fullWidth:Dv,zeroRight:Rv};var Oie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Oie();return t&&e.setAttribute("nonce",t),e}function Die(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Iie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Lie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Rie())&&(Die(t,n),Iie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zie=function(){var e=Lie();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},c6=function(){var e=zie(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},$ie={left:0,top:0,right:0,gap:0},e1=function(e){return parseInt(e||"",10)||0},Fie=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[e1(n),e1(r),e1(i)]},Bie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $ie;var t=Fie(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Uie=c6(),hf="data-scroll-locked",Vie=function(e,t,n,r){var i=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(jie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(hf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rv,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Dv,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Rv," .").concat(Rv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dv," .").concat(Dv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hf,`] {
    `).concat(Nie,": ").concat(u,`px;
  }
`)},Fk=function(){var e=parseInt(document.body.getAttribute(hf)||"0",10);return isFinite(e)?e:0},Hie=function(){v.useEffect(function(){return document.body.setAttribute(hf,(Fk()+1).toString()),function(){var e=Fk()-1;e<=0?document.body.removeAttribute(hf):document.body.setAttribute(hf,e.toString())}},[])},qie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Hie();var o=v.useMemo(function(){return Bie(i)},[i]);return v.createElement(Uie,{styles:Vie(o,!t,i,n?"":"!important")})},R_=!1;if(typeof window<"u")try{var Qg=Object.defineProperty({},"passive",{get:function(){return R_=!0,!0}});window.addEventListener("test",Qg,Qg),window.removeEventListener("test",Qg,Qg)}catch{R_=!1}var Hd=R_?{passive:!1}:!1,Kie=function(e){return e.tagName==="TEXTAREA"},u6=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kie(e)&&n[t]==="visible")},Wie=function(e){return u6(e,"overflowY")},Gie=function(e){return u6(e,"overflowX")},Bk=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=d6(e,r);if(i){var o=f6(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Yie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Zie=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},d6=function(e,t){return e==="v"?Wie(t):Gie(t)},f6=function(e,t){return e==="v"?Yie(t):Zie(t)},Xie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qie=function(e,t,n,r,i){var o=Xie(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,h=t.contains(u),m=!1,p=l>0,g=0,b=0;do{if(!u)break;var _=f6(e,u),N=_[0],S=_[1],T=_[2],C=S-T-o*N;(N||C)&&d6(e,u)&&(g+=C,b+=N);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(m=!0),m},Jg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Uk=function(e){return[e.deltaX,e.deltaY]},Vk=function(e){return e&&"current"in e?e.current:e},Jie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tae=0,qd=[];function nae(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(tae++)[0],o=v.useState(c6)[0],l=v.useRef(e);v.useEffect(function(){l.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var S=_ie([e.lockRef.current],(e.shards||[]).map(Vk),!0).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=v.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var C=Jg(S),M=n.current,E="deltaX"in S?S.deltaX:M[0]-C[0],k="deltaY"in S?S.deltaY:M[1]-C[1],R,I=S.target,D=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in S&&D==="h"&&I.type==="range")return!1;var F=window.getSelection(),Y=F&&F.anchorNode,ne=Y?Y===I||Y.contains(I):!1;if(ne)return!1;var W=Bk(D,I);if(!W)return!0;if(W?R=D:(R=D==="v"?"h":"v",W=Bk(D,I)),!W)return!1;if(!r.current&&"changedTouches"in S&&(E||k)&&(r.current=R),!R)return!0;var Z=r.current||R;return Qie(Z,T,S,Z==="h"?E:k)},[]),h=v.useCallback(function(S){var T=S;if(!(!qd.length||qd[qd.length-1]!==o)){var C="deltaY"in T?Uk(T):Jg(T),M=t.current.filter(function(R){return R.name===T.type&&(R.target===T.target||T.target===R.shadowParent)&&Jie(R.delta,C)})[0];if(M&&M.should){T.cancelable&&T.preventDefault();return}if(!M){var E=(l.current.shards||[]).map(Vk).filter(Boolean).filter(function(R){return R.contains(T.target)}),k=E.length>0?u(T,E[0]):!l.current.noIsolation;k&&T.cancelable&&T.preventDefault()}}},[]),m=v.useCallback(function(S,T,C,M){var E={name:S,delta:T,target:C,should:M,shadowParent:rae(C)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(k){return k!==E})},1)},[]),p=v.useCallback(function(S){n.current=Jg(S),r.current=void 0},[]),g=v.useCallback(function(S){m(S.type,Uk(S),S.target,u(S,e.lockRef.current))},[]),b=v.useCallback(function(S){m(S.type,Jg(S),S.target,u(S,e.lockRef.current))},[]);v.useEffect(function(){return qd.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Hd),document.addEventListener("touchmove",h,Hd),document.addEventListener("touchstart",p,Hd),function(){qd=qd.filter(function(S){return S!==o}),document.removeEventListener("wheel",h,Hd),document.removeEventListener("touchmove",h,Hd),document.removeEventListener("touchstart",p,Hd)}},[]);var _=e.removeScrollBar,N=e.inert;return v.createElement(v.Fragment,null,N?v.createElement(o,{styles:eae(i)}):null,_?v.createElement(qie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iae=kie(l6,nae);var Rx=v.forwardRef(function(e,t){return v.createElement(Ox,Do({},e,{ref:t,sideCar:iae}))});Rx.classNames=Ox.classNames;var aae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kd=new WeakMap,ev=new WeakMap,tv={},t1=0,h6=function(e){return e&&(e.host||h6(e.parentNode))},sae=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=h6(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oae=function(e,t,n,r){var i=sae(t,Array.isArray(e)?e:[e]);tv[n]||(tv[n]=new WeakMap);var o=tv[n],l=[],u=new Set,h=new Set(i),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};i.forEach(m);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))p(b);else try{var _=b.getAttribute(r),N=_!==null&&_!=="false",S=(Kd.get(b)||0)+1,T=(o.get(b)||0)+1;Kd.set(b,S),o.set(b,T),l.push(b),S===1&&N&&ev.set(b,!0),T===1&&b.setAttribute(n,"true"),N||b.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return p(t),u.clear(),t1++,function(){l.forEach(function(g){var b=Kd.get(g)-1,_=o.get(g)-1;Kd.set(g,b),o.set(g,_),b||(ev.has(g)||g.removeAttribute(r),ev.delete(g)),_||g.removeAttribute(n)}),t1--,t1||(Kd=new WeakMap,Kd=new WeakMap,ev=new WeakMap,tv={})}},oT=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=aae(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),oae(r,i,n,"aria-hidden")):function(){return null}};function lae(e){const t=cae(e),n=v.forwardRef((r,i)=>{const{children:o,...l}=r,u=v.Children.toArray(o),h=u.find(dae);if(h){const m=h.props.children,p=u.map(g=>g===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function cae(e){const t=v.forwardRef((n,r)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=hae(i),u=fae(o,i.props);return i.type!==v.Fragment&&(u.ref=r?kl(r,l):l),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uae=Symbol("radix.slottable");function dae(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uae}function fae(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function hae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dx="Dialog",[m6,p6]=ra(Dx),[mae,po]=m6(Dx),g6=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=v.useRef(null),h=v.useRef(null),[m,p]=co({prop:r,defaultProp:i??!1,onChange:o,caller:Dx});return s.jsx(mae,{scope:t,triggerRef:u,contentRef:h,contentId:ao(),titleId:ao(),descriptionId:ao(),open:m,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};g6.displayName=Dx;var v6="DialogTrigger",y6=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(v6,n),o=Gt(t,i.triggerRef);return s.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uT(i.open),...r,ref:o,onClick:Ze(e.onClick,i.onOpenToggle)})});y6.displayName=v6;var lT="DialogPortal",[pae,x6]=m6(lT,{forceMount:void 0}),b6=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=po(lT,t);return s.jsx(pae,{scope:t,forceMount:n,children:v.Children.map(r,l=>s.jsx(Fa,{present:n||o.open,children:s.jsx(Bf,{asChild:!0,container:i,children:l})}))})};b6.displayName=lT;var fy="DialogOverlay",w6=v.forwardRef((e,t)=>{const n=x6(fy,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=po(fy,e.__scopeDialog);return o.modal?s.jsx(Fa,{present:r||o.open,children:s.jsx(vae,{...i,ref:t})}):null});w6.displayName=fy;var gae=lae("DialogOverlay.RemoveScroll"),vae=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(fy,n);return s.jsx(Rx,{as:gae,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Pt.div,{"data-state":uT(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yu="DialogContent",S6=v.forwardRef((e,t)=>{const n=x6(Yu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=po(Yu,e.__scopeDialog);return s.jsx(Fa,{present:r||o.open,children:o.modal?s.jsx(yae,{...i,ref:t}):s.jsx(xae,{...i,ref:t})})});S6.displayName=Yu;var yae=v.forwardRef((e,t)=>{const n=po(Yu,e.__scopeDialog),r=v.useRef(null),i=Gt(t,n.contentRef,r);return v.useEffect(()=>{const o=r.current;if(o)return oT(o)},[]),s.jsx(_6,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ze(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Ze(e.onFocusOutside,o=>o.preventDefault())})}),xae=v.forwardRef((e,t)=>{const n=po(Yu,e.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return s.jsx(_6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),_6=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=po(Yu,n),h=v.useRef(null),m=Gt(t,h);return sT(),s.jsxs(s.Fragment,{children:[s.jsx(kx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(Ff,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":uT(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(wae,{titleId:u.titleId}),s.jsx(_ae,{contentRef:h,descriptionId:u.descriptionId})]})]})}),cT="DialogTitle",j6=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(cT,n);return s.jsx(Pt.h2,{id:i.titleId,...r,ref:t})});j6.displayName=cT;var N6="DialogDescription",T6=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(N6,n);return s.jsx(Pt.p,{id:i.descriptionId,...r,ref:t})});T6.displayName=N6;var P6="DialogClose",C6=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(P6,n);return s.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ze(e.onClick,()=>i.onOpenChange(!1))})});C6.displayName=P6;function uT(e){return e?"open":"closed"}var A6="DialogTitleWarning",[bae,E6]=xK(A6,{contentName:Yu,titleName:cT,docsSlug:"dialog"}),wae=({titleId:e})=>{const t=E6(A6),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Sae="DialogDescriptionWarning",_ae=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${E6(Sae).contentName}}.`;return v.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},dT=g6,M6=y6,fT=b6,fp=w6,hp=S6,mp=j6,pp=T6,Ix=C6;const jae=dT,Nae=M6,Tae=fT,k6=v.forwardRef(({className:e,...t},n)=>s.jsx(fp,{className:Tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));k6.displayName=fp.displayName;const Pae=ap("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),O6=v.forwardRef(({side:e="right",className:t,children:n,...r},i)=>s.jsxs(Tae,{children:[s.jsx(k6,{}),s.jsxs(hp,{ref:i,className:Tt(Pae({side:e}),t),...r,children:[s.jsxs(Ix,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(io,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));O6.displayName=hp.displayName;const R6=({className:e,...t})=>s.jsx("div",{className:Tt("flex flex-col space-y-2 text-center sm:text-left",e),...t});R6.displayName="SheetHeader";const D6=v.forwardRef(({className:e,...t},n)=>s.jsx(mp,{ref:n,className:Tt("text-lg font-semibold text-foreground",e),...t}));D6.displayName=mp.displayName;const Cae=v.forwardRef(({className:e,...t},n)=>s.jsx(pp,{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));Cae.displayName=pp.displayName;function Aae({userName:e,lastRunDistance:t}){const[,n]=Vr(),[r,i]=v.useState(!1),[o,l]=v.useState(null);return v.useEffect(()=>{const u=localStorage.getItem("userProfile");if(u)try{l(JSON.parse(u))}catch(h){console.error("Failed to parse profile:",h)}},[]),s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-6 pb-32",children:[s.jsxs("header",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(jae,{open:r,onOpenChange:i,children:[s.jsx(Nae,{asChild:!0,children:s.jsx("button",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center","data-testid":"button-menu",children:s.jsx(AG,{className:"w-5 h-5 text-foreground"})})}),s.jsxs(O6,{side:"left",className:"w-72",children:[s.jsx(R6,{className:"text-left",children:s.jsx(D6,{className:"text-primary font-display uppercase tracking-wider",children:"Menu"})}),s.jsxs("nav",{className:"mt-6 space-y-2",children:[s.jsxs("button",{onClick:()=>{i(!1),n("/profile")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-muted/50 transition-colors text-left","data-testid":"menu-profile",children:[s.jsx(Oc,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-medium",children:"Profile"})]}),s.jsxs("button",{onClick:()=>{i(!1),n("/history")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-muted/50 transition-colors text-left","data-testid":"menu-history",children:[s.jsx(GE,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-medium",children:"Run History"})]}),s.jsxs("button",{onClick:()=>{i(!1),n("/events")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-muted/50 transition-colors text-left","data-testid":"menu-events",children:[s.jsx($o,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-medium",children:"Events"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-display font-bold text-primary uppercase tracking-wider",children:o?.name||e||"Runner"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Welcome to AI Run Coach"})]})]}),s.jsx(At.div,{className:"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center border border-primary/50 cursor-pointer hover:bg-primary/30 transition-colors overflow-hidden",onClick:()=>n("/profile"),"data-testid":"button-profile",children:o?.profilePic?s.jsx("img",{src:o.profilePic,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx(Oc,{className:"w-5 h-5 text-primary"})})]}),s.jsxs("main",{className:"space-y-6",children:[s.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(QS,{className:"w-10 h-10 text-primary"})}),s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wide mb-3",children:"Mobile Apps Coming Soon"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-sm mx-auto mb-8",children:"We're building native mobile apps with GPS tracking, AI coaching, and more. Stay tuned!"})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsx(At.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:s.jsx(wt,{className:"relative overflow-hidden border-2 border-green-500/30 bg-green-500/5",children:s.jsx(Et,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-green-500/20 flex items-center justify-center",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 text-green-500",fill:"currentColor",children:s.jsx("path",{d:"M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24c-1.4-.59-2.96-.92-4.61-.92s-3.21.33-4.61.92L5.37 5.67c-.19-.29-.58-.38-.87-.2-.28.18-.37.54-.22.83L6.22 9.5C3.34 11.19 1.33 14.07 1 17.5h22c-.33-3.43-2.35-6.31-5.4-8.02zM7 15.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25zm10 0c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-display font-bold uppercase tracking-wide text-green-400",children:"Android App"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Coming Soon"}),s.jsx(Zr,{variant:"outline",className:"mt-2 border-green-500/50 text-green-400",children:"In Development"})]})]})})})}),s.jsx(At.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:s.jsx(wt,{className:"relative overflow-hidden border-2 border-blue-500/30 bg-blue-500/5",children:s.jsx(Et,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-500/20 flex items-center justify-center",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 text-blue-500",fill:"currentColor",children:s.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-display font-bold uppercase tracking-wide text-blue-400",children:"iOS App"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Coming Soon"}),s.jsx(Zr,{variant:"outline",className:"mt-2 border-blue-500/50 text-blue-400",children:"In Development"})]})]})})})})]}),s.jsx(At.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},"data-testid":"card-last-run",children:s.jsx(wt,{className:"relative overflow-hidden border-2 border-primary/30 bg-primary/5 cursor-pointer hover:border-primary/50 transition-all",onClick:()=>n("/history"),"data-testid":"card-previous-runs-clickable",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(GE,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"text-lg font-display font-bold uppercase",children:"Previous Runs"})]}),t?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last run"}),s.jsxs("p",{className:"font-display text-lg",children:[t.toFixed(2)," km"]})]}),s.jsx(yf,{className:"w-5 h-5 text-primary"})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your run history"})]})})}),s.jsx(At.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsx(wt,{className:"relative overflow-hidden border-2 border-orange-500/30 bg-orange-500/5 cursor-pointer hover:border-orange-500/50 transition-all",onClick:()=>n("/events"),"data-testid":"card-events",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($o,{className:"w-5 h-5 text-orange-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-display font-bold uppercase",children:"Browse Events"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find parkruns and races near you"})]}),s.jsx(yf,{className:"w-5 h-5 text-orange-500"})]})})})})]})]})}var Lx="Switch",[Eae]=ra(Lx),[Mae,kae]=Eae(Lx),I6=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:l,disabled:u,value:h="on",onCheckedChange:m,form:p,...g}=e,[b,_]=v.useState(null),N=Gt(t,E=>_(E)),S=v.useRef(!1),T=b?p||!!b.closest("form"):!0,[C,M]=co({prop:i,defaultProp:o??!1,onChange:m,caller:Lx});return s.jsxs(Mae,{scope:n,checked:C,disabled:u,children:[s.jsx(Pt.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":F6(C),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:N,onClick:Ze(e.onClick,E=>{M(k=>!k),T&&(S.current=E.isPropagationStopped(),S.current||E.stopPropagation())})}),T&&s.jsx($6,{control:b,bubbles:!S.current,name:r,value:h,checked:C,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});I6.displayName=Lx;var L6="SwitchThumb",z6=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=kae(L6,n);return s.jsx(Pt.span,{"data-state":F6(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});z6.displayName=L6;var Oae="SwitchBubbleInput",$6=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const l=v.useRef(null),u=Gt(l,o),h=Ex(n),m=jx(t);return v.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&_){const N=new Event("click",{bubbles:r});_.call(p,n),p.dispatchEvent(N)}},[h,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$6.displayName=Oae;function F6(e){return e?"checked":"unchecked"}var B6=I6,Rae=z6;const hy=v.forwardRef(({className:e,...t},n)=>s.jsx(B6,{className:Tt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(Rae,{className:Tt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));hy.displayName=B6.displayName;var Dae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Iae=Dae.reduce((e,t)=>{const n=Uz(`Primitive.${t}`),r=v.forwardRef((i,o)=>{const{asChild:l,...u}=i,h=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Lae="Label",U6=v.forwardRef((e,t)=>s.jsx(Iae.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));U6.displayName=Lae;var V6=U6;const zae=ap("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nn=v.forwardRef(({className:e,...t},n)=>s.jsx(V6,{ref:n,className:Tt(zae(),e),...t}));nn.displayName=V6.displayName;const ld=dT,$ae=fT,H6=v.forwardRef(({className:e,...t},n)=>s.jsx(fp,{ref:n,className:Tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));H6.displayName=fp.displayName;const Kc=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs($ae,{children:[s.jsx(H6,{}),s.jsxs(hp,{ref:r,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(Ix,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(io,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kc.displayName=hp.displayName;const Wc=({className:e,...t})=>s.jsx("div",{className:Tt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wc.displayName="DialogHeader";const cd=({className:e,...t})=>s.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cd.displayName="DialogFooter";const Gc=v.forwardRef(({className:e,...t},n)=>s.jsx(mp,{ref:n,className:Tt("text-lg font-semibold leading-none tracking-tight",e),...t}));Gc.displayName=mp.displayName;const zx=v.forwardRef(({className:e,...t},n)=>s.jsx(pp,{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));zx.displayName=pp.displayName;const hT="activeRunSession",Fae=12;function Bae(e){try{localStorage.setItem(hT,JSON.stringify(e))}catch(t){console.error("Failed to save active run session:",t)}}function D_(){try{const e=localStorage.getItem(hT);if(!e)return null;const t=JSON.parse(e);return(Date.now()-t.startTimestamp)/(1e3*60*60)>Fae||t.status==="completed"?(I_(),null):t}catch(e){return console.error("Failed to load active run session:",e),null}}function I_(){try{localStorage.removeItem(hT)}catch(e){console.error("Failed to clear active run session:",e)}}const q6="aiCoachSettings",Cc={gender:"male",accent:"british",tone:"energetic"};function Nm(){try{const e=localStorage.getItem(q6);if(e){const t=JSON.parse(e);return{gender:t.gender||Cc.gender,accent:t.accent||Cc.accent,tone:t.tone||Cc.tone}}}catch(e){console.error("Failed to load coach settings:",e)}return Cc}async function mT(){try{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);if(t.id){const n=await fetch(`/api/users/${t.id}`);if(n.ok){const r=await n.json(),i={gender:r.coachGender||Cc.gender,accent:r.coachAccent||Cc.accent,tone:r.coachTone||Cc.tone};return localStorage.setItem(q6,JSON.stringify(i)),i}}}}catch(e){console.error("Failed to load coach settings from profile:",e)}return Nm()}function Hk(e){const{gender:t,accent:n}=e;return{british:{male:"fable",female:"nova"},australian:{male:"echo",female:"shimmer"},american:{male:"onyx",female:"alloy"},irish:{male:"ash",female:"coral"},scottish:{male:"echo",female:"sage"},newzealand:{male:"onyx",female:"shimmer"}}[n][t]}function nv(e){const{gender:t,accent:n,tone:r}=e,i={british:["Daniel","James","Arthur","Oliver","George","Google UK English Male","Microsoft Ryan","Microsoft George"],australian:["Lee","Gordon","Aaron","Google UK English Male"],american:["Alex","Fred","Tom","Aaron","Google US English Male"],irish:["Daniel","James","Google UK English Male"],scottish:["Daniel","James","Google UK English Male"],newzealand:["Daniel","Lee","Google UK English Male"]},o={british:["Kate","Serena","Martha","Google UK English Female","Microsoft Hazel"],australian:["Karen","Catherine","Google UK English Female"],american:["Samantha","Victoria","Allison","Susan","Ava","Google US English Female"],irish:["Moira","Kate","Google UK English Female"],scottish:["Fiona","Kate","Google UK English Female"],newzealand:["Karen","Catherine","Google UK English Female"]},l={british:"en-GB",australian:"en-AU",american:"en-US",irish:"en-IE",scottish:"en-GB",newzealand:"en-NZ"},u={energetic:{rate:1.1,pitch:1.15},motivational:{rate:1,pitch:1.1},instructive:{rate:.95,pitch:1},factual:{rate:.9,pitch:.95},abrupt:{rate:1.2,pitch:1}},h=t==="male"?i[n]:o[n],m=[l[n]],{rate:p,pitch:g}=u[r];return{preferredNames:h,langPreferences:m,rate:p,pitch:g}}var n1="rovingFocusGroup.onEntryFocus",Uae={bubbles:!1,cancelable:!0},gp="RovingFocusGroup",[L_,K6,Vae]=rp(gp),[Hae,Xf]=ra(gp,[Vae]),[qae,Kae]=Hae(gp),W6=v.forwardRef((e,t)=>s.jsx(L_.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(L_.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Wae,{...e,ref:t})})}));W6.displayName=gp;var Wae=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:p=!1,...g}=e,b=v.useRef(null),_=Gt(t,b),N=Yf(o),[S,T]=co({prop:l,defaultProp:u??null,onChange:h,caller:gp}),[C,M]=v.useState(!1),E=$a(m),k=K6(n),R=v.useRef(!1),[I,D]=v.useState(0);return v.useEffect(()=>{const F=b.current;if(F)return F.addEventListener(n1,E),()=>F.removeEventListener(n1,E)},[E]),s.jsx(qae,{scope:n,orientation:r,dir:N,loop:i,currentTabStopId:S,onItemFocus:v.useCallback(F=>T(F),[T]),onItemShiftTab:v.useCallback(()=>M(!0),[]),onFocusableItemAdd:v.useCallback(()=>D(F=>F+1),[]),onFocusableItemRemove:v.useCallback(()=>D(F=>F-1),[]),children:s.jsx(Pt.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...e.style},onMouseDown:Ze(e.onMouseDown,()=>{R.current=!0}),onFocus:Ze(e.onFocus,F=>{const Y=!R.current;if(F.target===F.currentTarget&&Y&&!C){const ne=new CustomEvent(n1,Uae);if(F.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const W=k().filter(K=>K.focusable),Z=W.find(K=>K.active),re=W.find(K=>K.id===S),fe=[Z,re,...W].filter(Boolean).map(K=>K.ref.current);Z6(fe,p)}}R.current=!1}),onBlur:Ze(e.onBlur,()=>M(!1))})})}),G6="RovingFocusGroupItem",Y6=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:l,...u}=e,h=ao(),m=o||h,p=Kae(G6,n),g=p.currentTabStopId===m,b=K6(n),{onFocusableItemAdd:_,onFocusableItemRemove:N,currentTabStopId:S}=p;return v.useEffect(()=>{if(r)return _(),()=>N()},[r,_,N]),s.jsx(L_.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:s.jsx(Pt.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Ze(e.onMouseDown,T=>{r?p.onItemFocus(m):T.preventDefault()}),onFocus:Ze(e.onFocus,()=>p.onItemFocus(m)),onKeyDown:Ze(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const C=Zae(T,p.orientation,p.dir);if(C!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let E=b().filter(k=>k.focusable).map(k=>k.ref.current);if(C==="last")E.reverse();else if(C==="prev"||C==="next"){C==="prev"&&E.reverse();const k=E.indexOf(T.currentTarget);E=p.loop?Xae(E,k+1):E.slice(k+1)}setTimeout(()=>Z6(E))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:S!=null}):l})})});Y6.displayName=G6;var Gae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zae(e,t,n){const r=Yae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gae[r]}function Z6(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Xae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var pT=W6,gT=Y6,vT="Radio",[Qae,X6]=ra(vT),[Jae,ese]=Qae(vT),Q6=v.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:l,value:u="on",onCheck:h,form:m,...p}=e,[g,b]=v.useState(null),_=Gt(t,T=>b(T)),N=v.useRef(!1),S=g?m||!!g.closest("form"):!0;return s.jsxs(Jae,{scope:n,checked:i,disabled:l,children:[s.jsx(Pt.button,{type:"button",role:"radio","aria-checked":i,"data-state":n$(i),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:_,onClick:Ze(e.onClick,T=>{i||h?.(),S&&(N.current=T.isPropagationStopped(),N.current||T.stopPropagation())})}),S&&s.jsx(t$,{control:g,bubbles:!N.current,name:r,value:u,checked:i,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});Q6.displayName=vT;var J6="RadioIndicator",e$=v.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=ese(J6,n);return s.jsx(Fa,{present:r||o.checked,children:s.jsx(Pt.span,{"data-state":n$(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});e$.displayName=J6;var tse="RadioBubbleInput",t$=v.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const l=v.useRef(null),u=Gt(l,o),h=Ex(n),m=jx(t);return v.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&_){const N=new Event("click",{bubbles:r});_.call(p,n),p.dispatchEvent(N)}},[h,n,r]),s.jsx(Pt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t$.displayName=tse;function n$(e){return e?"checked":"unchecked"}var nse=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$x="RadioGroup",[rse]=ra($x,[Xf,X6]),r$=Xf(),i$=X6(),[ise,ase]=rse($x),a$=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:l=!1,disabled:u=!1,orientation:h,dir:m,loop:p=!0,onValueChange:g,...b}=e,_=r$(n),N=Yf(m),[S,T]=co({prop:o,defaultProp:i??null,onChange:g,caller:$x});return s.jsx(ise,{scope:n,name:r,required:l,disabled:u,value:S,onValueChange:T,children:s.jsx(pT,{asChild:!0,..._,orientation:h,dir:N,loop:p,children:s.jsx(Pt.div,{role:"radiogroup","aria-required":l,"aria-orientation":h,"data-disabled":u?"":void 0,dir:N,...b,ref:t})})})});a$.displayName=$x;var s$="RadioGroupItem",o$=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=ase(s$,n),l=o.disabled||r,u=r$(n),h=i$(n),m=v.useRef(null),p=Gt(t,m),g=o.value===i.value,b=v.useRef(!1);return v.useEffect(()=>{const _=S=>{nse.includes(S.key)&&(b.current=!0)},N=()=>b.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",N)}},[]),s.jsx(gT,{asChild:!0,...u,focusable:!l,active:g,children:s.jsx(Q6,{disabled:l,required:o.required,checked:g,...h,...i,name:o.name,ref:p,onCheck:()=>o.onValueChange(i.value),onKeyDown:Ze(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Ze(i.onFocus,()=>{b.current&&m.current?.click()})})})});o$.displayName=s$;var sse="RadioGroupIndicator",l$=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=i$(n);return s.jsx(e$,{...i,...r,ref:t})});l$.displayName=sse;var c$=a$,u$=o$,ose=l$;const d$=v.forwardRef(({className:e,...t},n)=>s.jsx(c$,{className:Tt("grid gap-2",e),...t,ref:n}));d$.displayName=c$.displayName;const f$=v.forwardRef(({className:e,...t},n)=>s.jsx(u$,{ref:n,className:Tt("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ose,{className:"flex items-center justify-center",children:s.jsx(Z4,{className:"h-3.5 w-3.5 fill-primary"})})}));f$.displayName=u$.displayName;function lse(){return/android/i.test(navigator.userAgent)}function cse(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}function use({open:e,onClose:t,currentAccuracy:n}){const r=lse(),i=cse();return s.jsx(ld,{open:e,onOpenChange:o=>!o&&t(),children:s.jsxs(Kc,{className:"max-w-md max-h-[85vh] overflow-y-auto","data-testid":"gps-help-dialog",children:[s.jsxs(Wc,{children:[s.jsxs(Gc,{className:"flex items-center gap-2",children:[s.jsx(Ic,{className:"w-5 h-5 text-primary"}),"Improve GPS Accuracy"]}),s.jsx(zx,{children:n&&n>100?`Your current GPS accuracy is ${Math.round(n)}m. For best results during your run, we need accuracy under 30m.`:"Enable precise location for accurate distance and pace tracking."})]}),s.jsxs("div",{className:"space-y-4 mt-2",children:[r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[s.jsx(QS,{className:"w-4 h-4"}),"Android (Chrome)"]}),s.jsxs("ol",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"1"}),s.jsxs("span",{children:["Open your phone's ",s.jsx("strong",{className:"text-foreground",children:"Settings"})," app"]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"2"}),s.jsxs("span",{children:["Tap ",s.jsx("strong",{className:"text-foreground",children:"Apps"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"3"}),s.jsxs("span",{children:["Find and tap ",s.jsx("strong",{className:"text-foreground",children:"Chrome"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"4"}),s.jsxs("span",{children:["Tap ",s.jsx("strong",{className:"text-foreground",children:"Permissions"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"5"}),s.jsxs("span",{children:["Tap ",s.jsx("strong",{className:"text-foreground",children:"Location"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"6"}),s.jsxs("span",{children:["Enable ",s.jsx("strong",{className:"text-foreground",children:'"Use precise location"'})," toggle"]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"7"}),s.jsx("span",{children:"Return to this app and refresh the page"})]})]})]}),s.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-yellow-200",children:[s.jsx("strong",{children:"Path:"}),' Settings  Apps  Chrome  Permissions  Location  Enable "Use precise location"']})})]}),i&&s.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[s.jsx(QS,{className:"w-4 h-4"}),"iPhone / iPad"]}),s.jsxs("ol",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"1"}),s.jsxs("span",{children:["Open ",s.jsx("strong",{className:"text-foreground",children:"Settings"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"2"}),s.jsxs("span",{children:["Tap ",s.jsx("strong",{className:"text-foreground",children:"Privacy & Security"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"3"}),s.jsxs("span",{children:["Tap ",s.jsx("strong",{className:"text-foreground",children:"Location Services"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"4"}),s.jsxs("span",{children:["Scroll down and tap ",s.jsx("strong",{className:"text-foreground",children:"Safari Websites"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"5"}),s.jsxs("span",{children:["Enable ",s.jsx("strong",{className:"text-foreground",children:'"Precise Location"'})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"6"}),s.jsx("span",{children:"Return to this app and refresh"})]})]})]}),!r&&!i&&s.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[s.jsx(sN,{className:"w-4 h-4"}),"General Instructions"]}),s.jsxs("ol",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"1"}),s.jsxs("span",{children:["Open your device's ",s.jsx("strong",{className:"text-foreground",children:"Settings"})]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"2"}),s.jsxs("span",{children:["Find ",s.jsx("strong",{className:"text-foreground",children:"Location"})," or ",s.jsx("strong",{className:"text-foreground",children:"Privacy"})," settings"]})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"3"}),s.jsx("span",{children:"Find your browser (Chrome, Safari, etc.)"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"bg-primary/20 text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs flex-shrink-0",children:"4"}),s.jsxs("span",{children:["Enable ",s.jsx("strong",{className:"text-foreground",children:'"Precise Location"'})," or ",s.jsx("strong",{className:"text-foreground",children:'"High Accuracy"'})]})]})]})]}),s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-200",children:[s.jsx("strong",{children:"Tip:"})," After changing settings, close and reopen this app, or pull down to refresh the page."]})})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(Re,{variant:"outline",className:"flex-1",onClick:t,"data-testid":"gps-help-close",children:"Close"}),s.jsx(Re,{className:"flex-1",onClick:()=>{t(),window.location.reload()},"data-testid":"gps-help-refresh",children:"Refresh Page"})]})]})})}const wn=v.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Tt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));wn.displayName="Input";const Fc=v.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Tt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Fc.displayName="Textarea";const dse=[{value:"event",label:"Event",description:"Race or competition",icon:$o},{value:"distance_time",label:"Distance/Time",description:"Personal record target",icon:bf},{value:"health_wellbeing",label:"Health & Wellbeing",description:"Fitness or weight goals",icon:Em},{value:"consistency",label:"Consistency",description:"Run frequency target",icon:Ns}],fse=["5K","10K","Half Marathon","Marathon","Ultra Marathon"],hse=["Improve fitness","Improve endurance","Lose weight","Build strength","Better recovery"];function mse({open:e,onClose:t,onSuccess:n,userId:r,editGoal:i}){const[o,l]=v.useState(!1),[u,h]=v.useState(i?.type||"event"),[m,p]=v.useState(i?.title||""),[g,b]=v.useState(i?.description||""),[_,N]=v.useState(i?.targetDate?new Date(i.targetDate).toISOString().split("T")[0]:""),[S,T]=v.useState(i?.distanceTarget||""),[C,M]=v.useState(i?.timeTargetSeconds?Math.floor(i.timeTargetSeconds/3600).toString():""),[E,k]=v.useState(i?.timeTargetSeconds?Math.floor(i.timeTargetSeconds%3600/60).toString():""),[R,I]=v.useState(i?.timeTargetSeconds?(i.timeTargetSeconds%60).toString():""),[D,F]=v.useState(i?.healthTarget||""),[Y,ne]=v.useState(i?.targetWeightKg?.toString()||""),[W,Z]=v.useState(i?.startingWeightKg?.toString()||""),[re,ce]=v.useState(i?.weeklyRunTarget?.toString()||""),[fe,K]=v.useState(i?.eventName||""),[Q,H]=v.useState(i?.eventLocation||""),[X,$]=v.useState(i?.notes||""),G=async()=>{if(!m.trim()){Se.error("Please enter a goal title");return}l(!0);try{const q=(parseInt(C)||0)*3600+(parseInt(E)||0)*60+(parseInt(R)||0),ae={userId:r,type:u,title:m.trim(),description:g.trim()||null,targetDate:_?new Date(_).toISOString():null,distanceTarget:S.trim()||null,timeTargetSeconds:q>0?q:null,healthTarget:D.trim()||null,targetWeightKg:Y?parseFloat(Y):null,startingWeightKg:W?parseFloat(W):null,weeklyRunTarget:re?parseInt(re):null,eventName:fe.trim()||null,eventLocation:Q.trim()||null,notes:X.trim()||null,priority:1},be=i?`/api/goals/${i.id}`:"/api/goals";if(!(await fetch(be,{method:i?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)})).ok)throw new Error("Failed to save goal");Se.success(i?"Goal updated!":"Goal created!"),n()}catch(q){console.error("Goal save error:",q),Se.error("Failed to save goal")}finally{l(!1)}},Ne=()=>{h("event"),p(""),b(""),N(""),T(""),M(""),k(""),I(""),F(""),ne(""),Z(""),ce(""),K(""),H(""),$("")},de=()=>{i||Ne(),t()};return s.jsx(ld,{open:e,onOpenChange:de,children:s.jsxs(Kc,{className:"max-w-md max-h-[85vh] overflow-y-auto",children:[s.jsx(Wc,{children:s.jsx(Gc,{className:"font-display text-xl",children:i?"Edit Goal":"Set a New Goal"})}),s.jsxs("div",{className:"space-y-5 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(nn,{className:"text-sm font-medium",children:"Goal Type"}),s.jsx(d$,{value:u,onValueChange:h,className:"grid grid-cols-2 gap-2",children:dse.map(q=>{const ae=q.icon;return s.jsxs(nn,{htmlFor:`type-${q.value}`,className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-colors ${u===q.value?"border-primary bg-primary/10":"border-muted hover:border-muted-foreground/50"}`,children:[s.jsx(f$,{value:q.value,id:`type-${q.value}`,className:"sr-only"}),s.jsx(ae,{className:`w-4 h-4 ${u===q.value?"text-primary":"text-muted-foreground"}`}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${u===q.value?"text-primary":""}`,children:q.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:q.description})]})]},q.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"title",children:"Goal Title *"}),s.jsx(wn,{id:"title",value:m,onChange:q=>p(q.target.value),placeholder:"e.g., Run my first marathon","data-testid":"input-goal-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"targetDate",children:"Target Date (optional)"}),s.jsx(wn,{id:"targetDate",type:"date",value:_,onChange:q=>N(q.target.value),"data-testid":"input-goal-date"})]}),u==="event"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"eventName",children:"Event Name"}),s.jsx(wn,{id:"eventName",value:fe,onChange:q=>K(q.target.value),placeholder:"e.g., London Marathon 2025","data-testid":"input-event-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"eventLocation",children:"Event Location"}),s.jsx(wn,{id:"eventLocation",value:Q,onChange:q=>H(q.target.value),placeholder:"e.g., London, UK","data-testid":"input-event-location"})]})]}),(u==="event"||u==="distance_time")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{children:"Distance Target"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:fse.map(q=>s.jsx(Re,{variant:S===q?"default":"outline",size:"sm",onClick:()=>T(q),className:"h-7 text-xs","data-testid":`button-distance-${q.toLowerCase().replace(/\s/g,"-")}`,children:q},q))}),s.jsx(wn,{value:S,onChange:q=>T(q.target.value),placeholder:"Or enter custom distance...","data-testid":"input-distance-target"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{children:"Time Target (optional)"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(wn,{type:"number",min:"0",value:C,onChange:q=>M(q.target.value),placeholder:"HH",className:"w-16 text-center","data-testid":"input-time-hours"}),s.jsx("span",{className:"text-muted-foreground",children:":"}),s.jsx(wn,{type:"number",min:"0",max:"59",value:E,onChange:q=>k(q.target.value),placeholder:"MM",className:"w-16 text-center","data-testid":"input-time-minutes"}),s.jsx("span",{className:"text-muted-foreground",children:":"}),s.jsx(wn,{type:"number",min:"0",max:"59",value:R,onChange:q=>I(q.target.value),placeholder:"SS",className:"w-16 text-center","data-testid":"input-time-seconds"})]})]})]}),u==="health_wellbeing"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{children:"Health Target"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:hse.map(q=>s.jsx(Re,{variant:D===q?"default":"outline",size:"sm",onClick:()=>F(q),className:"h-7 text-xs","data-testid":`button-health-${q.toLowerCase().replace(/\s/g,"-")}`,children:q},q))}),s.jsx(wn,{value:D,onChange:q=>F(q.target.value),placeholder:"Or enter custom health goal...","data-testid":"input-health-target"})]}),D.toLowerCase().includes("weight")&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"startingWeight",children:"Starting Weight (kg)"}),s.jsx(wn,{id:"startingWeight",type:"number",step:"0.1",value:W,onChange:q=>Z(q.target.value),placeholder:"e.g., 80","data-testid":"input-starting-weight"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"targetWeight",children:"Target Weight (kg)"}),s.jsx(wn,{id:"targetWeight",type:"number",step:"0.1",value:Y,onChange:q=>ne(q.target.value),placeholder:"e.g., 75","data-testid":"input-target-weight"})]})]})]}),u==="consistency"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"weeklyTarget",children:"Weekly Run Target"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{id:"weeklyTarget",type:"number",min:"1",max:"14",value:re,onChange:q=>ce(q.target.value),placeholder:"e.g., 3",className:"w-20","data-testid":"input-weekly-target"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"runs per week"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"description",children:"Description (optional)"}),s.jsx(Fc,{id:"description",value:g,onChange:q=>b(q.target.value),placeholder:"Add any details about your goal...",rows:2,"data-testid":"input-goal-description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"notes",children:"Notes (optional)"}),s.jsx(Fc,{id:"notes",value:X,onChange:q=>$(q.target.value),placeholder:"Training notes, motivation, etc...",rows:2,"data-testid":"input-goal-notes"})]})]}),s.jsxs(cd,{className:"gap-2",children:[s.jsx(Re,{variant:"outline",onClick:de,"data-testid":"button-cancel-goal",children:"Cancel"}),s.jsx(Re,{onClick:G,disabled:o,"data-testid":"button-save-goal",children:o?s.jsxs(s.Fragment,{children:[s.jsx(YS,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):i?"Update Goal":"Create Goal"})]})]})})}function pse(){const e=navigator.userAgent;return/^((?!chrome|android).)*safari/i.test(e)}function gse(){const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)&&!("MSStream"in window)}function vse(){const[e,t]=v.useState([5]),[n,r]=v.useState("moderate"),[,i]=Vr(),[o,l]=v.useState(null),[u,h]=v.useState(null),[m,p]=v.useState(!0),[g,b]=v.useState(""),[_,N]=v.useState(!1),[S,T]=v.useState(!1),[C,M]=v.useState(""),[E,k]=v.useState([]),[R,I]=v.useState(!1),[D,F]=v.useState(""),[Y,ne]=v.useState(""),[W,Z]=v.useState(null),[re,ce]=v.useState(null),[fe,K]=v.useState([]),[Q,H]=v.useState(!1),[X,$]=v.useState({h:"0",m:"30",s:"00"}),[G,Ne]=v.useState(!1),[de,q]=v.useState(!1),[ae,be]=v.useState(!1),[Ae,ke]=v.useState(null),[ie,ge]=v.useState(!1),[Me,ve]=v.useState(Cc),[pe,Ye]=v.useState(!1),[vt,Rt]=v.useState(!1),[Wt,gn]=v.useState(void 0),[Nn,kr]=v.useState(!0),[Tn,he]=v.useState(!1),[Be,ot]=v.useState([]),[Zt,An]=v.useState([]),[tt,Jn]=v.useState(!1),[$t,Or]=v.useState(null),[Qt,gi]=v.useState(null),[Rr,Dr]=v.useState(!1),[Ir,Mi]=v.useState(!0),[br,wa]=v.useState(!1),[wr,Sa]=v.useState(!1),[sa,ki]=v.useState([5]),[_a,Mt]=v.useState({h:"0",m:"30",s:"00"}),[kn,Xt]=v.useState("freerun"),[ur,Yt]=v.useState("running"),[On,Sn]=v.useState(!1),[mt,Dt]=v.useState([]),[Gn,or]=v.useState(""),[ft,qi]=v.useState(!1),[Ls,vi]=v.useState(!1),ja=!0;v.useEffect(()=>{mT().then(ve)},[]),v.useEffect(()=>{const rn=D_();rn&&ke(rn)},[]),localStorage.getItem("originalAdmin");const{data:ii=0}=ta({queryKey:["/api/notifications/unread-count",W?.id],queryFn:async()=>{if(!W?.id)return 0;const rn=await fetch(`/api/notifications/unread-count?userId=${W.id}`);return rn.ok&&(await rn.json()).count||0},enabled:!!W?.id,refetchInterval:3e4,staleTime:0}),{data:Sr=[],refetch:yi}=ta({queryKey:["/api/group-runs/invites/pending",W?.id],queryFn:async()=>{if(!W?.id)return[];const rn=await fetch(`/api/group-runs/invites/pending/${W.id}`);return rn.ok?rn.json():[]},enabled:!!W?.id,refetchInterval:15e3,staleTime:0}),{data:oa=[],isLoading:Yn}=ta({queryKey:["/api/routes/recent",W?.id],queryFn:async()=>{if(!W?.id)return[];const rn=await fetch(`/api/routes/recent?limit=4&userId=${W.id}`);return rn.ok?rn.json():[]},enabled:!!W?.id,staleTime:6e4});return v.useEffect(()=>{if(!Q){const rn=Math.round(e[0]*6*60),dr=Math.floor(rn/3600),un=Math.floor(rn%3600/60),fr=rn%60;$({h:dr.toString(),m:un.toString().padStart(2,"0"),s:fr.toString().padStart(2,"0")})}},[e,Q]),v.useEffect(()=>{if(W){const rn=W.distanceMinKm??0,dr=W.distanceMaxKm??50,un=Math.max(rn,Math.min(5,dr));t([un])}},[W?.distanceMinKm,W?.distanceMaxKm]),v.useEffect(()=>{if((async()=>{const Rn=localStorage.getItem("userProfile");if(Rn){const _n=JSON.parse(Rn);if(Z(_n),_n.id){try{const[sn,kt]=await Promise.all([fetch(`/api/users/${_n.id}/runs`),fetch(`/api/routes/favorites?userId=${_n.id}`)]);if(sn.ok){const hr=await sn.json();if(hr.length>0){const Dn=hr[0];ce({id:Dn.id,date:Dn.completedAt?new Date(Dn.completedAt).toLocaleDateString("en-GB"):"",time:Dn.completedAt?new Date(Dn.completedAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"",distance:Dn.distance,totalTime:Dn.duration,avgPace:Dn.avgPace||"",difficulty:Dn.difficulty||"beginner",lat:Dn.startLat||0,lng:Dn.startLng||0})}}if(kt.ok){const hr=await kt.json();K(hr)}}catch(sn){console.warn("Failed to load data from database:",sn)}return}}if(!Rn){const _n=localStorage.getItem("runHistory");if(_n){const sn=JSON.parse(_n);sn.length>0&&ce(sn[sn.length-1])}}})(),!navigator.geolocation){b("Geolocation not supported"),p(!1);return}const dr=30;let un=!1;const fr=navigator.geolocation.watchPosition(async Rn=>{const _n=Rn.coords.accuracy;if(console.log(`GPS update: lat=${Rn.coords.latitude}, lng=${Rn.coords.longitude}, accuracy=${_n.toFixed(1)}m`),gn(_n),_n>dr){b(`Refining GPS signal... (${Math.round(_n)}m accuracy)`),console.log(`GPS position rejected: accuracy ${_n.toFixed(1)}m > ${dr}m threshold`);return}if(gn(void 0),!un){un=!0,navigator.geolocation.clearWatch(fr);const sn={lat:Rn.coords.latitude,lng:Rn.coords.longitude};l(sn),F(sn.lat.toString()),ne(sn.lng.toString()),localStorage.setItem("userGpsLocation",JSON.stringify(sn)),p(!1),b("");try{const hr=await(await fetch(`/api/geocode/reverse?lat=${sn.lat}&lng=${sn.lng}`)).json();hr.address&&h(hr.address)}catch(kt){console.log("Failed to fetch address:",kt)}}},async Rn=>{console.log("GPS location error:",Rn.code,Rn.message),navigator.geolocation.clearWatch(fr),Rn.code===1&&(sessionStorage.getItem("locationToastShown")||(sessionStorage.setItem("locationToastShown","true"),gse()?Se.error('Location blocked. Open iPhone Settings  Privacy & Security  Location Services  Safari Websites  set to "While Using"',{duration:1e4}):pse()?Se.error("Location access denied. Click Safari  Settings for this website  Allow Location, then refresh this page",{duration:8e3}):Se.error("Location access denied. Please enable location in your browser settings and refresh the page.",{duration:6e3}))),b("Enable location access to get personalized routes"),p(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0});return()=>{un||navigator.geolocation.clearWatch(fr)}},[]),v.useEffect(()=>{if(!W?.id)return;(async()=>{if(!(!("Notification"in window)||Notification.permission!=="default"||localStorage.getItem("notificationPromptDismissed"))){try{const un=await fetch(`/api/push/subscription-status?userId=${W.id}`);if(un.ok&&(await un.json()).hasSubscription)return}catch{}setTimeout(()=>{Ne(!0)},2e3)}})()},[W?.id]),v.useEffect(()=>{const rn=localStorage.getItem("runAgainRunId"),dr=localStorage.getItem("runAgainRunName"),un=localStorage.getItem("runAgainUserId");if(!rn)return;if(!o){sessionStorage.getItem("runAgainLocationToastShown")||(sessionStorage.setItem("runAgainLocationToastShown","true"),Se.info("Waiting for GPS location to start your run..."));return}const fr=localStorage.getItem("userProfile"),Rn=fr?JSON.parse(fr).id:null;if(!Rn||Rn!==un){localStorage.removeItem("runAgainRunId"),localStorage.removeItem("runAgainRunName"),localStorage.removeItem("runAgainUserId"),sessionStorage.removeItem("runAgainLocationToastShown"),Se.error("Cannot start run - please try again");return}(async()=>{try{const sn=await fetch(`/api/runs/${rn}/to-route`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:dr||"Run Again Route",makeFavorite:!1,userId:un})});if(!sn.ok){const mr=await sn.json();throw new Error(mr.error||"Failed to create route from run")}const kt=await sn.json();localStorage.removeItem("runAgainRunId"),localStorage.removeItem("runAgainRunName"),localStorage.removeItem("runAgainUserId"),sessionStorage.removeItem("runAgainLocationToastShown");const hr={id:kt.id,routeName:kt.name,difficulty:kt.difficulty,actualDistance:kt.distance,polyline:kt.polyline,waypoints:kt.waypoints,startLat:kt.startLat,startLng:kt.startLng,elevation:kt.elevationProfile?{gain:kt.elevationGain||0,loss:kt.elevationLoss||0,profile:kt.elevationProfile}:void 0,turnInstructions:kt.turnInstructions};localStorage.setItem("activeRoute",JSON.stringify(hr));const Dn=new URLSearchParams({routeId:kt.id,lat:o.lat.toString(),lng:o.lng.toString(),level:kt.difficulty||"moderate",distance:kt.distance?.toString()||"5",aiCoach:ja&&Nn?"on":"off"});Se.success("Starting run with your saved route!"),i(`/run?${Dn.toString()}`)}catch(sn){console.error("Failed to start Run Again:",sn),localStorage.removeItem("runAgainRunId"),localStorage.removeItem("runAgainRunName"),localStorage.removeItem("runAgainUserId"),sessionStorage.removeItem("runAgainLocationToastShown"),Se.error(sn instanceof Error?sn.message:"Failed to start run from previous route")}})()},[o,ja,Nn,i]),v.useEffect(()=>{W?.id&&Tn&&fetch(`/api/users/${W.id}/friends`).then(rn=>rn.json()).then(rn=>{const dr=rn.map(un=>({id:un.friendId,name:un.name||"Unknown",profilePic:un.profilePic}));ot(dr)}).catch(rn=>console.error("Failed to load friends:",rn))},[W?.id,Tn]),s.jsx(Aae,{userName:W?.name,lastRunDistance:re?.distance})}function yse({waypoints:e,startLat:t,startLng:n,routeName:r,distance:i,polyline:o,className:l=""}){const u=v.useRef(null),[h,m]=v.useState(!0),[p,g]=v.useState(null),[b,_]=v.useState(null),N=v.useRef(null);return v.useEffect(()=>{let S=!0;async function T(){try{if(window.google?.maps){S&&setTimeout(()=>C(),50);return}if(window.googleMapsLoading)try{await window.googleMapsLoading,S&&setTimeout(()=>C(),50);return}catch{window.googleMapsLoading=null}const E=await fetch("/api/config/maps-key");if(!E.ok)throw new Error("Failed to get Google Maps API key");const{apiKey:k}=await E.json();window.googleMapsLoading=new Promise((R,I)=>{const D=document.createElement("script");D.src=`https://maps.googleapis.com/maps/api/js?key=${k}&libraries=geometry,places,routes`,D.async=!0,D.defer=!0,D.onload=()=>{R()},D.onerror=()=>{window.googleMapsLoading=null,I(new Error("Failed to load Google Maps"))},document.head.appendChild(D)}),await window.googleMapsLoading,S&&setTimeout(()=>C(),50)}catch{S&&g("Failed to initialize map")}}function C(){if(!u.current||!window.google)return;const E={lat:t,lng:n},k=new window.google.maps.Map(u.current,{center:E,zoom:14,mapTypeId:"roadmap",disableDefaultUI:!0,zoomControl:!0,fullscreenControl:!0});if(N.current=k,new window.google.maps.Marker({position:E,map:k,title:"Start / End",icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:14,fillColor:"#22c55e",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3},zIndex:100}),o&&o.length>0){console.log("Using pre-computed polyline from backend");const R=window.google.maps.geometry.encoding.decodePath(o),I=R.length,D=Math.min(I-1,100),F=Math.max(1,Math.floor((I-1)/D));for(let ne=0;ne<I-1;ne+=F){const W=Math.min(ne+F,I-1),Z=ne/(I-1),re=Math.round(59+Z*-25),ce=Math.round(130+Z*67),fe=Math.round(246+Z*-152),K=`rgb(${re},${ce},${fe})`,Q=R.slice(ne,W+1);new window.google.maps.Polyline({path:Q,geodesic:!0,strokeColor:K,strokeOpacity:.9,strokeWeight:5,map:k})}const Y=new window.google.maps.LatLngBounds;R.forEach(ne=>Y.extend(ne)),Y.extend(E),k.fitBounds(Y),i&&_({distance:i.toFixed(2)+" km"}),m(!1)}else if(e&&e.length>0){console.log("No polyline provided, calculating route from waypoints:",e);const R=e.filter((ne,W)=>{if(typeof ne.lat!="number"||typeof ne.lng!="number"||isNaN(ne.lat)||isNaN(ne.lng)||Math.sqrt(Math.pow((ne.lat-t)*111e3,2)+Math.pow((ne.lng-n)*111e3*Math.cos(t*Math.PI/180),2))<10)return!1;for(let re=0;re<W;re++)if(Math.abs(e[re].lat-ne.lat)<1e-4&&Math.abs(e[re].lng-ne.lng)<1e-4)return!1;return!0});console.log("Valid waypoints after filtering:",R);const I=new window.google.maps.DirectionsService,D=new window.google.maps.DirectionsRenderer({map:k,suppressMarkers:!0,polylineOptions:{strokeColor:"#a855f7",strokeOpacity:.9,strokeWeight:5}}),F=R.map(ne=>({location:new window.google.maps.LatLng(ne.lat,ne.lng),stopover:!1})),Y={origin:E,destination:E,waypoints:F,travelMode:window.google.maps.TravelMode.WALKING,optimizeWaypoints:!1,provideRouteAlternatives:!1};console.log("Calling Directions API with request:",{origin:E,destination:E,waypointsCount:F.length,travelMode:"WALKING"}),I.route(Y,(ne,W)=>{if(console.log("Directions API response status:",W),W==="REQUEST_DENIED"&&(console.error("Directions API request denied - please enable Directions API in Google Cloud Console"),g("Directions API not enabled. Please enable it in Google Cloud Console.")),W===window.google.maps.DirectionsStatus.OK){D.setDirections(ne);let Z=0,re=0;ne.routes[0].legs.forEach(ce=>{Z+=ce.distance.value,re+=ce.duration.value}),_({distance:(Z/1e3).toFixed(2)+" km"}),m(!1)}else{console.log("Full route failed, trying simplified route:",W);const Z=R.length>2?[R[Math.floor(R.length/2)]]:[],re={origin:E,destination:E,waypoints:Z.map(ce=>({location:new window.google.maps.LatLng(ce.lat,ce.lng),stopover:!1})),travelMode:window.google.maps.TravelMode.WALKING};I.route(re,(ce,fe)=>{if(fe===window.google.maps.DirectionsStatus.OK){D.setDirections(ce);let K=0,Q=0;ce.routes[0].legs.forEach(H=>{K+=H.distance.value,Q+=H.duration.value}),_({distance:(K/1e3).toFixed(2)+" km"})}else console.log("Simplified route also failed:",fe),M(k,E,R);m(!1)})}})}else m(!1)}function M(E,k,R){const I=[k,...R,k];new window.google.maps.Polyline({path:I,geodesic:!0,strokeColor:"#a855f7",strokeOpacity:.9,strokeWeight:4,map:E}),R.forEach((F,Y)=>{new window.google.maps.Marker({position:F,map:E,title:`Waypoint ${Y+1}`,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#a855f7",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}})});const D=new window.google.maps.LatLngBounds;I.forEach(F=>D.extend(F)),E.fitBounds(D,50)}return T(),()=>{S=!1}},[e,t,n]),p?s.jsx("div",{className:`flex items-center justify-center bg-card/50 rounded-xl border border-white/10 ${l}`,children:s.jsx("p",{className:"text-muted-foreground",children:p})}):s.jsxs("div",{className:`relative rounded-xl overflow-hidden border border-white/10 ${l}`,children:[h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-card/80 z-10",children:s.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})}),s.jsx("div",{ref:u,className:"w-full h-full",style:{minHeight:"100%"}})]})}function xse(){const[,e]=Vr(),t=u4(),n=new URLSearchParams(t),r=parseFloat(n.get("distance")||"5"),i=n.get("lat"),o=n.get("lng"),l=parseFloat(i||"-36.1316"),u=parseFloat(o||"174.5755"),h=parseInt(n.get("targetTime")||"0"),m=n.get("targetTimeEnabled")==="on",p=m&&r>0?h/r:0,g=pe=>{const Ye=Math.floor(pe/3600),vt=Math.floor(pe%3600/60),Rt=Math.floor(pe%60);return Ye>0?`${Ye}h ${vt}m ${Rt}s`:`${vt}m ${Rt}s`},b=pe=>!m||p===0?0:Math.round(p*pe),[_,N]=v.useState([]),[S,T]=v.useState(null),[C,M]=v.useState(!0),[E,k]=v.useState(null),[R,I]=v.useState("Your AI Coach"),[D,F]=v.useState(!0),[Y,ne]=v.useState(!1),[W,Z]=v.useState([]),[re,ce]=v.useState([]),[fe,K]=v.useState(!1),[Q,H]=v.useState(null),[X,$]=v.useState(null);v.useEffect(()=>{const pe=localStorage.getItem("userProfile");if(pe){const Ye=JSON.parse(pe);Ye.coachName&&I(Ye.coachName),Ye.id&&$(Ye.id)}},[]),v.useEffect(()=>{X&&Y&&fetch(`/api/users/${X}/friends`).then(pe=>pe.json()).then(pe=>{const Ye=pe.map(vt=>({id:vt.friendId,name:vt.name||"Unknown",profilePic:vt.profilePic}));Z(Ye)}).catch(pe=>console.error("Failed to load friends:",pe))},[X,Y]);const G=async()=>{M(!0),k(null),T(null);const pe=localStorage.getItem("userProfile"),Ye=pe?JSON.parse(pe).id:null;try{const vt=await fetch("/api/routes/generate-options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startLat:l,startLng:u,targetDistance:r,userId:Ye})});if(!vt.ok){const Wt=await vt.json().catch(()=>({}));throw new Error(Wt.error||"Failed to generate routes")}const Rt=await vt.json();N(Rt.routes||[])}catch(vt){const Rt=vt instanceof Error?vt.message:"Failed to generate routes";k(Rt),console.error("Route generation error:",vt)}finally{M(!1)}};v.useEffect(()=>{G()},[]);const Ne=()=>{if(!S)return;localStorage.setItem("activeRoute",JSON.stringify({id:S.id,routeName:S.routeName,difficulty:S.difficulty,actualDistance:S.actualDistance,polyline:S.polyline,waypoints:S.waypoints||[],startLat:l,startLng:u,elevation:S.elevation,turnInstructions:S.turnInstructions||[]}));const pe=new URLSearchParams({distance:r.toString(),level:S.difficulty,lat:l.toString(),lng:u.toString(),routeId:S.id,routeName:S.routeName,aiCoach:D?"on":"off"});e(`/run?${pe.toString()}`)},de=async()=>{if(!(!S||!X)){K(!0);try{const pe=await fetch("/api/group-runs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hostUserId:X,routeId:S.id,mode:"route",title:`${S.actualDistance.toFixed(1)}km ${S.difficulty} run`,targetDistance:S.actualDistance})});if(!pe.ok)throw new Error("Failed to create group run");const Ye=await pe.json();H({id:Ye.id,inviteToken:Ye.inviteToken}),re.length>0&&(await fetch(`/api/group-runs/${Ye.id}/invite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:X,friendIds:re})}),Se.success(`Invited ${re.length} friend${re.length>1?"s":""} to join!`))}catch(pe){console.error("Failed to create group run:",pe),Se.error("Failed to create group run")}finally{K(!1)}}},q=()=>{if(!Q)return;const pe=`${window.location.origin}/join-run?token=${Q.inviteToken}`;navigator.clipboard.writeText(pe),Se.success("Invite link copied to clipboard!")},ae=()=>{if(!S||!Q)return;localStorage.setItem("activeRoute",JSON.stringify({id:S.id,routeName:S.routeName,difficulty:S.difficulty,actualDistance:S.actualDistance,polyline:S.polyline,waypoints:S.waypoints||[],startLat:l,startLng:u,elevation:S.elevation,turnInstructions:S.turnInstructions||[]}));const pe=new URLSearchParams({distance:r.toString(),level:S.difficulty,lat:l.toString(),lng:u.toString(),routeId:S.id,routeName:S.routeName,aiCoach:D?"on":"off",groupRunId:Q.id,waiting:"true"});e(`/run?${pe.toString()}`)},be=pe=>{ce(Ye=>Ye.includes(pe)?Ye.filter(vt=>vt!==pe):[...Ye,pe])},Ae=_.filter(pe=>pe.difficulty==="easy"),ke=_.filter(pe=>pe.difficulty==="moderate"),ie=_.filter(pe=>pe.difficulty==="hard"),ge=pe=>{switch(pe){case"easy":return{bg:"bg-green-500/20",border:"border-green-500/40",text:"text-green-400",dot:"bg-green-500"};case"moderate":return{bg:"bg-yellow-500/20",border:"border-yellow-500/40",text:"text-yellow-400",dot:"bg-yellow-500"};case"hard":return{bg:"bg-red-500/20",border:"border-red-500/40",text:"text-red-400",dot:"bg-red-500"};default:return{bg:"bg-gray-500/20",border:"border-gray-500/40",text:"text-gray-400",dot:"bg-gray-500"}}},Me=({route:pe})=>{const Ye=ge(pe.difficulty),vt=S?.id===pe.id;return s.jsx(wt,{className:`cursor-pointer transition-all ${Ye.bg} ${Ye.border} border-2 ${vt?"ring-2 ring-primary scale-[1.01]":"hover:scale-[1.005]"}`,onClick:()=>T(pe),"data-testid":`card-route-${pe.id}`,children:s.jsxs(Et,{className:"p-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yse,{waypoints:pe.waypoints||[],startLat:l,startLng:u,routeName:pe.routeName,distance:pe.actualDistance,polyline:pe.polyline,className:"h-[150px] rounded-t-lg"}),vt&&s.jsx("div",{className:"absolute top-2 right-2 bg-primary text-background px-2 py-1 rounded-full text-xs font-bold",children:"Selected"}),s.jsxs("div",{className:`absolute top-2 left-2 flex items-center gap-1 px-2 py-1 rounded-full ${Ye.bg} backdrop-blur-sm`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${Ye.dot}`}),s.jsx("span",{className:`text-xs font-bold uppercase ${Ye.text}`,children:pe.difficulty})]})]}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yx,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-lg font-bold",children:[pe.actualDistance.toFixed(1)," km"]})]}),pe.elevation&&pe.elevation.gain>0&&s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Ns,{className:"w-3 h-3"}),s.jsxs("span",{className:"text-xs",children:[pe.elevation.gain,"m"]})]})]}),m&&s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-primary",children:[s.jsx(bf,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-medium",children:["Target: ",g(b(pe.actualDistance))]})]}),pe.elevation&&(pe.elevation.maxInclineDegrees||pe.elevation.maxDeclineDegrees)&&s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs",children:[pe.elevation.maxInclineDegrees!==void 0&&pe.elevation.maxInclineDegrees>0&&s.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[s.jsx(Ns,{className:"w-3 h-3"}),s.jsxs("span",{children:["Steepest climb: ",pe.elevation.maxInclineDegrees,""]})]}),pe.elevation.maxDeclineDegrees!==void 0&&pe.elevation.maxDeclineDegrees>0&&s.jsxs("div",{className:"flex items-center gap-1 text-orange-400",children:[s.jsx(lN,{className:"w-3 h-3"}),s.jsxs("span",{children:["Steepest descent: ",pe.elevation.maxDeclineDegrees,""]})]})]}),pe.hasMajorRoads&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Includes major roads"})]})]})})},ve=({title:pe,routeList:Ye,color:vt})=>Ye.length===0?null:s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-bold uppercase tracking-wider mb-3 ${vt}`,children:pe}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:Ye.map(Rt=>s.jsx(Me,{route:Rt},Rt.id))})]});return s.jsxs("div",{className:"min-h-screen bg-background p-6 pb-32 font-sans text-foreground",children:[s.jsxs("header",{className:"mb-6 flex items-center gap-4",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"text-muted-foreground hover:text-primary","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold uppercase tracking-wider",children:"Choose Your Route"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["Select from ",_.length," route options for your ",r,"km run"]})]})]}),C&&s.jsxs(At.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-16",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx(At.div,{animate:{scale:[1,1.1,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-primary/20 rounded-full blur-xl",style:{width:120,height:120,left:-10,top:-10}}),s.jsxs("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-primary/30 to-primary/10 border-2 border-primary/30 flex items-center justify-center",children:[s.jsx(At.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-2 border-transparent border-t-primary/50"}),s.jsx(vl,{className:"w-10 h-10 text-primary"}),s.jsx(At.div,{animate:{scale:[1,1.2,1],opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},className:"absolute -top-1 -right-1",children:s.jsx(nL,{className:"w-5 h-5 text-yellow-400"})})]})]}),s.jsxs(At.p,{animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},className:"text-lg font-medium text-foreground mb-2",children:[R," is thinking..."]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-4",children:[s.jsx(Ic,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Analyzing terrain and finding the best routes"})]}),s.jsx("div",{className:"flex items-center gap-1",children:[0,1,2].map(pe=>s.jsx(At.div,{animate:{y:[0,-8,0],opacity:[.3,1,.3]},transition:{duration:.8,repeat:1/0,delay:pe*.2},className:"w-2 h-2 rounded-full bg-primary"},pe))})]}),E&&s.jsxs(At.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx("p",{className:"text-destructive mb-4",children:E}),s.jsxs(Re,{onClick:G,variant:"outline",className:"gap-2","data-testid":"button-try-again",children:[s.jsx(Yv,{className:"w-4 h-4"}),"Try Again"]})]}),!C&&!E&&_.length>0&&s.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 py-3 px-4 bg-card/50 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-[#3b82f6]"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Start"})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-[#3b82f6] to-[#22c55e]"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-[#22c55e]"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Finish"})]})]}),s.jsx(ve,{title:"Easy Routes",routeList:Ae,color:"text-green-400"}),s.jsx(ve,{title:"Moderate Routes",routeList:ke,color:"text-yellow-400"}),s.jsx(ve,{title:"Hard Routes",routeList:ie,color:"text-red-400"}),s.jsx("div",{className:"pt-4",children:s.jsxs(Re,{variant:"outline",onClick:G,className:"w-full h-12 gap-2 border-white/20","data-testid":"button-regenerate",children:[s.jsx(Yv,{className:"w-4 h-4"}),"Generate New Routes"]})})]}),s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-background via-background to-transparent z-50 space-y-3",children:[s.jsx(wt,{className:"bg-card/80 backdrop-blur-sm border-white/10",children:s.jsxs(Et,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[D?s.jsx(aN,{className:"w-4 h-4 text-primary"}):s.jsx(tL,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(nn,{htmlFor:"ai-coach-toggle",className:"text-sm font-medium",children:"AI Coach"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs ${D?"text-primary":"text-muted-foreground"}`,children:D?"On":"Off"}),s.jsx(hy,{id:"ai-coach-toggle",checked:D,onCheckedChange:F,"data-testid":"switch-ai-coach"})]})]}),!D&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Route directions will use your device's voice instead"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Re,{size:"lg",className:"flex-1 h-16 text-lg font-display uppercase tracking-widest bg-primary text-background hover:bg-primary/90 shadow-[0_0_30px_rgba(6,182,212,0.4)] transition-all disabled:opacity-50",onClick:Ne,disabled:!S||C,"data-testid":"button-start-run",children:[s.jsx(kc,{className:"mr-2 w-5 h-5 fill-current"}),S?"Start Run":"Select a Route"]}),s.jsx(Re,{size:"lg",variant:"outline",className:"h-16 px-4 border-primary/50 text-primary hover:bg-primary/10",onClick:()=>ne(!0),disabled:!S||C||!X,"data-testid":"button-run-with-friends",children:s.jsx(ro,{className:"w-5 h-5"})})]})]}),s.jsx(Da,{children:Y&&s.jsx(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-[100] flex items-end sm:items-center justify-center",onClick:()=>!fe&&ne(!1),children:s.jsxs(At.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-card w-full max-w-md rounded-t-3xl sm:rounded-2xl p-6 max-h-[80vh] overflow-y-auto",onClick:pe=>pe.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-display uppercase tracking-wider",children:Q?"Group Run Created!":"Run with Friends"}),s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>{ne(!1),H(null),ce([])},disabled:fe,children:s.jsx(io,{className:"w-5 h-5"})})]}),Q?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-400 mb-2",children:[s.jsx(Ms,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Group Run Created!"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share the invite code with friends or start running now"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Invite Code"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-mono text-2xl font-bold tracking-widest text-primary",children:Q.inviteToken}),s.jsxs(Re,{variant:"ghost",size:"sm",onClick:q,children:[s.jsx(XW,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]})]}),re.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground mb-4 text-center",children:[re.length," friend",re.length>1?"s":""," invited"]}),s.jsxs(Re,{className:"w-full h-12 font-display uppercase tracking-wider bg-primary text-background",onClick:ae,children:[s.jsx(kc,{className:"mr-2 w-4 h-4 fill-current"}),"Start Group Run"]})]}):s.jsxs(s.Fragment,{children:[S&&s.jsx("div",{className:"bg-white/5 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Selected Route"}),s.jsxs("p",{className:"font-bold",children:[S.actualDistance.toFixed(1),"km ",S.difficulty]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold uppercase ${ge(S.difficulty).bg} ${ge(S.difficulty).text}`,children:S.difficulty})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Invite Friends"}),W.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No friends yet. Add friends to invite them to group runs!"}):s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:W.map(pe=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${re.includes(pe.id)?"bg-primary/20 border border-primary/50":"bg-white/5 hover:bg-white/10"}`,onClick:()=>be(pe.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:pe.name.charAt(0).toUpperCase()}),s.jsx("span",{children:pe.name})]}),re.includes(pe.id)&&s.jsx(Ms,{className:"w-5 h-5 text-primary"})]},pe.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"You can also share an invite link after creating the group run"}),s.jsx(Re,{className:"w-full h-12 font-display uppercase tracking-wider",onClick:de,disabled:fe,children:fe?s.jsxs(s.Fragment,{children:[s.jsx(no,{className:"mr-2 w-4 h-4 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ro,{className:"mr-2 w-4 h-4"}),"Create Group Run"]})})]})]})})})]})}function bse({isActive:e}){const[t,n]=v.useState(new Array(20).fill(10));return v.useEffect(()=>{if(!e)return;const r=setInterval(()=>{n(i=>i.map(()=>Math.random()*40+10))},100);return()=>clearInterval(r)},[e]),s.jsx("div",{className:"flex items-center justify-center gap-1 h-20","data-testid":"voice-visualizer",children:t.map((r,i)=>s.jsx(At.div,{className:"w-1 bg-primary rounded-full",animate:{height:e?r:5,opacity:e?1:.3},transition:{type:"spring",stiffness:300,damping:20}},i))})}function wse(e,t){const n=v.useRef(t);v.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function Sse(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const _se=1;function jse(e){return Object.freeze({__version:_se,map:e})}function yT(e,t){return Object.freeze({...e,...t})}const xT=v.createContext(null);function bT(){const e=v.use(xT);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function h$(e){function t(n,r){const{instance:i,context:o}=e(n).current;v.useImperativeHandle(r,()=>i);const{children:l}=n;return l==null?null:Ge.createElement(xT,{value:o},l)}return v.forwardRef(t)}function Nse(e){function t(n,r){const{instance:i}=e(n).current;return v.useImperativeHandle(r,()=>i),null}return v.forwardRef(t)}function m$(e,t){const n=v.useRef(void 0);v.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function wT(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var fm={exports:{}};var Tse=fm.exports,qk;function Pse(){return qk||(qk=1,(function(e,t){(function(n,r){r(t)})(Tse,(function(n){var r="1.9.4";function i(d){var y,w,A,O;for(w=1,A=arguments.length;w<A;w++){O=arguments[w];for(y in O)d[y]=O[y]}return d}var o=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function l(d,y){var w=Array.prototype.slice;if(d.bind)return d.bind.apply(d,w.call(arguments,1));var A=w.call(arguments,2);return function(){return d.apply(y,A.length?A.concat(w.call(arguments)):arguments)}}var u=0;function h(d){return"_leaflet_id"in d||(d._leaflet_id=++u),d._leaflet_id}function m(d,y,w){var A,O,B,J;return J=function(){A=!1,O&&(B.apply(w,O),O=!1)},B=function(){A?O=arguments:(d.apply(w,arguments),setTimeout(J,y),A=!0)},B}function p(d,y,w){var A=y[1],O=y[0],B=A-O;return d===A&&w?d:((d-O)%B+B)%B+O}function g(){return!1}function b(d,y){if(y===!1)return d;var w=Math.pow(10,y===void 0?6:y);return Math.round(d*w)/w}function _(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function N(d){return _(d).split(/\s+/)}function S(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?o(d.options):{});for(var w in y)d.options[w]=y[w];return d.options}function T(d,y,w){var A=[];for(var O in d)A.push(encodeURIComponent(w?O.toUpperCase():O)+"="+encodeURIComponent(d[O]));return(!y||y.indexOf("?")===-1?"?":"&")+A.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function M(d,y){return d.replace(C,function(w,A){var O=y[A];if(O===void 0)throw new Error("No value provided for variable "+w);return typeof O=="function"&&(O=O(y)),O})}var E=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function k(d,y){for(var w=0;w<d.length;w++)if(d[w]===y)return w;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var D=0;function F(d){var y=+new Date,w=Math.max(0,16-(y-D));return D=y+w,window.setTimeout(d,w)}var Y=window.requestAnimationFrame||I("RequestAnimationFrame")||F,ne=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function W(d,y,w){if(w&&Y===F)d.call(y);else return Y.call(window,l(d,y))}function Z(d){d&&ne.call(window,d)}var re={__proto__:null,extend:i,create:o,bind:l,get lastId(){return u},stamp:h,throttle:m,wrapNum:p,falseFn:g,formatNum:b,trim:_,splitWords:N,setOptions:S,getParamString:T,template:M,isArray:E,indexOf:k,emptyImageUrl:R,requestFn:Y,cancelFn:ne,requestAnimFrame:W,cancelAnimFrame:Z};function ce(){}ce.extend=function(d){var y=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=y.__super__=this.prototype,A=o(w);A.constructor=y,y.prototype=A;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(y[O]=this[O]);return d.statics&&i(y,d.statics),d.includes&&(fe(d.includes),i.apply(null,[A].concat(d.includes))),i(A,d),delete A.statics,delete A.includes,A.options&&(A.options=w.options?o(w.options):{},i(A.options,d.options)),A._initHooks=[],A.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,J=A._initHooks.length;B<J;B++)A._initHooks[B].call(this)}},y},ce.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},ce.mergeOptions=function(d){return i(this.prototype.options,d),this},ce.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),w=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function fe(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=E(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(d,y,w){if(typeof d=="object")for(var A in d)this._on(A,d[A],y);else{d=N(d);for(var O=0,B=d.length;O<B;O++)this._on(d[O],y,w)}return this},off:function(d,y,w){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var A in d)this._off(A,d[A],y);else{d=N(d);for(var O=arguments.length===1,B=0,J=d.length;B<J;B++)O?this._off(d[B]):this._off(d[B],y,w)}return this},_on:function(d,y,w,A){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,w)===!1){w===this&&(w=void 0);var O={fn:y,ctx:w};A&&(O.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(O)}},_off:function(d,y,w){var A,O,B;if(this._events&&(A=this._events[d],!!A)){if(arguments.length===1){if(this._firingCount)for(O=0,B=A.length;O<B;O++)A[O].fn=g;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var J=this._listens(d,y,w);if(J!==!1){var me=A[J];this._firingCount&&(me.fn=g,this._events[d]=A=A.slice()),A.splice(J,1)}}},fire:function(d,y,w){if(!this.listens(d,w))return this;var A=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var O=this._events[d];if(O){this._firingCount=this._firingCount+1||1;for(var B=0,J=O.length;B<J;B++){var me=O[B],Te=me.fn;me.once&&this.off(d,Te,me.ctx),Te.call(me.ctx||this,A)}this._firingCount--}}return w&&this._propagateEvent(A),this},listens:function(d,y,w,A){typeof d!="string"&&console.warn('"string" type argument expected');var O=y;typeof y!="function"&&(A=!!y,O=void 0,w=void 0);var B=this._events&&this._events[d];if(B&&B.length&&this._listens(d,O,w)!==!1)return!0;if(A){for(var J in this._eventParents)if(this._eventParents[J].listens(d,y,w,A))return!0}return!1},_listens:function(d,y,w){if(!this._events)return!1;var A=this._events[d]||[];if(!y)return!!A.length;w===this&&(w=void 0);for(var O=0,B=A.length;O<B;O++)if(A[O].fn===y&&A[O].ctx===w)return O;return!1},once:function(d,y,w){if(typeof d=="object")for(var A in d)this._on(A,d[A],y,!0);else{d=N(d);for(var O=0,B=d.length;O<B;O++)this._on(d[O],y,w,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[h(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[h(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var Q=ce.extend(K);function H(d,y,w){this.x=w?Math.round(d):d,this.y=w?Math.round(y):y}var X=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(d){return this.clone()._add($(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract($(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new H(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new H(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(d){d=$(d);var y=d.x-this.x,w=d.y-this.y;return Math.sqrt(y*y+w*w)},equals:function(d){return d=$(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=$(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function $(d,y,w){return d instanceof H?d:E(d)?new H(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new H(d.x,d.y):new H(d,y,w)}function G(d,y){if(d)for(var w=y?[d,y]:d,A=0,O=w.length;A<O;A++)this.extend(w[A])}G.prototype={extend:function(d){var y,w;if(!d)return this;if(d instanceof H||typeof d[0]=="number"||"x"in d)y=w=$(d);else if(d=Ne(d),y=d.min,w=d.max,!y||!w)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=w.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(d){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,w;return typeof d[0]=="number"||d instanceof H?d=$(d):d=Ne(d),d instanceof G?(y=d.min,w=d.max):y=w=d,y.x>=this.min.x&&w.x<=this.max.x&&y.y>=this.min.y&&w.y<=this.max.y},intersects:function(d){d=Ne(d);var y=this.min,w=this.max,A=d.min,O=d.max,B=O.x>=y.x&&A.x<=w.x,J=O.y>=y.y&&A.y<=w.y;return B&&J},overlaps:function(d){d=Ne(d);var y=this.min,w=this.max,A=d.min,O=d.max,B=O.x>y.x&&A.x<w.x,J=O.y>y.y&&A.y<w.y;return B&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,w=this.max,A=Math.abs(y.x-w.x)*d,O=Math.abs(y.y-w.y)*d;return Ne($(y.x-A,y.y-O),$(w.x+A,w.y+O))},equals:function(d){return d?(d=Ne(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function Ne(d,y){return!d||d instanceof G?d:new G(d,y)}function de(d,y){if(d)for(var w=y?[d,y]:d,A=0,O=w.length;A<O;A++)this.extend(w[A])}de.prototype={extend:function(d){var y=this._southWest,w=this._northEast,A,O;if(d instanceof ae)A=d,O=d;else if(d instanceof de){if(A=d._southWest,O=d._northEast,!A||!O)return this}else return d?this.extend(be(d)||q(d)):this;return!y&&!w?(this._southWest=new ae(A.lat,A.lng),this._northEast=new ae(O.lat,O.lng)):(y.lat=Math.min(A.lat,y.lat),y.lng=Math.min(A.lng,y.lng),w.lat=Math.max(O.lat,w.lat),w.lng=Math.max(O.lng,w.lng)),this},pad:function(d){var y=this._southWest,w=this._northEast,A=Math.abs(y.lat-w.lat)*d,O=Math.abs(y.lng-w.lng)*d;return new de(new ae(y.lat-A,y.lng-O),new ae(w.lat+A,w.lng+O))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof ae||"lat"in d?d=be(d):d=q(d);var y=this._southWest,w=this._northEast,A,O;return d instanceof de?(A=d.getSouthWest(),O=d.getNorthEast()):A=O=d,A.lat>=y.lat&&O.lat<=w.lat&&A.lng>=y.lng&&O.lng<=w.lng},intersects:function(d){d=q(d);var y=this._southWest,w=this._northEast,A=d.getSouthWest(),O=d.getNorthEast(),B=O.lat>=y.lat&&A.lat<=w.lat,J=O.lng>=y.lng&&A.lng<=w.lng;return B&&J},overlaps:function(d){d=q(d);var y=this._southWest,w=this._northEast,A=d.getSouthWest(),O=d.getNorthEast(),B=O.lat>y.lat&&A.lat<w.lat,J=O.lng>y.lng&&A.lng<w.lng;return B&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=q(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(d,y){return d instanceof de?d:new de(d,y)}function ae(d,y,w){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,w!==void 0&&(this.alt=+w)}ae.prototype={equals:function(d,y){if(!d)return!1;d=be(d);var w=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return w<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+b(this.lat,d)+", "+b(this.lng,d)+")"},distanceTo:function(d){return ke.distance(this,be(d))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,w=y/Math.cos(Math.PI/180*this.lat);return q([this.lat-y,this.lng-w],[this.lat+y,this.lng+w])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function be(d,y,w){return d instanceof ae?d:E(d)&&typeof d[0]!="object"?d.length===3?new ae(d[0],d[1],d[2]):d.length===2?new ae(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new ae(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new ae(d,y,w)}var Ae={latLngToPoint:function(d,y){var w=this.projection.project(d),A=this.scale(y);return this.transformation._transform(w,A)},pointToLatLng:function(d,y){var w=this.scale(y),A=this.transformation.untransform(d,w);return this.projection.unproject(A)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,w=this.scale(d),A=this.transformation.transform(y.min,w),O=this.transformation.transform(y.max,w);return new G(A,O)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?p(d.lng,this.wrapLng,!0):d.lng,w=this.wrapLat?p(d.lat,this.wrapLat,!0):d.lat,A=d.alt;return new ae(w,y,A)},wrapLatLngBounds:function(d){var y=d.getCenter(),w=this.wrapLatLng(y),A=y.lat-w.lat,O=y.lng-w.lng;if(A===0&&O===0)return d;var B=d.getSouthWest(),J=d.getNorthEast(),me=new ae(B.lat-A,B.lng-O),Te=new ae(J.lat-A,J.lng-O);return new de(me,Te)}},ke=i({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var w=Math.PI/180,A=d.lat*w,O=y.lat*w,B=Math.sin((y.lat-d.lat)*w/2),J=Math.sin((y.lng-d.lng)*w/2),me=B*B+Math.cos(A)*Math.cos(O)*J*J,Te=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return this.R*Te}}),ie=6378137,ge={R:ie,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,w=this.MAX_LATITUDE,A=Math.max(Math.min(w,d.lat),-w),O=Math.sin(A*y);return new H(this.R*d.lng*y,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(d){var y=180/Math.PI;return new ae((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ie*Math.PI;return new G([-d,-d],[d,d])})()};function Me(d,y,w,A){if(E(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=w,this._d=A}Me.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new H((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,w,A){return new Me(d,y,w,A)}var pe=i({},ke,{code:"EPSG:3857",projection:ge,transformation:(function(){var d=.5/(Math.PI*ge.R);return ve(d,.5,-d,.5)})()}),Ye=i({},pe,{code:"EPSG:900913"});function vt(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Rt(d,y){var w="",A,O,B,J,me,Te;for(A=0,B=d.length;A<B;A++){for(me=d[A],O=0,J=me.length;O<J;O++)Te=me[O],w+=(O?"L":"M")+Te.x+" "+Te.y;w+=y?ft.svg?"z":"x":""}return w||"M0 0"}var Wt=document.documentElement.style,gn="ActiveXObject"in window,Nn=gn&&!document.addEventListener,kr="msLaunchUri"in navigator&&!("documentMode"in document),Tn=or("webkit"),he=or("android"),Be=or("android 2")||or("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zt=he&&or("Google")&&ot<537&&!("AudioNode"in window),An=!!window.opera,tt=!kr&&or("chrome"),Jn=or("gecko")&&!Tn&&!An&&!gn,$t=!tt&&or("safari"),Or=or("phantom"),Qt="OTransition"in Wt,gi=navigator.platform.indexOf("Win")===0,Rr=gn&&"transition"in Wt,Dr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,Ir="MozPerspective"in Wt,Mi=!window.L_DISABLE_3D&&(Rr||Dr||Ir)&&!Qt&&!Or,br=typeof orientation<"u"||or("mobile"),wa=br&&Tn,wr=br&&Dr,Sa=!window.PointerEvent&&window.MSPointerEvent,sa=!!(window.PointerEvent||Sa),ki="ontouchstart"in window||!!window.TouchEvent,_a=!window.L_NO_TOUCH&&(ki||sa),Mt=br&&An,kn=br&&Jn,Xt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ur=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",g,y),window.removeEventListener("testPassiveEventSupport",g,y)}catch{}return d})(),Yt=(function(){return!!document.createElement("canvas").getContext})(),On=!!(document.createElementNS&&vt("svg").createSVGRect),Sn=!!On&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),mt=!On&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Dt=navigator.platform.indexOf("Mac")===0,Gn=navigator.platform.indexOf("Linux")===0;function or(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var ft={ie:gn,ielt9:Nn,edge:kr,webkit:Tn,android:he,android23:Be,androidStock:Zt,opera:An,chrome:tt,gecko:Jn,safari:$t,phantom:Or,opera12:Qt,win:gi,ie3d:Rr,webkit3d:Dr,gecko3d:Ir,any3d:Mi,mobile:br,mobileWebkit:wa,mobileWebkit3d:wr,msPointer:Sa,pointer:sa,touch:_a,touchNative:ki,mobileOpera:Mt,mobileGecko:kn,retina:Xt,passiveEvents:ur,canvas:Yt,svg:On,vml:mt,inlineSvg:Sn,mac:Dt,linux:Gn},qi=ft.msPointer?"MSPointerDown":"pointerdown",Ls=ft.msPointer?"MSPointerMove":"pointermove",vi=ft.msPointer?"MSPointerUp":"pointerup",ja=ft.msPointer?"MSPointerCancel":"pointercancel",ii={touchstart:qi,touchmove:Ls,touchend:vi,touchcancel:ja},Sr={touchstart:sn,touchmove:_n,touchend:_n,touchcancel:_n},yi={},oa=!1;function Yn(d,y,w){return y==="touchstart"&&Rn(),Sr[y]?(w=Sr[y].bind(this,w),d.addEventListener(ii[y],w,!1),w):(console.warn("wrong event specified:",y),g)}function rn(d,y,w){if(!ii[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(ii[y],w,!1)}function dr(d){yi[d.pointerId]=d}function un(d){yi[d.pointerId]&&(yi[d.pointerId]=d)}function fr(d){delete yi[d.pointerId]}function Rn(){oa||(document.addEventListener(qi,dr,!0),document.addEventListener(Ls,un,!0),document.addEventListener(vi,fr,!0),document.addEventListener(ja,fr,!0),oa=!0)}function _n(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var w in yi)y.touches.push(yi[w]);y.changedTouches=[y],d(y)}}function sn(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&fn(y),_n(d,y)}function kt(d){var y={},w,A;for(A in d)w=d[A],y[A]=w&&w.bind?w.bind(d):w;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var hr=200;function Dn(d,y){d.addEventListener("dblclick",y);var w=0,A;function O(B){if(B.detail!==1){A=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var J=Va(B);if(!(J.some(function(Te){return Te instanceof HTMLLabelElement&&Te.attributes.for})&&!J.some(function(Te){return Te instanceof HTMLInputElement||Te instanceof HTMLSelectElement}))){var me=Date.now();me-w<=hr?(A++,A===2&&y(kt(B))):A=1,w=me}}}return d.addEventListener("click",O),{dblclick:y,simDblclick:O}}function mr(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Na=qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ua=qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oi=Ua==="webkitTransition"||Ua==="OTransition"?Ua+"End":"transitionend";function Hr(d){return typeof d=="string"?document.getElementById(d):d}function V(d,y){var w=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!w||w==="auto")&&document.defaultView){var A=document.defaultView.getComputedStyle(d,null);w=A?A[y]:null}return w==="auto"?null:w}function se(d,y,w){var A=document.createElement(d);return A.className=y||"",w&&w.appendChild(A),A}function Oe(d){var y=d.parentNode;y&&y.removeChild(d)}function Ue(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Xe(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function lt(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Ft(d,y){if(d.classList!==void 0)return d.classList.contains(y);var w=vn(d);return w.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(w)}function at(d,y){if(d.classList!==void 0)for(var w=N(y),A=0,O=w.length;A<O;A++)d.classList.add(w[A]);else if(!Ft(d,y)){var B=vn(d);xn(d,(B?B+" ":"")+y)}}function Ve(d,y){d.classList!==void 0?d.classList.remove(y):xn(d,_((" "+vn(d)+" ").replace(" "+y+" "," ")))}function xn(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function vn(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function dn(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Ki(d,y)}function Ki(d,y){var w=!1,A="DXImageTransform.Microsoft.Alpha";try{w=d.filters.item(A)}catch{if(y===1)return}y=Math.round(y*100),w?(w.Enabled=y!==100,w.Opacity=y):d.style.filter+=" progid:"+A+"(opacity="+y+")"}function qr(d){for(var y=document.documentElement.style,w=0;w<d.length;w++)if(d[w]in y)return d[w];return!1}function Ht(d,y,w){var A=y||new H(0,0);d.style[Na]=(ft.ie3d?"translate("+A.x+"px,"+A.y+"px)":"translate3d("+A.x+"px,"+A.y+"px,0)")+(w?" scale("+w+")":"")}function Vn(d,y){d._leaflet_pos=y,ft.any3d?Ht(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function _r(d){return d._leaflet_pos||new H(0,0)}var er,Ri,zs;if("onselectstart"in document)er=function(){Bt(window,"selectstart",fn)},Ri=function(){jn(window,"selectstart",fn)};else{var ss=qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);er=function(){if(ss){var d=document.documentElement.style;zs=d[ss],d[ss]="none"}},Ri=function(){ss&&(document.documentElement.style[ss]=zs,zs=void 0)}}function $s(){Bt(window,"dragstart",fn)}function Jc(){jn(window,"dragstart",fn)}var Bl,yo;function Xo(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Kr(),Bl=d,yo=d.style.outlineStyle,d.style.outlineStyle="none",Bt(window,"keydown",Kr))}function Kr(){Bl&&(Bl.style.outlineStyle=yo,Bl=void 0,yo=void 0,jn(window,"keydown",Kr))}function Fs(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function os(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Ul={__proto__:null,TRANSFORM:Na,TRANSITION:Ua,TRANSITION_END:Oi,get:Hr,getStyle:V,create:se,remove:Oe,empty:Ue,toFront:Xe,toBack:lt,hasClass:Ft,addClass:at,removeClass:Ve,setClass:xn,getClass:vn,setOpacity:dn,testProp:qr,setTransform:Ht,setPosition:Vn,getPosition:_r,get disableTextSelection(){return er},get enableTextSelection(){return Ri},disableImageDrag:$s,enableImageDrag:Jc,preventOutline:Xo,restoreOutline:Kr,getSizedParentNode:Fs,getScale:os};function Bt(d,y,w,A){if(y&&typeof y=="object")for(var O in y)ls(d,O,y[O],w);else{y=N(y);for(var B=0,J=y.length;B<J;B++)ls(d,y[B],w,A)}return this}var Wi="_leaflet_events";function jn(d,y,w,A){if(arguments.length===1)Gi(d),delete d[Wi];else if(y&&typeof y=="object")for(var O in y)Ta(d,O,y[O],w);else if(y=N(y),arguments.length===2)Gi(d,function(me){return k(y,me)!==-1});else for(var B=0,J=y.length;B<J;B++)Ta(d,y[B],w,A);return this}function Gi(d,y){for(var w in d[Wi]){var A=w.split(/\d/)[0];(!y||y(A))&&Ta(d,A,null,null,w)}}var xo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ls(d,y,w,A){var O=y+h(w)+(A?"_"+h(A):"");if(d[Wi]&&d[Wi][O])return this;var B=function(me){return w.call(A||d,me||window.event)},J=B;!ft.touchNative&&ft.pointer&&y.indexOf("touch")===0?B=Yn(d,y,B):ft.touch&&y==="dblclick"?B=Dn(d,B):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(xo[y]||y,B,ft.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(B=function(me){me=me||window.event,Pa(d,me)&&J(me)},d.addEventListener(xo[y],B,!1)):d.addEventListener(y,J,!1):d.attachEvent("on"+y,B),d[Wi]=d[Wi]||{},d[Wi][O]=B}function Ta(d,y,w,A,O){O=O||y+h(w)+(A?"_"+h(A):"");var B=d[Wi]&&d[Wi][O];if(!B)return this;!ft.touchNative&&ft.pointer&&y.indexOf("touch")===0?rn(d,y,B):ft.touch&&y==="dblclick"?mr(d,B):"removeEventListener"in d?d.removeEventListener(xo[y]||y,B,!1):d.detachEvent("on"+y,B),d[Wi][O]=null}function yn(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function cs(d){return ls(d,"wheel",yn),this}function Bs(d){return Bt(d,"mousedown touchstart dblclick contextmenu",yn),d._leaflet_disable_click=!0,this}function fn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function ai(d){return fn(d),yn(d),this}function Va(d){if(d.composedPath)return d.composedPath();for(var y=[],w=d.target;w;)y.push(w),w=w.parentNode;return y}function xi(d,y){if(!y)return new H(d.clientX,d.clientY);var w=os(y),A=w.boundingClientRect;return new H((d.clientX-A.left)/w.x-y.clientLeft,(d.clientY-A.top)/w.y-y.clientTop)}var us=ft.linux&&ft.chrome?window.devicePixelRatio:ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ds(d){return ft.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/us:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Pa(d,y){var w=y.relatedTarget;if(!w)return!0;try{for(;w&&w!==d;)w=w.parentNode}catch{return!1}return w!==d}var Qo={__proto__:null,on:Bt,off:jn,stopPropagation:yn,disableScrollPropagation:cs,disableClickPropagation:Bs,preventDefault:fn,stop:ai,getPropagationPath:Va,getMousePosition:xi,getWheelDelta:ds,isExternalTarget:Pa,addListener:Bt,removeListener:jn},bo=Q.extend({run:function(d,y,w,A){this.stop(),this._el=d,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(A||.5,.2),this._startPos=_r(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,w=this._duration*1e3;y<w?this._runFrame(this._easeOut(y/w),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var w=this._startPos.add(this._offset.multiplyBy(d));y&&w._round(),Vn(this._el,w),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),qt=Q.extend({options:{crs:pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=S(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(be(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ua&&ft.any3d&&!ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Bt(this._proxy,Oi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,w){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(be(d),y,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var A=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,w.zoom):this._tryAnimatedPan(d,w.pan);if(A)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,w.pan&&w.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,w){var A=this.getZoomScale(y),O=this.getSize().divideBy(2),B=d instanceof H?d:this.latLngToContainerPoint(d),J=B.subtract(O).multiplyBy(1-1/A),me=this.containerPointToLatLng(O.add(J));return this.setView(me,y,{zoom:w})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():q(d);var w=$(y.paddingTopLeft||y.padding||[0,0]),A=$(y.paddingBottomRight||y.padding||[0,0]),O=this.getBoundsZoom(d,!1,w.add(A));if(O=typeof y.maxZoom=="number"?Math.min(y.maxZoom,O):O,O===1/0)return{center:d.getCenter(),zoom:O};var B=A.subtract(w).divideBy(2),J=this.project(d.getSouthWest(),O),me=this.project(d.getNorthEast(),O),Te=this.unproject(J.add(me).divideBy(2).add(B),O);return{center:Te,zoom:O}},fitBounds:function(d,y){if(d=q(d),!d.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(d,y);return this.setView(w.center,w.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=$(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){at(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,w,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,w){if(w=w||{},w.animate===!1||!ft.any3d)return this.setView(d,y,w);this._stop();var A=this.project(this.getCenter()),O=this.project(d),B=this.getSize(),J=this._zoom;d=be(d),y=y===void 0?J:y;var me=Math.max(B.x,B.y),Te=me*this.getZoomScale(J,y),Fe=O.distanceTo(A)||1,ct=1.42,gt=ct*ct;function Nt(pr){var gs=pr?-1:1,qs=pr?Te:me,No=Te*Te-me*me+gs*gt*gt*Fe*Fe,Ks=2*qs*gt*Fe,hu=No/Ks,Sd=Math.sqrt(hu*hu+1)-hu,mu=Sd<1e-9?-18:Math.log(Sd);return mu}function Vt(pr){return(Math.exp(pr)-Math.exp(-pr))/2}function rr(pr){return(Math.exp(pr)+Math.exp(-pr))/2}function Ar(pr){return Vt(pr)/rr(pr)}var bi=Nt(0);function Ea(pr){return me*(rr(bi)/rr(bi+ct*pr))}function qp(pr){return me*(rr(bi)*Ar(bi+ct*pr)-Vt(bi))/gt}function Kp(pr){return 1-Math.pow(1-pr,1.5)}var fu=Date.now(),Zl=(Nt(1)-bi)/ct,Wp=w.duration?1e3*w.duration:1e3*Zl*.8;function Xl(){var pr=(Date.now()-fu)/Wp,gs=Kp(pr)*Zl;pr<=1?(this._flyToFrame=W(Xl,this),this._move(this.unproject(A.add(O.subtract(A).multiplyBy(qp(gs)/Fe)),J),this.getScaleZoom(me/Ea(gs),J),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),Xl.call(this),this},flyToBounds:function(d,y){var w=this._getBoundsCenterZoom(d,y);return this.flyTo(w.center,w.zoom,y)},setMaxBounds:function(d){return d=q(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var w=this.getCenter(),A=this._limitCenter(w,this._zoom,q(d));return w.equals(A)||this.panTo(A,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var w=$(y.paddingTopLeft||y.padding||[0,0]),A=$(y.paddingBottomRight||y.padding||[0,0]),O=this.project(this.getCenter()),B=this.project(d),J=this.getPixelBounds(),me=Ne([J.min.add(w),J.max.subtract(A)]),Te=me.getSize();if(!me.contains(B)){this._enforcingBounds=!0;var Fe=B.subtract(me.getCenter()),ct=me.extend(B).getSize().subtract(Te);O.x+=Fe.x<0?-ct.x:ct.x,O.y+=Fe.y<0?-ct.y:ct.y,this.panTo(this.unproject(O),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),A=y.divideBy(2).round(),O=w.divideBy(2).round(),B=A.subtract(O);return!B.x&&!B.y?this:(d.animate&&d.pan?this.panBy(B):(d.pan&&this._rawPanBy(B),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,w,d):navigator.geolocation.getCurrentPosition(y,w,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,w=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,w=d.coords.longitude,A=new ae(y,w),O=A.toBounds(d.coords.accuracy*2),B=this._locateOptions;if(B.setView){var J=this.getBoundsZoom(O);this.setView(A,B.maxZoom?Math.min(J,B.maxZoom):J)}var me={latlng:A,bounds:O,timestamp:d.timestamp};for(var Te in d.coords)typeof d.coords[Te]=="number"&&(me[Te]=d.coords[Te]);this.fire("locationfound",me)}},addHandler:function(d,y){if(!y)return this;var w=this[d]=new y(this);return this._handlers.push(w),this.options[d]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Oe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)Oe(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var w="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),A=se("div",w,y||this._mapPane);return d&&(this._panes[d]=A),A},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),w=this.unproject(d.getTopRight());return new de(y,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,w){d=q(d),w=$(w||[0,0]);var A=this.getZoom()||0,O=this.getMinZoom(),B=this.getMaxZoom(),J=d.getNorthWest(),me=d.getSouthEast(),Te=this.getSize().subtract(w),Fe=Ne(this.project(me,A),this.project(J,A)).getSize(),ct=ft.any3d?this.options.zoomSnap:1,gt=Te.x/Fe.x,Nt=Te.y/Fe.y,Vt=y?Math.max(gt,Nt):Math.min(gt,Nt);return A=this.getScaleZoom(Vt,A),ct&&(A=Math.round(A/(ct/100))*(ct/100),A=y?Math.ceil(A/ct)*ct:Math.floor(A/ct)*ct),Math.max(O,Math.min(B,A))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var w=this._getTopLeftPoint(d,y);return new G(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var w=this.options.crs;return y=y===void 0?this._zoom:y,w.scale(d)/w.scale(y)},getScaleZoom:function(d,y){var w=this.options.crs;y=y===void 0?this._zoom:y;var A=w.zoom(d*w.scale(y));return isNaN(A)?1/0:A},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(be(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng($(d),y)},layerPointToLatLng:function(d){var y=$(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(be(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(be(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(q(d))},distance:function(d,y){return this.options.crs.distance(be(d),be(y))},containerPointToLayerPoint:function(d){return $(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return $(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint($(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(d)))},mouseEventToContainerPoint:function(d){return xi(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=Hr(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Bt(y,"scroll",this._onScroll,this),this._containerId=h(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&ft.any3d,at(d,"leaflet-container"+(ft.touch?" leaflet-touch":"")+(ft.retina?" leaflet-retina":"")+(ft.ielt9?" leaflet-oldie":"")+(ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=V(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vn(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(at(d.markerPane,"leaflet-zoom-hide"),at(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,w){Vn(this._mapPane,new H(0,0));var A=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var O=this._zoom!==y;this._moveStart(O,w)._move(d,y)._moveEnd(O),this.fire("viewreset"),A&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,w,A){y===void 0&&(y=this._zoom);var O=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),A?w&&w.pinch&&this.fire("zoom",w):((O||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Vn(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[h(this._container)]=this;var y=d?jn:Bt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),ft.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var w=[],A,O=y==="mouseout"||y==="mouseover",B=d.target||d.srcElement,J=!1;B;){if(A=this._targets[h(B)],A&&(y==="click"||y==="preclick")&&this._draggableMoved(A)){J=!0;break}if(A&&A.listens(y,!0)&&(O&&!Pa(B,d)||(w.push(A),O))||B===this._container)break;B=B.parentNode}return!w.length&&!J&&!O&&this.listens(y,!0)&&(w=[this]),w},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var w=d.type;w==="mousedown"&&Xo(y),this._fireDOMEvent(d,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,w){if(d.type==="click"){var A=i({},d);A.type="preclick",this._fireDOMEvent(A,A.type,w)}var O=this._findEventTargets(d,y);if(w){for(var B=[],J=0;J<w.length;J++)w[J].listens(y,!0)&&B.push(w[J]);O=B.concat(O)}if(O.length){y==="contextmenu"&&fn(d);var me=O[0],Te={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Fe=me.getLatLng&&(!me._radius||me._radius<=10);Te.containerPoint=Fe?this.latLngToContainerPoint(me.getLatLng()):this.mouseEventToContainerPoint(d),Te.layerPoint=this.containerPointToLayerPoint(Te.containerPoint),Te.latlng=Fe?me.getLatLng():this.layerPointToLatLng(Te.layerPoint)}for(J=0;J<O.length;J++)if(O[J].fire(y,Te,!0),Te.originalEvent._stopped||O[J].options.bubblingMouseEvents===!1&&k(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return _r(this._mapPane)||new H(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var w=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var w=this.getSize()._divideBy(2);return this.project(d,y)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,w){var A=this._getNewPixelOrigin(w,y);return this.project(d,y)._subtract(A)},_latLngBoundsToNewLayerBounds:function(d,y,w){var A=this._getNewPixelOrigin(w,y);return Ne([this.project(d.getSouthWest(),y)._subtract(A),this.project(d.getNorthWest(),y)._subtract(A),this.project(d.getSouthEast(),y)._subtract(A),this.project(d.getNorthEast(),y)._subtract(A)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,w){if(!w)return d;var A=this.project(d,y),O=this.getSize().divideBy(2),B=new G(A.subtract(O),A.add(O)),J=this._getBoundsOffset(B,w,y);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?d:this.unproject(A.add(J),y)},_limitOffset:function(d,y){if(!y)return d;var w=this.getPixelBounds(),A=new G(w.min.add(d),w.max.add(d));return d.add(this._getBoundsOffset(A,y))},_getBoundsOffset:function(d,y,w){var A=Ne(this.project(y.getNorthEast(),w),this.project(y.getSouthWest(),w)),O=A.min.subtract(d.min),B=A.max.subtract(d.max),J=this._rebound(O.x,-B.x),me=this._rebound(O.y,-B.y);return new H(J,me)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),w=this.getMaxZoom(),A=ft.any3d?this.options.zoomSnap:1;return A&&(d=Math.round(d/A)*A),Math.max(y,Math.min(w,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var w=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,y),!0)},_createAnimProxy:function(){var d=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var w=Na,A=this._proxy.style[w];Ht(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),A===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Oe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();Ht(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var A=this.getZoomScale(y),O=this._getCenterOffset(d)._divideBy(1-1/A);return w.animate!==!0&&!this.getSize().contains(O)?!1:(W(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,w,A){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,at(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:A}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function an(d,y){return new qt(d,y)}var Wr=ce.extend({options:{position:"topright"},initialize:function(d){S(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),w=this.getPosition(),A=d._controlCorners[w];return at(y,"leaflet-control"),w.indexOf("bottom")!==-1?A.insertBefore(y,A.firstChild):A.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Oe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Us=function(d){return new Wr(d)};qt.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",w=this._controlContainer=se("div",y+"control-container",this._container);function A(O,B){var J=y+O+" "+y+B;d[O+B]=se("div",J,w)}A("top","left"),A("top","right"),A("bottom","left"),A("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)Oe(this._controlCorners[d]);Oe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wo=Wr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,w,A){return w<A?-1:A<w?1:0}},initialize:function(d,y,w){S(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var A in d)this._addLayer(d[A],A);for(A in y)this._addLayer(y[A],A,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Wr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(h(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){at(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(at(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=se("div",d),w=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Bs(y),cs(y);var A=this._section=se("section",d+"-list");w&&(this._map.on("click",this.collapse,this),Bt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=se("a",d+"-toggle",y);O.href="#",O.title="Layers",O.setAttribute("role","button"),Bt(O,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){fn(B),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=se("div",d+"-base",A),this._separator=se("div",d+"-separator",A),this._overlaysList=se("div",d+"-overlays",A),y.appendChild(A)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&h(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,w){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(A,O){return this.options.sortFunction(A.layer,O.layer,A.name,O.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ue(this._baseLayersList),Ue(this._overlaysList),this._layerControlInputs=[];var d,y,w,A,O=0;for(w=0;w<this._layers.length;w++)A=this._layers[w],this._addItem(A),y=y||A.overlay,d=d||!A.overlay,O+=A.overlay?0:1;return this.options.hideSingleBase&&(d=d&&O>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(h(d.target)),w=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;w&&this._map.fire(w,y)},_createRadioElement:function(d,y){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",A=document.createElement("div");return A.innerHTML=w,A.firstChild},_addItem:function(d){var y=document.createElement("label"),w=this._map.hasLayer(d.layer),A;d.overlay?(A=document.createElement("input"),A.type="checkbox",A.className="leaflet-control-layers-selector",A.defaultChecked=w):A=this._createRadioElement("leaflet-base-layers_"+h(this),w),this._layerControlInputs.push(A),A.layerId=h(d.layer),Bt(A,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+d.name;var B=document.createElement("span");y.appendChild(B),B.appendChild(A),B.appendChild(O);var J=d.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,w,A=[],O=[];this._handlingClick=!0;for(var B=d.length-1;B>=0;B--)y=d[B],w=this._getLayer(y.layerId).layer,y.checked?A.push(w):y.checked||O.push(w);for(B=0;B<O.length;B++)this._map.hasLayer(O[B])&&this._map.removeLayer(O[B]);for(B=0;B<A.length;B++)this._map.hasLayer(A[B])||this._map.addLayer(A[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,w,A=this._map.getZoom(),O=d.length-1;O>=0;O--)y=d[O],w=this._getLayer(y.layerId).layer,y.disabled=w.options.minZoom!==void 0&&A<w.options.minZoom||w.options.maxZoom!==void 0&&A>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Bt(d,"click",fn),this.expand();var y=this;setTimeout(function(){jn(d,"click",fn),y._preventClick=!1})}}),Vl=function(d,y,w){return new wo(d,y,w)},Jo=Wr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",w=se("div",y+" leaflet-bar"),A=this.options;return this._zoomInButton=this._createButton(A.zoomInText,A.zoomInTitle,y+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(A.zoomOutText,A.zoomOutTitle,y+"-out",w,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,w,A,O){var B=se("a",w,A);return B.innerHTML=d,B.href="#",B.title=y,B.setAttribute("role","button"),B.setAttribute("aria-label",y),Bs(B),Bt(B,"click",ai),Bt(B,"click",O,this),Bt(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";Ve(this._zoomInButton,y),Ve(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(at(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(at(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jo,this.addControl(this.zoomControl))});var Ca=function(d){return new Jo(d)},eu=Wr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",w=se("div",y),A=this.options;return this._addScales(A,y+"-line",w),d.on(A.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),w},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,w){d.metric&&(this._mScale=se("div",y,w)),d.imperial&&(this._iScale=se("div",y,w))},_update:function(){var d=this._map,y=d.getSize().y/2,w=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(w)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),w=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,w,y/d)},_updateImperial:function(d){var y=d*3.2808399,w,A,O;y>5280?(w=y/5280,A=this._getRoundNum(w),this._updateScale(this._iScale,A+" mi",A/w)):(O=this._getRoundNum(y),this._updateScale(this._iScale,O+" ft",O/y))},_updateScale:function(d,y,w){d.style.width=Math.round(this.options.maxWidth*w)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),w=d/y;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,y*w}}),el=function(d){return new eu(d)},tu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fs=Wr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ft.inlineSvg?tu+" ":"")+"Leaflet</a>"},initialize:function(d){S(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=se("div","leaflet-control-attribution"),Bs(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var w=[];this.options.prefix&&w.push(this.options.prefix),d.length&&w.push(d.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook(function(){this.options.attributionControl&&new fs().addTo(this)});var dh=function(d){return new fs(d)};Wr.Layers=wo,Wr.Zoom=Jo,Wr.Scale=eu,Wr.Attribution=fs,Us.layers=Vl,Us.zoom=Ca,Us.scale=el,Us.attribution=dh;var la=ce.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});la.addTo=function(d,y){return d.addHandler(y,this),this};var fh={Events:K},md=ft.touch?"touchstart mousedown":"mousedown",Aa=Q.extend({options:{clickTolerance:3},initialize:function(d,y,w,A){S(this,A),this._element=d,this._dragStartTarget=y||d,this._preventOutline=w},enable:function(){this._enabled||(Bt(this._dragStartTarget,md,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Aa._dragging===this&&this.finishDrag(!0),jn(this._dragStartTarget,md,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Ft(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Aa._dragging===this&&this.finishDrag();return}if(!(Aa._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Aa._dragging=this,this._preventOutline&&Xo(this._element),$s(),er(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,w=Fs(this._element);this._startPoint=new H(y.clientX,y.clientY),this._startPos=_r(this._element),this._parentScale=os(w);var A=d.type==="mousedown";Bt(document,A?"mousemove":"touchmove",this._onMove,this),Bt(document,A?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,w=new H(y.clientX,y.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,fn(d),this._moved||(this.fire("dragstart"),this._moved=!0,at(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),at(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Vn(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Ve(document.body,"leaflet-dragging"),this._lastTarget&&(Ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jn(document,"mousemove touchmove",this._onMove,this),jn(document,"mouseup touchend touchcancel",this._onUp,this),Jc(),Ri();var y=this._moved&&this._moving;this._moving=!1,Aa._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function pd(d,y,w){var A,O=[1,4,2,8],B,J,me,Te,Fe,ct,gt,Nt;for(B=0,ct=d.length;B<ct;B++)d[B]._code=Pe(d[B],y);for(me=0;me<4;me++){for(gt=O[me],A=[],B=0,ct=d.length,J=ct-1;B<ct;J=B++)Te=d[B],Fe=d[J],Te._code&gt?Fe._code&gt||(Nt=we(Fe,Te,gt,y,w),Nt._code=Pe(Nt,y),A.push(Nt)):(Fe._code&gt&&(Nt=we(Fe,Te,gt,y,w),Nt._code=Pe(Nt,y),A.push(Nt)),A.push(Te));d=A}return d}function Hl(d,y){var w,A,O,B,J,me,Te,Fe,ct;if(!d||d.length===0)throw new Error("latlngs not passed");He(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var gt=be([0,0]),Nt=q(d),Vt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Vt<1700&&(gt=nu(d));var rr=d.length,Ar=[];for(w=0;w<rr;w++){var bi=be(d[w]);Ar.push(y.project(be([bi.lat-gt.lat,bi.lng-gt.lng])))}for(me=Te=Fe=0,w=0,A=rr-1;w<rr;A=w++)O=Ar[w],B=Ar[A],J=O.y*B.x-B.y*O.x,Te+=(O.x+B.x)*J,Fe+=(O.y+B.y)*J,me+=J*3;me===0?ct=Ar[0]:ct=[Te/me,Fe/me];var Ea=y.unproject($(ct));return be([Ea.lat+gt.lat,Ea.lng+gt.lng])}function nu(d){for(var y=0,w=0,A=0,O=0;O<d.length;O++){var B=be(d[O]);y+=B.lat,w+=B.lng,A++}return be([y/A,w/A])}var hh={__proto__:null,clipPolygon:pd,polygonCenter:Hl,centroid:nu};function gd(d,y){if(!y||!d.length)return d.slice();var w=y*y;return d=te(d,w),d=au(d,w),d}function ru(d,y,w){return Math.sqrt($e(d,y,w,!0))}function iu(d,y,w){return $e(d,y,w)}function au(d,y){var w=d.length,A=typeof Uint8Array<"u"?Uint8Array:Array,O=new A(w);O[0]=O[w-1]=1,su(d,O,y,0,w-1);var B,J=[];for(B=0;B<w;B++)O[B]&&J.push(d[B]);return J}function su(d,y,w,A,O){var B=0,J,me,Te;for(me=A+1;me<=O-1;me++)Te=$e(d[me],d[A],d[O],!0),Te>B&&(J=me,B=Te);B>w&&(y[J]=1,su(d,y,w,A,J),su(d,y,w,J,O))}function te(d,y){for(var w=[d[0]],A=1,O=0,B=d.length;A<B;A++)De(d[A],d[O])>y&&(w.push(d[A]),O=A);return O<B-1&&w.push(d[B-1]),w}var Ee;function le(d,y,w,A,O){var B=A?Ee:Pe(d,w),J=Pe(y,w),me,Te,Fe;for(Ee=J;;){if(!(B|J))return[d,y];if(B&J)return!1;me=B||J,Te=we(d,y,me,w,O),Fe=Pe(Te,w),me===B?(d=Te,B=Fe):(y=Te,J=Fe)}}function we(d,y,w,A,O){var B=y.x-d.x,J=y.y-d.y,me=A.min,Te=A.max,Fe,ct;return w&8?(Fe=d.x+B*(Te.y-d.y)/J,ct=Te.y):w&4?(Fe=d.x+B*(me.y-d.y)/J,ct=me.y):w&2?(Fe=Te.x,ct=d.y+J*(Te.x-d.x)/B):w&1&&(Fe=me.x,ct=d.y+J*(me.x-d.x)/B),new H(Fe,ct,O)}function Pe(d,y){var w=0;return d.x<y.min.x?w|=1:d.x>y.max.x&&(w|=2),d.y<y.min.y?w|=4:d.y>y.max.y&&(w|=8),w}function De(d,y){var w=y.x-d.x,A=y.y-d.y;return w*w+A*A}function $e(d,y,w,A){var O=y.x,B=y.y,J=w.x-O,me=w.y-B,Te=J*J+me*me,Fe;return Te>0&&(Fe=((d.x-O)*J+(d.y-B)*me)/Te,Fe>1?(O=w.x,B=w.y):Fe>0&&(O+=J*Fe,B+=me*Fe)),J=d.x-O,me=d.y-B,A?J*J+me*me:new H(O,B)}function He(d){return!E(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Qe(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),He(d)}function Je(d,y){var w,A,O,B,J,me,Te,Fe;if(!d||d.length===0)throw new Error("latlngs not passed");He(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var ct=be([0,0]),gt=q(d),Nt=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());Nt<1700&&(ct=nu(d));var Vt=d.length,rr=[];for(w=0;w<Vt;w++){var Ar=be(d[w]);rr.push(y.project(be([Ar.lat-ct.lat,Ar.lng-ct.lng])))}for(w=0,A=0;w<Vt-1;w++)A+=rr[w].distanceTo(rr[w+1])/2;if(A===0)Fe=rr[0];else for(w=0,B=0;w<Vt-1;w++)if(J=rr[w],me=rr[w+1],O=J.distanceTo(me),B+=O,B>A){Te=(B-A)/O,Fe=[me.x-Te*(me.x-J.x),me.y-Te*(me.y-J.y)];break}var bi=y.unproject($(Fe));return be([bi.lat+ct.lat,bi.lng+ct.lng])}var We={__proto__:null,simplify:gd,pointToSegmentDistance:ru,closestPointOnSegment:iu,clipSegment:le,_getEdgeIntersection:we,_getBitCode:Pe,_sqClosestPointOnSegment:$e,isFlat:He,_flat:Qe,polylineCenter:Je},rt={project:function(d){return new H(d.lng,d.lat)},unproject:function(d){return new ae(d.y,d.x)},bounds:new G([-180,-90],[180,90])},et={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,w=this.R,A=d.lat*y,O=this.R_MINOR/w,B=Math.sqrt(1-O*O),J=B*Math.sin(A),me=Math.tan(Math.PI/4-A/2)/Math.pow((1-J)/(1+J),B/2);return A=-w*Math.log(Math.max(me,1e-10)),new H(d.lng*y*w,A)},unproject:function(d){for(var y=180/Math.PI,w=this.R,A=this.R_MINOR/w,O=Math.sqrt(1-A*A),B=Math.exp(-d.y/w),J=Math.PI/2-2*Math.atan(B),me=0,Te=.1,Fe;me<15&&Math.abs(Te)>1e-7;me++)Fe=O*Math.sin(J),Fe=Math.pow((1-Fe)/(1+Fe),O/2),Te=Math.PI/2-2*Math.atan(B*Fe)-J,J+=Te;return new ae(J*y,d.x*y/w)}},it={__proto__:null,LonLat:rt,Mercator:et,SphericalMercator:ge},ht=i({},ke,{code:"EPSG:3395",projection:et,transformation:(function(){var d=.5/(Math.PI*et.R);return ve(d,.5,-d,.5)})()}),Ke=i({},ke,{code:"EPSG:4326",projection:rt,transformation:ve(1/180,1,-1/180,.5)}),ut=i({},Ae,{projection:rt,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var w=y.lng-d.lng,A=y.lat-d.lat;return Math.sqrt(w*w+A*A)},infinite:!0});Ae.Earth=ke,Ae.EPSG3395=ht,Ae.EPSG3857=pe,Ae.EPSG900913=Ye,Ae.EPSG4326=Ke,Ae.Simple=ut;var dt=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[h(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[h(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var w=this.getEvents();y.on(w,this),this.once("remove",function(){y.off(w,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=h(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=h(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return h(d)in this._layers},eachLayer:function(d,y){for(var w in this._layers)d.call(y,this._layers[w]);return this},_addLayers:function(d){d=d?E(d)?d:[d]:[];for(var y=0,w=d.length;y<w;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[h(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=h(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,w=this._getZoomSpan();for(var A in this._zoomBoundLayers){var O=this._zoomBoundLayers[A].options;d=O.minZoom===void 0?d:Math.min(d,O.minZoom),y=O.maxZoom===void 0?y:Math.max(y,O.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nt=dt.extend({initialize:function(d,y){S(this,y),this._layers={};var w,A;if(d)for(w=0,A=d.length;w<A;w++)this.addLayer(d[w])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),w,A;for(w in this._layers)A=this._layers[w],A[d]&&A[d].apply(A,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var w in this._layers)d.call(y,this._layers[w]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return h(d)}}),It=function(d,y){return new nt(d,y)},st=nt.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),nt.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),nt.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new de;for(var y in this._layers){var w=this._layers[y];d.extend(w.getBounds?w.getBounds():w.getLatLng())}return d}}),Kt=function(d,y){return new st(d,y)},Jt=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){S(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var w=this._getIconUrl(d);if(!w){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var A=this._createImg(w,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(A,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),A},_setIconStyles:function(d,y){var w=this.options,A=w[y+"Size"];typeof A=="number"&&(A=[A,A]);var O=$(A),B=$(y==="shadow"&&w.shadowAnchor||w.iconAnchor||O&&O.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(w.className||""),B&&(d.style.marginLeft=-B.x+"px",d.style.marginTop=-B.y+"px"),O&&(d.style.width=O.x+"px",d.style.height=O.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return ft.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function St(d){return new Jt(d)}var en=Jt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof en.imagePath!="string"&&(en.imagePath=this._detectIconPath()),(this.options.imagePath||en.imagePath)+Jt.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(w,A,O){var B=A.exec(w);return B&&B[O]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=se("div","leaflet-default-icon-path",document.body),y=V(d,"background-image")||V(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),In=la.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Aa(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),at(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,w=y._map,A=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,B=_r(y._icon),J=w.getPixelBounds(),me=w.getPixelOrigin(),Te=Ne(J.min._subtract(me).add(O),J.max._subtract(me).subtract(O));if(!Te.contains(B)){var Fe=$((Math.max(Te.max.x,B.x)-Te.max.x)/(J.max.x-Te.max.x)-(Math.min(Te.min.x,B.x)-Te.min.x)/(J.min.x-Te.min.x),(Math.max(Te.max.y,B.y)-Te.max.y)/(J.max.y-Te.max.y)-(Math.min(Te.min.y,B.y)-Te.min.y)/(J.min.y-Te.min.y)).multiplyBy(A);w.panBy(Fe,{animate:!1}),this._draggable._newPos._add(Fe),this._draggable._startPos._add(Fe),Vn(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=W(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,w=y._shadow,A=_r(y._icon),O=y._map.layerPointToLatLng(A);w&&Vn(w,A),y._latlng=O,d.latlng=O,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),tr=dt.extend({options:{icon:new en,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){S(this,y),this._latlng=be(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=be(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=d.icon.createIcon(this._icon),A=!1;w!==this._icon&&(this._icon&&this._removeIcon(),A=!0,d.title&&(w.title=d.title),w.tagName==="IMG"&&(w.alt=d.alt||"")),at(w,y),d.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(w,"focus",this._panOnFocus,this);var O=d.icon.createShadow(this._shadow),B=!1;O!==this._shadow&&(this._removeShadow(),B=!0),O&&(at(O,y),O.alt=""),this._shadow=O,d.opacity<1&&this._updateOpacity(),A&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&B&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jn(this._icon,"focus",this._panOnFocus,this),Oe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Oe(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Vn(this._icon,d),this._shadow&&Vn(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(at(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),In)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new In(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&dn(this._icon,d),this._shadow&&dn(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,w=y.iconSize?$(y.iconSize):$(0,0),A=y.iconAnchor?$(y.iconAnchor):$(0,0);d.panInside(this._latlng,{paddingTopLeft:A,paddingBottomRight:w.subtract(A)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jr(d,y){return new tr(d,y)}var Zn=dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return S(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),jr=Zn.extend({options:{fill:!0,radius:10},initialize:function(d,y){S(this,y),this._latlng=be(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=be(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Zn.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,w=this._clickTolerance(),A=[d+w,y+w];this._pxBounds=new G(this._point.subtract(A),this._point.add(A))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function En(d,y){return new jr(d,y)}var Mn=jr.extend({initialize:function(d,y,w){if(typeof y=="number"&&(y=i({},w,{radius:y})),S(this,y),this._latlng=be(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Zn.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,w=this._map,A=w.options.crs;if(A.distance===ke.distance){var O=Math.PI/180,B=this._mRadius/ke.R/O,J=w.project([y+B,d]),me=w.project([y-B,d]),Te=J.add(me).divideBy(2),Fe=w.unproject(Te).lat,ct=Math.acos((Math.cos(B*O)-Math.sin(y*O)*Math.sin(Fe*O))/(Math.cos(y*O)*Math.cos(Fe*O)))/O;(isNaN(ct)||ct===0)&&(ct=B/Math.cos(Math.PI/180*y)),this._point=Te.subtract(w.getPixelOrigin()),this._radius=isNaN(ct)?0:Te.x-w.project([Fe,d-ct]).x,this._radiusY=Te.y-J.y}else{var gt=A.unproject(A.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(gt).x}this._updateBounds()}});function Nr(d,y,w){return new Mn(d,y,w)}var nr=Zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){S(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,w=null,A=$e,O,B,J=0,me=this._parts.length;J<me;J++)for(var Te=this._parts[J],Fe=1,ct=Te.length;Fe<ct;Fe++){O=Te[Fe-1],B=Te[Fe];var gt=A(d,O,B,!0);gt<y&&(y=gt,w=A(d,O,B))}return w&&(w.distance=Math.sqrt(y)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Je(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=be(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new de,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return He(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],w=He(d),A=0,O=d.length;A<O;A++)w?(y[A]=be(d[A]),this._bounds.extend(y[A])):y[A]=this._convertLatLngs(d[A]);return y},_project:function(){var d=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new H(d,d);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,w){var A=d[0]instanceof ae,O=d.length,B,J;if(A){for(J=[],B=0;B<O;B++)J[B]=this._map.latLngToLayerPoint(d[B]),w.extend(J[B]);y.push(J)}else for(B=0;B<O;B++)this._projectLatlngs(d[B],y,w)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,w,A,O,B,J,me,Te;for(w=0,O=0,B=this._rings.length;w<B;w++)for(Te=this._rings[w],A=0,J=Te.length;A<J-1;A++)me=le(Te[A],Te[A+1],d,A,!0),me&&(y[O]=y[O]||[],y[O].push(me[0]),(me[1]!==Te[A+1]||A===J-2)&&(y[O].push(me[1]),O++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,w=0,A=d.length;w<A;w++)d[w]=gd(d[w],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var w,A,O,B,J,me,Te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(w=0,B=this._parts.length;w<B;w++)for(me=this._parts[w],A=0,J=me.length,O=J-1;A<J;O=A++)if(!(!y&&A===0)&&ru(d,me[O],me[A])<=Te)return!0;return!1}});function Tr(d,y){return new nr(d,y)}nr._flat=Qe;var Ln=nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=nr.prototype._convertLatLngs.call(this,d),w=y.length;return w>=2&&y[0]instanceof ae&&y[0].equals(y[w-1])&&y.pop(),y},_setLatLngs:function(d){nr.prototype._setLatLngs.call(this,d),He(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return He(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,w=new H(y,y);if(d=new G(d.min.subtract(w),d.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var A=0,O=this._rings.length,B;A<O;A++)B=pd(this._rings[A],d,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,w,A,O,B,J,me,Te,Fe;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(B=0,Te=this._parts.length;B<Te;B++)for(w=this._parts[B],J=0,Fe=w.length,me=Fe-1;J<Fe;me=J++)A=w[J],O=w[me],A.y>d.y!=O.y>d.y&&d.x<(O.x-A.x)*(d.y-A.y)/(O.y-A.y)+A.x&&(y=!y);return y||nr.prototype._containsPoint.call(this,d,!0)}});function Pr(d,y){return new Ln(d,y)}var lr=st.extend({initialize:function(d,y){S(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=E(d)?d:d.features,w,A,O;if(y){for(w=0,A=y.length;w<A;w++)O=y[w],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var B=this.options;if(B.filter&&!B.filter(d))return this;var J=Ha(d,B);return J?(J.feature=ql(d),J.defaultOptions=J.options,this.resetStyle(J),B.onEachFeature&&B.onEachFeature(d,J),this.addLayer(J)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Ha(d,y){var w=d.type==="Feature"?d.geometry:d,A=w?w.coordinates:null,O=[],B=y&&y.pointToLayer,J=y&&y.coordsToLatLng||hs,me,Te,Fe,ct;if(!A&&!w)return null;switch(w.type){case"Point":return me=J(A),Vs(B,d,me,y);case"MultiPoint":for(Fe=0,ct=A.length;Fe<ct;Fe++)me=J(A[Fe]),O.push(Vs(B,d,me,y));return new st(O);case"LineString":case"MultiLineString":return Te=ca(A,w.type==="LineString"?0:1,J),new nr(Te,y);case"Polygon":case"MultiPolygon":return Te=ca(A,w.type==="Polygon"?1:2,J),new Ln(Te,y);case"GeometryCollection":for(Fe=0,ct=w.geometries.length;Fe<ct;Fe++){var gt=Ha({geometry:w.geometries[Fe],type:"Feature",properties:d.properties},y);gt&&O.push(gt)}return new st(O);case"FeatureCollection":for(Fe=0,ct=w.features.length;Fe<ct;Fe++){var Nt=Ha(w.features[Fe],y);Nt&&O.push(Nt)}return new st(O);default:throw new Error("Invalid GeoJSON object.")}}function Vs(d,y,w,A){return d?d(y,w):new tr(w,A&&A.markersInheritOptions&&A)}function hs(d){return new ae(d[1],d[0],d[2])}function ca(d,y,w){for(var A=[],O=0,B=d.length,J;O<B;O++)J=y?ca(d[O],y-1,w):(w||hs)(d[O]),A.push(J);return A}function Cr(d,y){return d=be(d),d.alt!==void 0?[b(d.lng,y),b(d.lat,y),b(d.alt,y)]:[b(d.lng,y),b(d.lat,y)]}function Hs(d,y,w,A){for(var O=[],B=0,J=d.length;B<J;B++)O.push(y?Hs(d[B],He(d[B])?0:y-1,w,A):Cr(d[B],A));return!y&&w&&O.length>0&&O.push(O[0].slice()),O}function si(d,y){return d.feature?i({},d.feature,{geometry:y}):ql(y)}function ql(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var tl={toGeoJSON:function(d){return si(this,{type:"Point",coordinates:Cr(this.getLatLng(),d)})}};tr.include(tl),Mn.include(tl),jr.include(tl),nr.include({toGeoJSON:function(d){var y=!He(this._latlngs),w=Hs(this._latlngs,y?1:0,!1,d);return si(this,{type:(y?"Multi":"")+"LineString",coordinates:w})}}),Ln.include({toGeoJSON:function(d){var y=!He(this._latlngs),w=y&&!He(this._latlngs[0]),A=Hs(this._latlngs,w?2:y?1:0,!0,d);return y||(A=[A]),si(this,{type:(w?"Multi":"")+"Polygon",coordinates:A})}}),nt.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(w){y.push(w.toGeoJSON(d).geometry.coordinates)}),si(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var w=y==="GeometryCollection",A=[];return this.eachLayer(function(O){if(O.toGeoJSON){var B=O.toGeoJSON(d);if(w)A.push(B.geometry);else{var J=ql(B);J.type==="FeatureCollection"?A.push.apply(A,J.features):A.push(J)}}}),w?si(this,{geometries:A,type:"GeometryCollection"}):{type:"FeatureCollection",features:A}}});function vd(d,y){return new lr(d,y)}var Fp=vd,ms=dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,w){this._url=d,this._bounds=q(y),S(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(at(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Oe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Xe(this._image),this},bringToBack:function(){return this._map&&lt(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=q(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:se("img");if(at(y,"leaflet-image-layer"),this._zoomAnimated&&at(y,"leaflet-zoom-animated"),this.options.className&&at(y,this.options.className),y.onselectstart=g,y.onmousemove=g,y.onload=l(this.fire,this,"load"),y.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;Ht(this._image,w,y)},_reset:function(){var d=this._image,y=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=y.getSize();Vn(d,y.min),d.style.width=w.x+"px",d.style.height=w.y+"px"},_updateOpacity:function(){dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Kl=function(d,y,w){return new ms(d,y,w)},yd=ms.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:se("video");if(at(y,"leaflet-image-layer"),this._zoomAnimated&&at(y,"leaflet-zoom-animated"),this.options.className&&at(y,this.options.className),y.onselectstart=g,y.onmousemove=g,y.onloadeddata=l(this.fire,this,"load"),d){for(var w=y.getElementsByTagName("source"),A=[],O=0;O<w.length;O++)A.push(w[O].src);this._url=w.length>0?A:[y.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var J=se("source");J.src=this._url[B],y.appendChild(J)}}});function Bp(d,y,w){return new yd(d,y,w)}var So=ms.extend({_initImage:function(){var d=this._image=this._url;at(d,"leaflet-image-layer"),this._zoomAnimated&&at(d,"leaflet-zoom-animated"),this.options.className&&at(d,this.options.className),d.onselectstart=g,d.onmousemove=g}});function Up(d,y,w){return new So(d,y,w)}var qa=dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof ae||E(d))?(this._latlng=be(d),S(this,y)):(S(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&dn(this._container,1),this.bringToFront(),this.options.interactive&&(at(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(dn(this._container,0),this._removeTimeout=setTimeout(l(Oe,void 0,this._container),200)):Oe(this._container),this.options.interactive&&(Ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=be(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xe(this._container),this},bringToBack:function(){return this._map&&lt(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof st){y=null;var w=this._source._layers;for(var A in w)if(w[A]._map){y=w[A];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=$(this.options.offset),w=this._getAnchor();this._zoomAnimated?Vn(this._container,d.add(w)):y=y.add(d).add(w);var A=this._containerBottom=-y.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=A+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(d,y,w,A){var O=y;return O instanceof d||(O=new d(A).setContent(y)),w&&O.setLatLng(w),O}}),dt.include({_initOverlay:function(d,y,w,A){var O=w;return O instanceof d?(S(O,A),O._source=this):(O=y&&!A?y:new d(A,this),O.setContent(w)),O}});var ou=qa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,qa.prototype.openOn.call(this,d)},onAdd:function(d){qa.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zn||this._source.on("preclick",yn))},onRemove:function(d){qa.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zn||this._source.off("preclick",yn))},getEvents:function(){var d=qa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=se("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=se("div",d+"-content-wrapper",y);if(this._contentNode=se("div",d+"-content",w),Bs(y),cs(this._contentNode),Bt(y,"contextmenu",yn),this._tipContainer=se("div",d+"-tip-container",y),this._tip=se("div",d+"-tip",this._tipContainer),this.options.closeButton){var A=this._closeButton=se("a",d+"-close-button",y);A.setAttribute("role","button"),A.setAttribute("aria-label","Close popup"),A.href="#close",A.innerHTML='<span aria-hidden="true">&#215;</span>',Bt(A,"click",function(O){fn(O),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var w=d.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),y.width=w+1+"px",y.whiteSpace="",y.height="";var A=d.offsetHeight,O=this.options.maxHeight,B="leaflet-popup-scrolled";O&&A>O?(y.height=O+"px",at(d,B)):Ve(d,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),w=this._getAnchor();Vn(this._container,y.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(V(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+y,A=this._containerWidth,O=new H(this._containerLeft,-w-this._containerBottom);O._add(_r(this._container));var B=d.layerPointToContainerPoint(O),J=$(this.options.autoPanPadding),me=$(this.options.autoPanPaddingTopLeft||J),Te=$(this.options.autoPanPaddingBottomRight||J),Fe=d.getSize(),ct=0,gt=0;B.x+A+Te.x>Fe.x&&(ct=B.x+A-Fe.x+Te.x),B.x-ct-me.x<0&&(ct=B.x-me.x),B.y+w+Te.y>Fe.y&&(gt=B.y+w-Fe.y+Te.y),B.y-gt-me.y<0&&(gt=B.y-me.y),(ct||gt)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([ct,gt]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),F0=function(d,y){return new ou(d,y)};qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(d,y,w){return this._initOverlay(ou,d,y,w).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),dt.include({bindPopup:function(d,y){return this._popup=this._initOverlay(ou,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof st||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){ai(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var xd=qa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){qa.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){qa.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=qa.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,w,A=this._map,O=this._container,B=A.latLngToContainerPoint(A.getCenter()),J=A.layerPointToContainerPoint(d),me=this.options.direction,Te=O.offsetWidth,Fe=O.offsetHeight,ct=$(this.options.offset),gt=this._getAnchor();me==="top"?(y=Te/2,w=Fe):me==="bottom"?(y=Te/2,w=0):me==="center"?(y=Te/2,w=Fe/2):me==="right"?(y=0,w=Fe/2):me==="left"?(y=Te,w=Fe/2):J.x<B.x?(me="right",y=0,w=Fe/2):(me="left",y=Te+(ct.x+gt.x)*2,w=Fe/2),d=d.subtract($(y,w,!0)).add(ct).add(gt),Ve(O,"leaflet-tooltip-right"),Ve(O,"leaflet-tooltip-left"),Ve(O,"leaflet-tooltip-top"),Ve(O,"leaflet-tooltip-bottom"),at(O,"leaflet-tooltip-"+me),Vn(O,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&dn(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),B0=function(d,y){return new xd(d,y)};qt.include({openTooltip:function(d,y,w){return this._initOverlay(xd,d,y,w).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),dt.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xd,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[y](w),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof st||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(Bt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Bt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,w,A;this._tooltip.options.sticky&&d.originalEvent&&(w=this._map.mouseEventToContainerPoint(d.originalEvent),A=this._map.containerPointToLayerPoint(w),y=this._map.layerPointToLatLng(A)),this._tooltip.setLatLng(y)}});var mh=Jt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Ue(y),y.appendChild(w.html)):y.innerHTML=w.html!==!1?w.html:"",w.bgPos){var A=$(w.bgPos);y.style.backgroundPosition=-A.x+"px "+-A.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Vp(d){return new mh(d)}Jt.Default=en;var nl=dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){S(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),Oe(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof H?d:new H(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,w=-d(-1/0,1/0),A=0,O=y.length,B;A<O;A++)B=y[A].style.zIndex,y[A]!==this._container&&B&&(w=d(w,+B));isFinite(w)&&(this.options.zIndex=w+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft.ielt9){dn(this._container,this.options.opacity);var d=+new Date,y=!1,w=!1;for(var A in this._tiles){var O=this._tiles[A];if(!(!O.current||!O.loaded)){var B=Math.min(1,(d-O.loaded)/200);dn(O.el,B),B<1?y=!0:(O.active?w=!0:this._onOpaqueTile(O),O.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),y&&(Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===d?(this._levels[w].el.style.zIndex=y-Math.abs(d-w),this._onUpdateLevel(w)):(Oe(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var A=this._levels[d],O=this._map;return A||(A=this._levels[d]={},A.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),A.el.style.zIndex=y,A.origin=O.project(O.unproject(O.getPixelOrigin()),d).round(),A.zoom=d,this._setZoomTransform(A,O.getCenter(),O.getZoom()),g(A.el.offsetWidth),this._onCreateLevel(A)),this._level=A,A}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var d,y,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var A=y.coords;this._retainParent(A.x,A.y,A.z,A.z-5)||this._retainChildren(A.x,A.y,A.z,A.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)Oe(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,w,A){var O=Math.floor(d/2),B=Math.floor(y/2),J=w-1,me=new H(+O,+B);me.z=+J;var Te=this._tileCoordsToKey(me),Fe=this._tiles[Te];return Fe&&Fe.active?(Fe.retain=!0,!0):(Fe&&Fe.loaded&&(Fe.retain=!0),J>A?this._retainParent(O,B,J,A):!1)},_retainChildren:function(d,y,w,A){for(var O=2*d;O<2*d+2;O++)for(var B=2*y;B<2*y+2;B++){var J=new H(O,B);J.z=w+1;var me=this._tileCoordsToKey(J),Te=this._tiles[me];if(Te&&Te.active){Te.retain=!0;continue}else Te&&Te.loaded&&(Te.retain=!0);w+1<A&&this._retainChildren(O,B,w+1,A)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,w,A){var O=Math.round(y);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var B=this.options.updateWhenZooming&&O!==this._tileZoom;(!A||B)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(d),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var w in this._levels)this._setZoomTransform(this._levels[w],d,y)},_setZoomTransform:function(d,y,w){var A=this._map.getZoomScale(w,d.zoom),O=d.origin.multiplyBy(A).subtract(this._map._getNewPixelOrigin(y,w)).round();ft.any3d?Ht(d.el,O,A):Vn(d.el,O)},_resetGrid:function(){var d=this._map,y=d.options.crs,w=this._tileSize=this.getTileSize(),A=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],A).x/w.x),Math.ceil(d.project([0,y.wrapLng[1]],A).x/w.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],A).y/w.x),Math.ceil(d.project([y.wrapLat[1],0],A).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,w=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),A=y.getZoomScale(w,this._tileZoom),O=y.project(d,this._tileZoom).floor(),B=y.getSize().divideBy(A*2);return new G(O.subtract(B),O.add(B))},_update:function(d){var y=this._map;if(y){var w=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var A=this._getTiledPixelBounds(d),O=this._pxBoundsToTileRange(A),B=O.getCenter(),J=[],me=this.options.keepBuffer,Te=new G(O.getBottomLeft().subtract([me,-me]),O.getTopRight().add([me,-me]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Fe in this._tiles){var ct=this._tiles[Fe].coords;(ct.z!==this._tileZoom||!Te.contains(new H(ct.x,ct.y)))&&(this._tiles[Fe].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(d,w);return}for(var gt=O.min.y;gt<=O.max.y;gt++)for(var Nt=O.min.x;Nt<=O.max.x;Nt++){var Vt=new H(Nt,gt);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var rr=this._tiles[this._tileCoordsToKey(Vt)];rr?rr.current=!0:J.push(Vt)}}if(J.sort(function(bi,Ea){return bi.distanceTo(B)-Ea.distanceTo(B)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ar=document.createDocumentFragment();for(Nt=0;Nt<J.length;Nt++)this._addTile(J[Nt],Ar);this._level.el.appendChild(Ar)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var w=this._globalTileRange;if(!y.wrapLng&&(d.x<w.min.x||d.x>w.max.x)||!y.wrapLat&&(d.y<w.min.y||d.y>w.max.y))return!1}if(!this.options.bounds)return!0;var A=this._tileCoordsToBounds(d);return q(this.options.bounds).overlaps(A)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,w=this.getTileSize(),A=d.scaleBy(w),O=A.add(w),B=y.unproject(A,d.z),J=y.unproject(O,d.z);return[B,J]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),w=new de(y[0],y[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),w=new H(+y[0],+y[1]);return w.z=+y[2],w},_removeTile:function(d){var y=this._tiles[d];y&&(Oe(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){at(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=g,d.onmousemove=g,ft.ielt9&&this.options.opacity<1&&dn(d,this.options.opacity)},_addTile:function(d,y){var w=this._getTilePos(d),A=this._tileCoordsToKey(d),O=this.createTile(this._wrapCoords(d),l(this._tileReady,this,d));this._initTile(O),this.createTile.length<2&&W(l(this._tileReady,this,d,null,O)),Vn(O,w),this._tiles[A]={el:O,coords:d,current:!0},y.appendChild(O),this.fire("tileloadstart",{tile:O,coords:d})},_tileReady:function(d,y,w){y&&this.fire("tileerror",{error:y,tile:w,coords:d});var A=this._tileCoordsToKey(d);w=this._tiles[A],w&&(w.loaded=+new Date,this._map._fadeAnimated?(dn(w.el,0),Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),y||(at(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new H(this._wrapX?p(d.x,this._wrapX):d.x,this._wrapY?p(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new G(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Ka(d){return new nl(d)}var rl=nl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=S(this,y),y.detectRetina&&ft.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var w=document.createElement("img");return Bt(w,"load",l(this._tileOnLoad,this,y,w)),Bt(w,"error",l(this._tileOnError,this,y,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(d),w},getTileUrl:function(d){var y={r:ft.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=w),y["-y"]=w}return M(this._url,i(y,this.options))},_tileOnLoad:function(d,y){ft.ielt9?setTimeout(l(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,w){var A=this.options.errorTileUrl;A&&y.getAttribute("src")!==A&&(y.src=A),d(w,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,w=this.options.zoomReverse,A=this.options.zoomOffset;return w&&(d=y-d),d+A},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=g,y.onerror=g,!y.complete)){y.src=R;var w=this._tiles[d].coords;Oe(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:w})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",R),nl.prototype._removeTile.call(this,d)},_tileReady:function(d,y,w){if(!(!this._map||w&&w.getAttribute("src")===R))return nl.prototype._tileReady.call(this,d,y,w)}});function ua(d,y){return new rl(d,y)}var da=rl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var w=i({},this.defaultWmsParams);for(var A in y)A in this.options||(w[A]=y[A]);y=S(this,y);var O=y.detectRetina&&ft.retina?2:1,B=this.getTileSize();w.width=B.x*O,w.height=B.y*O,this.wmsParams=w},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,rl.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),w=this._crs,A=Ne(w.project(y[0]),w.project(y[1])),O=A.min,B=A.max,J=(this._wmsVersion>=1.3&&this._crs===Ke?[O.y,O.x,B.y,B.x]:[O.x,O.y,B.x,B.y]).join(","),me=rl.prototype.getTileUrl.call(this,d);return me+T(this.wmsParams,me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Wl(d,y){return new da(d,y)}rl.WMS=da,ua.wms=Wl;var Wa=dt.extend({options:{padding:.1},initialize:function(d){S(this,d),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),at(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var w=this._map.getZoomScale(y,this._zoom),A=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,y),B=A.multiplyBy(-w).add(O).subtract(this._map._getNewPixelOrigin(d,y));ft.any3d?Ht(this._container,B,w):Vn(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),w=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new G(w,w.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lu=Wa.extend({options:{tolerance:0},getEvents:function(){var d=Wa.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Bt(d,"mousemove",this._onMouseMove,this),Bt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Bt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Oe(this._container),jn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wa.prototype._update.call(this);var d=this._bounds,y=this._container,w=d.getSize(),A=ft.retina?2:1;Vn(y,d.min),y.width=A*w.x,y.height=A*w.y,y.style.width=w.x+"px",y.style.height=w.y+"px",ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){Wa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[h(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,w=y.next,A=y.prev;w?w.prev=A:this._drawLast=A,A?A.next=w:this._drawFirst=w,delete d._order,delete this._layers[h(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),w=[],A,O;for(O=0;O<y.length;O++){if(A=Number(y[O]),isNaN(A))return;w.push(A)}d.options._dashArray=w}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var w=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var A=this._drawFirst;A;A=A.next)d=A.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var w,A,O,B,J=d._parts,me=J.length,Te=this._ctx;if(me){for(Te.beginPath(),w=0;w<me;w++){for(A=0,O=J[w].length;A<O;A++)B=J[w][A],Te[A?"lineTo":"moveTo"](B.x,B.y);y&&Te.closePath()}this._fillStroke(Te,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,w=this._ctx,A=Math.max(Math.round(d._radius),1),O=(Math.max(Math.round(d._radiusY),1)||A)/A;O!==1&&(w.save(),w.scale(1,O)),w.beginPath(),w.arc(y.x,y.y/O,A,0,Math.PI*2,!1),O!==1&&w.restore(),this._fillStroke(w,d)}},_fillStroke:function(d,y){var w=y.options;w.fill&&(d.globalAlpha=w.fillOpacity,d.fillStyle=w.fillColor||w.color,d.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=w.opacity,d.lineWidth=w.weight,d.strokeStyle=w.color,d.lineCap=w.lineCap,d.lineJoin=w.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),w,A,O=this._drawFirst;O;O=O.next)w=O.layer,w.options.interactive&&w._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(w))&&(A=w);this._fireEvent(A?[A]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(Ve(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var w,A,O=this._drawFirst;O;O=O.next)w=O.layer,w.options.interactive&&w._containsPoint(y)&&(A=w);A!==this._hoveredLayer&&(this._handleMouseOut(d),A&&(at(this._container,"leaflet-interactive"),this._fireEvent([A],d,"mouseover"),this._hoveredLayer=A)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,w){this._map._fireDOMEvent(y,w||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var w=y.next,A=y.prev;if(w)w.prev=A;else return;A?A.next=w:w&&(this._drawFirst=w),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var w=y.next,A=y.prev;if(A)A.next=w;else return;w?w.prev=A:A&&(this._drawLast=A),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function cu(d){return ft.canvas?new lu(d):null}var il=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Gl={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wa.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=il("shape");at(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=il("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[h(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;Oe(y),d.removeInteractiveTarget(y),delete this._layers[h(d)]},_updateStyle:function(d){var y=d._stroke,w=d._fill,A=d.options,O=d._container;O.stroked=!!A.stroke,O.filled=!!A.fill,A.stroke?(y||(y=d._stroke=il("stroke")),O.appendChild(y),y.weight=A.weight+"px",y.color=A.color,y.opacity=A.opacity,A.dashArray?y.dashStyle=E(A.dashArray)?A.dashArray.join(" "):A.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=A.lineCap.replace("butt","flat"),y.joinstyle=A.lineJoin):y&&(O.removeChild(y),d._stroke=null),A.fill?(w||(w=d._fill=il("fill")),O.appendChild(w),w.color=A.fillColor||A.color,w.opacity=A.fillOpacity):w&&(O.removeChild(w),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),w=Math.round(d._radius),A=Math.round(d._radiusY||w);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+w+","+A+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){Xe(d._container)},_bringToBack:function(d){lt(d._container)}},uu=ft.vml?il:vt,_o=Wa.extend({_initContainer:function(){this._container=uu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Oe(this._container),jn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wa.prototype._update.call(this);var d=this._bounds,y=d.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,w.setAttribute("width",y.x),w.setAttribute("height",y.y)),Vn(w,d.min),w.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=uu("path");d.options.className&&at(y,d.options.className),d.options.interactive&&at(y,"leaflet-interactive"),this._updateStyle(d),this._layers[h(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){Oe(d._path),d.removeInteractiveTarget(d._path),delete this._layers[h(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,w=d.options;y&&(w.stroke?(y.setAttribute("stroke",w.color),y.setAttribute("stroke-opacity",w.opacity),y.setAttribute("stroke-width",w.weight),y.setAttribute("stroke-linecap",w.lineCap),y.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?y.setAttribute("stroke-dasharray",w.dashArray):y.removeAttribute("stroke-dasharray"),w.dashOffset?y.setAttribute("stroke-dashoffset",w.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),w.fill?(y.setAttribute("fill",w.fillColor||w.color),y.setAttribute("fill-opacity",w.fillOpacity),y.setAttribute("fill-rule",w.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,Rt(d._parts,y))},_updateCircle:function(d){var y=d._point,w=Math.max(Math.round(d._radius),1),A=Math.max(Math.round(d._radiusY),1)||w,O="a"+w+","+A+" 0 1,0 ",B=d._empty()?"M0 0":"M"+(y.x-w)+","+y.y+O+w*2+",0 "+O+-w*2+",0 ";this._setPath(d,B)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){Xe(d._path)},_bringToBack:function(d){lt(d._path)}});ft.vml&&_o.include(Gl);function al(d){return ft.svg||ft.vml?new _o(d):null}qt.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&cu(d)||al(d)}});var Hp=Ln.extend({initialize:function(d,y){Ln.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=q(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function fa(d,y){return new Hp(d,y)}_o.create=uu,_o.pointsToPath=Rt,lr.geometryToLayer=Ha,lr.coordsToLatLng=hs,lr.coordsToLatLngs=ca,lr.latLngToCoords=Cr,lr.latLngsToCoords=Hs,lr.getFeature=si,lr.asFeature=ql,qt.mergeOptions({boxZoom:!0});var bd=la.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Oe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),er(),$s(),this._startPoint=this._map.mouseEventToContainerPoint(d),Bt(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),at(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new G(this._point,this._startPoint),w=y.getSize();Vn(this._box,y.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Oe(this._box),Ve(this._container,"leaflet-crosshair")),Ri(),Jc(),jn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var y=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",bd),qt.mergeOptions({doubleClickZoom:!0});var ps=la.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,w=y.getZoom(),A=y.options.zoomDelta,O=d.originalEvent.shiftKey?w-A:w+A;y.options.doubleClickZoom==="center"?y.setZoom(O):y.setZoomAround(d.containerPoint,O)}});qt.addInitHook("addHandler","doubleClickZoom",ps),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ph=la.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Aa(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}at(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ve(this._map._container,"leaflet-grab"),Ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=q(this._map.options.maxBounds);this._offsetLimit=Ne(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),w=this._initialWorldOffset,A=this._draggable._newPos.x,O=(A-y+w)%d+y-w,B=(A+y+w)%d-y-w,J=Math.abs(O+w)<Math.abs(B+w)?O:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(d){var y=this._map,w=y.options,A=!w.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),A)y.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,J=w.easeLinearity,me=O.multiplyBy(J/B),Te=me.distanceTo([0,0]),Fe=Math.min(w.inertiaMaxSpeed,Te),ct=me.multiplyBy(Fe/Te),gt=Fe/(w.inertiaDeceleration*J),Nt=ct.multiplyBy(-gt/2).round();!Nt.x&&!Nt.y?y.fire("moveend"):(Nt=y._limitOffset(Nt,y.options.maxBounds),W(function(){y.panBy(Nt,{duration:gt,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});qt.addInitHook("addHandler","dragging",ph),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var du=la.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Bt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,w=d.scrollTop||y.scrollTop,A=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(A,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},w=this.keyCodes,A,O;for(A=0,O=w.left.length;A<O;A++)y[w.left[A]]=[-1*d,0];for(A=0,O=w.right.length;A<O;A++)y[w.right[A]]=[d,0];for(A=0,O=w.down.length;A<O;A++)y[w.down[A]]=[0,d];for(A=0,O=w.up.length;A<O;A++)y[w.up[A]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},w=this.keyCodes,A,O;for(A=0,O=w.zoomIn.length;A<O;A++)y[w.zoomIn[A]]=d;for(A=0,O=w.zoomOut.length;A<O;A++)y[w.zoomOut[A]]=-d},_addHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,w=this._map,A;if(y in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(A=this._panKeys[y],d.shiftKey&&(A=$(A).multiplyBy(3)),w.options.maxBounds&&(A=w._limitOffset($(A),w.options.maxBounds)),w.options.worldCopyJump){var O=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(A)));w.panTo(O)}else w.panBy(A)}else if(y in this._zoomKeys)w.setZoom(w.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;ai(d)}}});qt.addInitHook("addHandler","keyboard",du),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jo=la.extend({addHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=ds(d),w=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var A=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),A),ai(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),w=this._map.options.zoomSnap||0;d._stop();var A=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(A))))/Math.LN2,B=w?Math.ceil(O/w)*w:O,J=d._limitZoom(y+(this._delta>0?B:-B))-y;this._delta=0,this._startTime=null,J&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+J):d.setZoomAround(this._lastMousePos,y+J))}});qt.addInitHook("addHandler","scrollWheelZoom",jo);var gh=600;qt.mergeOptions({tapHold:ft.touchNative&&ft.safari&&ft.mobile,tapTolerance:15});var wd=la.extend({addHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new H(y.clientX,y.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Bt(document,"touchend",fn),Bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),gh),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){jn(document,"touchend",fn),jn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),jn(document,"touchend touchcancel contextmenu",this._cancel,this),jn(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new H(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var w=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});w._simulated=!0,y.target.dispatchEvent(w)}});qt.addInitHook("addHandler","tapHold",wd),qt.mergeOptions({touchZoom:ft.touch,bounceAtZoomLimits:!0});var sl=la.extend({addHooks:function(){at(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ve(this._map._container,"leaflet-touch-zoom"),jn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var w=y.mouseEventToContainerPoint(d.touches[0]),A=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(w.add(A)._divideBy(2))),this._startDist=w.distanceTo(A),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),fn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,w=y.mouseEventToContainerPoint(d.touches[0]),A=y.mouseEventToContainerPoint(d.touches[1]),O=w.distanceTo(A)/this._startDist;if(this._zoom=y.getScaleZoom(O,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&O<1||this._zoom>y.getMaxZoom()&&O>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var B=w._add(A)._divideBy(2)._subtract(this._centerPoint);if(O===1&&B.x===0&&B.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var J=l(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(J,this,!0),fn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),jn(document,"touchmove",this._onTouchMove,this),jn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qt.addInitHook("addHandler","touchZoom",sl),qt.BoxZoom=bd,qt.DoubleClickZoom=ps,qt.Drag=ph,qt.Keyboard=du,qt.ScrollWheelZoom=jo,qt.TapHold=wd,qt.TouchZoom=sl,n.Bounds=G,n.Browser=ft,n.CRS=Ae,n.Canvas=lu,n.Circle=Mn,n.CircleMarker=jr,n.Class=ce,n.Control=Wr,n.DivIcon=mh,n.DivOverlay=qa,n.DomEvent=Qo,n.DomUtil=Ul,n.Draggable=Aa,n.Evented=Q,n.FeatureGroup=st,n.GeoJSON=lr,n.GridLayer=nl,n.Handler=la,n.Icon=Jt,n.ImageOverlay=ms,n.LatLng=ae,n.LatLngBounds=de,n.Layer=dt,n.LayerGroup=nt,n.LineUtil=We,n.Map=qt,n.Marker=tr,n.Mixin=fh,n.Path=Zn,n.Point=H,n.PolyUtil=hh,n.Polygon=Ln,n.Polyline=nr,n.Popup=ou,n.PosAnimation=bo,n.Projection=it,n.Rectangle=Hp,n.Renderer=Wa,n.SVG=_o,n.SVGOverlay=So,n.TileLayer=rl,n.Tooltip=xd,n.Transformation=Me,n.Util=re,n.VideoOverlay=yd,n.bind=l,n.bounds=Ne,n.canvas=cu,n.circle=Nr,n.circleMarker=En,n.control=Us,n.divIcon=Vp,n.extend=i,n.featureGroup=Kt,n.geoJSON=vd,n.geoJson=Fp,n.gridLayer=Ka,n.icon=St,n.imageOverlay=Kl,n.latLng=be,n.latLngBounds=q,n.layerGroup=It,n.map=an,n.marker=Jr,n.point=$,n.polygon=Pr,n.polyline=Tr,n.popup=F0,n.rectangle=fa,n.setOptions=S,n.stamp=h,n.svg=al,n.svgOverlay=Up,n.tileLayer=ua,n.tooltip=B0,n.transformation=ve,n.version=r,n.videoOverlay=Bp;var Yl=window.L;n.noConflict=function(){return window.L=Yl,this},window.L=n}))})(fm,fm.exports)),fm.exports}var Qf=Pse();const vp=mo(Qf);function Fx(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function ST(e,t){return t==null?function(r,i){const o=v.useRef(void 0);return o.current||(o.current=e(r,i)),o}:function(r,i){const o=v.useRef(void 0);o.current||(o.current=e(r,i));const l=v.useRef(r),{instance:u}=o.current;return v.useEffect(function(){l.current!==r&&(t(u,r,l.current),l.current=r)},[u,r,t]),o}}function p$(e,t){v.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function g$(e){return function(n){const r=bT(),i=e(wT(n,r),r);return wse(r.map,n.attribution),m$(i.current,n.eventHandlers),p$(i.current,r),i}}function Cse(e,t){const n=v.useRef(void 0);v.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function Ase(e){return function(n){const r=bT(),i=e(wT(n,r),r);return m$(i.current,n.eventHandlers),p$(i.current,r),Cse(i.current,n),i}}function Ese(e,t){const n=ST(e,t),r=g$(n);return h$(r)}function v$(e,t){const n=ST(e,t),r=Ase(n);return h$(r)}function Mse(e,t){const n=ST(e,t),r=g$(n);return Nse(r)}function kse(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Bx(){return bT().map}const Bu=v$(function({center:t,children:n,...r},i){const o=new Qf.CircleMarker(t,r);return Fx(o,yT(i,{overlayContainer:o}))},Sse);function Ose({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:l,style:u,whenReady:h,zoom:m,...p},g){const[b]=v.useState({className:i,id:o,style:u}),[_,N]=v.useState(null),S=v.useRef(void 0);v.useImperativeHandle(g,()=>_?.map??null,[_]);const T=v.useCallback(M=>{if(M!==null&&!S.current){const E=new Qf.Map(M,p);S.current=E,n!=null&&m!=null?E.setView(n,m):e!=null&&E.fitBounds(e,t),h!=null&&E.whenReady(h),N(jse(E))}},[]);v.useEffect(()=>()=>{_?.map.remove()},[_]);const C=_?Ge.createElement(xT,{value:_},r):l??null;return Ge.createElement("div",{...b,ref:T},C)}const _T=v.forwardRef(Ose),Rse=Ese(function({position:t,...n},r){const i=new Qf.Marker(t,n);return Fx(i,yT(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),jT=v$(function({positions:t,...n},r){const i=new Qf.Polyline(t,n);return Fx(i,yT(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),NT=Mse(function({url:t,...n},r){const i=new Qf.TileLayer(t,wT(n,r));return Fx(i,r)},function(t,n,r){kse(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});var Dse=Symbol("radix.slottable");function Ise(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Dse,t}var y$="AlertDialog",[Lse]=ra(y$,[p6]),Ol=p6(),x$=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ol(t);return s.jsx(dT,{...r,...n,modal:!0})};x$.displayName=y$;var zse="AlertDialogTrigger",$se=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ol(n);return s.jsx(M6,{...i,...r,ref:t})});$se.displayName=zse;var Fse="AlertDialogPortal",b$=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ol(t);return s.jsx(fT,{...r,...n})};b$.displayName=Fse;var Bse="AlertDialogOverlay",w$=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ol(n);return s.jsx(fp,{...i,...r,ref:t})});w$.displayName=Bse;var mf="AlertDialogContent",[Use,Vse]=Lse(mf),Hse=Ise("AlertDialogContent"),S$=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Ol(n),l=v.useRef(null),u=Gt(t,l),h=v.useRef(null);return s.jsx(bae,{contentName:mf,titleName:_$,docsSlug:"alert-dialog",children:s.jsx(Use,{scope:n,cancelRef:h,children:s.jsxs(hp,{role:"alertdialog",...o,...i,ref:u,onOpenAutoFocus:Ze(i.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[s.jsx(Hse,{children:r}),s.jsx(Kse,{contentRef:l})]})})})});S$.displayName=mf;var _$="AlertDialogTitle",j$=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ol(n);return s.jsx(mp,{...i,...r,ref:t})});j$.displayName=_$;var N$="AlertDialogDescription",T$=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ol(n);return s.jsx(pp,{...i,...r,ref:t})});T$.displayName=N$;var qse="AlertDialogAction",P$=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ol(n);return s.jsx(Ix,{...i,...r,ref:t})});P$.displayName=qse;var C$="AlertDialogCancel",A$=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Vse(C$,n),o=Ol(n),l=Gt(t,i);return s.jsx(Ix,{...o,...r,ref:l})});A$.displayName=C$;var Kse=({contentRef:e})=>{const t=`\`${mf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mf}\` by passing a \`${N$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Wse=x$,Gse=b$,E$=w$,M$=S$,k$=P$,O$=A$,R$=j$,D$=T$;const Lm=Wse,Yse=Gse,I$=v.forwardRef(({className:e,...t},n)=>s.jsx(E$,{className:Tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));I$.displayName=E$.displayName;const jf=v.forwardRef(({className:e,...t},n)=>s.jsxs(Yse,{children:[s.jsx(I$,{}),s.jsx(M$,{ref:n,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));jf.displayName=M$.displayName;const Nf=({className:e,...t})=>s.jsx("div",{className:Tt("flex flex-col space-y-2 text-center sm:text-left",e),...t});Nf.displayName="AlertDialogHeader";const Tf=({className:e,...t})=>s.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tf.displayName="AlertDialogFooter";const Pf=v.forwardRef(({className:e,...t},n)=>s.jsx(R$,{ref:n,className:Tt("text-lg font-semibold",e),...t}));Pf.displayName=R$.displayName;const Cf=v.forwardRef(({className:e,...t},n)=>s.jsx(D$,{ref:n,className:Tt("text-sm text-muted-foreground",e),...t}));Cf.displayName=D$.displayName;const zm=v.forwardRef(({className:e,...t},n)=>s.jsx(k$,{ref:n,className:Tt(iT(),e),...t}));zm.displayName=k$.displayName;const Af=v.forwardRef(({className:e,...t},n)=>s.jsx(O$,{ref:n,className:Tt(iT({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Af.displayName=O$.displayName;function Zse(e,t,n,r){const o=(n-e)*Math.PI/180,l=(r-t)*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function Xse(e,t,n){let r=1/0,i=0;for(let o=0;o<n.length;o++){const l=Zse(e,t,n[o].lat,n[o].lng);l<r&&(r=l,i=o)}return{index:i,distance:r}}function Qse(e){return e>=8?"steep hill ahead":e>=5?"moderate hill ahead":e>=2?"gentle incline ahead":e<=-8?"steep descent ahead":e<=-5?"moderate downhill ahead":e<=-2?"gentle descent ahead":"flat terrain ahead"}function Kk(e,t,n,r,i,o){if(!r||r.length<2)return;const{index:l}=Xse(e,t,r),u=r[l],h={currentAltitude:u.elevation,currentGrade:u.grade,totalElevationGain:i,totalElevationLoss:o},m=200;for(let p=l+1;p<r.length;p++){const g=r[p],b=g.distance-u.distance;if(b>0&&b<=m&&Math.abs(g.grade)>=3){const _=g.elevation-u.elevation;h.upcomingTerrain={distanceAhead:Math.round(b),grade:g.grade,elevationChange:Math.round(_),description:Qse(g.grade)};break}if(b>m)break}return h}function Jse(e){return e?e.upcomingTerrain&&Math.abs(e.upcomingTerrain.grade)>=5?e.upcomingTerrain.grade>0?"uphill":"downhill":e.currentGrade!==void 0&&Math.abs(e.currentGrade)>=6?e.currentGrade>0?"uphill":"downhill":null:null}function eoe(e,t){if(!e||t===null)return!1;const n=e.currentGrade??0;return t>=5&&n<2}function toe(e,t,n,r,i,o=3e4){if(!e)return null;const l=Date.now();if(eoe(e,i)&&l-r>=o)return"hill_crest";const u=Jse(e);return!u||u==="uphill"&&l-t<o||u==="downhill"&&l-n<o?null:u}const noe=[{id:"early_1",text:"Keep your posture tall and proud, imagine a string gently lifting the top of your head.",phase:"early",category:"form"},{id:"early_2",text:"Settle into a steady, rhythmic breathing pattern that feels sustainable.",phase:"early",category:"breathing"},{id:"early_3",text:"Start easy and let your body warm up naturally. The best runs build momentum.",phase:"early",category:"pacing"},{id:"early_4",text:"Relax your shoulders and let them drop away from your ears.",phase:"early",category:"form"},{id:"early_5",text:"Find your rhythm. These first kilometers are about settling into a sustainable pace.",phase:"early",category:"pacing"},{id:"early_6",text:"Keep your hands soft, stretch your fingers and release the tension.",phase:"early",category:"form"},{id:"early_7",text:"Great start! Focus on smooth, relaxed movements as you warm up.",phase:"early",category:"motivation"},{id:"early_8",text:"Keep your eyes on the horizon, not your feet.",phase:"early",category:"form"},{id:"mid_1",text:"Lightly engage your core to keep your torso stable as your legs and arms move.",phase:"mid",category:"form"},{id:"mid_2",text:"You're in the groove now. Stay relaxed and maintain your rhythm.",phase:"mid",category:"motivation"},{id:"mid_3",text:"Think quick and elastic, lifting the foot up and through instead of pushing long and hard.",phase:"mid",category:"form"},{id:"mid_4",text:"Keep your arms relaxed and swinging naturally with your stride.",phase:"mid",category:"form"},{id:"mid_5",text:"Let your foot land roughly under your body instead of reaching out in front.",phase:"mid",category:"form"},{id:"mid_6",text:"Run with quiet confidence. Efficient, relaxed form is your biggest advantage today.",phase:"mid",category:"mental"},{id:"mid_7",text:"You're building a strong foundation. This is where consistency pays off.",phase:"mid",category:"motivation"},{id:"mid_8",text:"Check in with your breathing. Keep it controlled and rhythmic.",phase:"mid",category:"breathing"},{id:"late_1",text:"Stay tall through your hips, avoid collapsing or bending at the waist as you tire.",phase:"late",category:"form"},{id:"late_2",text:"If you're starting to tire, take a deep breath and reset your rhythm.",phase:"late",category:"breathing"},{id:"late_3",text:"Pain fades, pride lasts. Push through this stretch and keep your head up.",phase:"late",category:"motivation"},{id:"late_4",text:"Your body is capable of more than your mind believes. Trust your training.",phase:"late",category:"mental"},{id:"late_5",text:"You've come this far. Maintain your form and keep moving forward.",phase:"late",category:"motivation"},{id:"late_6",text:"When it gets tough, focus on the next 100 meters, not the whole distance.",phase:"late",category:"mental"},{id:"late_7",text:"This is where champions are made. Embrace the challenge.",phase:"late",category:"motivation"},{id:"late_8",text:"Relax your face and jaw. Tension there wastes precious energy.",phase:"late",category:"form"},{id:"final_1",text:"You're almost there! Give it everything you have left.",phase:"final",category:"motivation"},{id:"final_2",text:"The finish line is calling. Dig deep and finish strong!",phase:"final",category:"motivation"},{id:"final_3",text:"Last push! Every step now is a step closer to victory.",phase:"final",category:"motivation"},{id:"final_4",text:"Empty the tank. Leave nothing behind on this final stretch.",phase:"final",category:"motivation"},{id:"final_5",text:"You've earned this finish. Sprint home if you can!",phase:"final",category:"motivation"},{id:"final_6",text:"The end is in sight. This is your moment to shine!",phase:"final",category:"motivation"},{id:"generic_1",text:"Remember to smile! It helps you relax and enjoy the run.",phase:"generic",category:"mental"},{id:"generic_2",text:"You're stronger with every stride. Stay smooth, stay strong.",phase:"generic",category:"motivation"},{id:"generic_3",text:"Focus on form. Tall posture, light feet, and controlled breathing.",phase:"generic",category:"form"},{id:"generic_4",text:"Your body can do this. Trust it and let your mind follow.",phase:"generic",category:"mental"},{id:"generic_5",text:"One step at a time. That's how every great journey is conquered.",phase:"generic",category:"motivation"},{id:"generic_6",text:"Every run is a story of progress. Focus on your purpose.",phase:"generic",category:"motivation"},{id:"generic_7",text:"It's not about being the fastest, it's about little improvements every session.",phase:"generic",category:"mental"},{id:"generic_8",text:"Remember why you started. Keep going, you're making progress.",phase:"generic",category:"motivation"},{id:"generic_9",text:"Breathe deep and reset. The next kilometer is yours to own.",phase:"generic",category:"breathing"},{id:"generic_10",text:"Your body is capable of amazing things. Trust the process and keep moving forward.",phase:"generic",category:"motivation"}],roe={early:{maxKm:2,maxPercent:10},mid:{minKm:3,maxKm:5,minPercent:40,maxPercent:50},late:{minKm:7,minPercent:75,maxPercent:90},final:{minPercent:90}};function Wk(e,t,n=roe){const r=t&&t>0?e/t*100:null;return r!==null?r>=n.final.minPercent?"final":r>=n.late.minPercent?"late":r>=n.mid.minPercent&&r<=n.mid.maxPercent?"mid":r<=n.early.maxPercent?"early":"generic":e<=n.early.maxKm?"early":e>=n.mid.minKm&&e<=n.mid.maxKm?"mid":"generic"}const ioe=3;function aoe(e,t){return noe.filter(n=>{const r=n.phase===e||n.phase==="generic",o=(t[n.id]||0)<ioe;return r&&o})}function Gk(e,t,n=!0){const r=aoe(e,t);if(r.length===0)return null;if(n){const i=r.filter(o=>o.phase===e);if(i.length>0)return i[Math.floor(Math.random()*i.length)]}return r[Math.floor(Math.random()*r.length)]}const soe="/assets/glowing_ai_voice_sphere_interface-DEZKPNCv.png";function ooe(e,t=1e3){if(e.length<=t)return e;const n=[],r=(e.length-1)/(t-1);for(let i=0;i<t;i++){const o=Math.min(Math.round(i*r),e.length-1);n.push(e[o])}return n[n.length-1]!==e[e.length-1]&&(n[n.length-1]=e[e.length-1]),n}function loe({position:e,enabled:t}){const n=Bx();return v.useEffect(()=>{e&&t&&n.setView([e.lat,e.lng],17,{animate:!0})},[n,e,t]),null}function coe({routePoints:e,enabled:t}){const n=Bx();return v.useEffect(()=>{if(t&&e.length>1){const r=e.map(i=>[i.lat,i.lng]);n.fitBounds(r,{padding:[20,20]})}},[n,e,t]),null}function rv(e,t,n,r){const i=(r-t)*Math.PI/180,o=e*Math.PI/180,l=n*Math.PI/180,u=Math.sin(i)*Math.cos(l),h=Math.cos(o)*Math.sin(l)-Math.sin(o)*Math.cos(l)*Math.cos(i);return(Math.atan2(u,h)*180/Math.PI+360)%360}function uoe(e,t){return vp.divIcon({className:"route-direction-arrow",html:`<div style="
      transform: rotate(${e}deg);
      color: ${t};
      font-size: 14px;
      font-weight: bold;
      text-shadow: 0 0 3px rgba(0,0,0,0.7), 0 0 1px rgba(255,255,255,0.5);
      line-height: 1;
    "></div>`,iconSize:[14,14],iconAnchor:[7,7]})}function doe(e,t,n){const i=(t.lat-e.lat)*Math.PI/180,o=(t.lng-e.lng)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))<n}function foe(e,t,n,r){const i=(n+90)%360,l=r/6371e3,u=i*Math.PI/180,h=e*Math.PI/180,m=t*Math.PI/180,p=Math.asin(Math.sin(h)*Math.cos(l)+Math.cos(h)*Math.sin(l)*Math.cos(u)),g=m+Math.atan2(Math.sin(u)*Math.sin(l)*Math.cos(h),Math.cos(l)-Math.sin(h)*Math.sin(p));return{lat:p*180/Math.PI,lng:g*180/Math.PI}}function Yk(e){const t=[];let n=0,r=0,i=0;for(;n<e.length;){let o,l=0,u=0;do o=e.charCodeAt(n++)-63,u|=(o&31)<<l,l+=5;while(o>=32);const h=(u&1)!==0?~(u>>1):u>>1;r+=h,l=0,u=0;do o=e.charCodeAt(n++)-63,u|=(o&31)<<l,l+=5;while(o>=32);const m=(u&1)!==0?~(u>>1):u>>1;i+=m,t.push({lat:r/1e5,lng:i/1e5})}return t}function Xi(e,t,n,r){const o=(n-e)*Math.PI/180,l=(r-t)*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function Zk(e,t,n,r){const i=(r-t)*Math.PI/180,o=Math.sin(i)*Math.cos(n*Math.PI/180),l=Math.cos(e*Math.PI/180)*Math.sin(n*Math.PI/180)-Math.sin(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.cos(i);return(Math.atan2(o,l)*180/Math.PI+360)%360}function Xk(e,t,n){const r=t.lng-e.lng,i=t.lat-e.lat,o=n.lng-t.lng,l=n.lat-t.lat,u=Math.sqrt(r*r+i*i),h=Math.sqrt(o*o+l*l);if(u===0||h===0)return 0;const m=r/u,p=i/u,g=o/h,b=l/h,_=m*b-p*g,N=m*g+p*b;return-(Math.atan2(_,N)*(180/Math.PI))}function hoe(e){return e<150?"Try to pick up your step frequency.":e<165?"Good step rhythm, try slightly quicker steps.":e>=165&&e<=185?"Perfect cadence!":e>185?"Great turnover, stay relaxed.":""}function Qk(e){const t=["north","north-east","east","south-east","south","south-west","west","north-west"],n=Math.round(e/45)%8;return t[n]}async function z_(e,t){try{const n=await fetch(`/api/geocode/reverse?lat=${e}&lng=${t}`);return n.ok&&(await n.json()).components?.find(o=>o.types?.includes("route")||o.types?.includes("street_address"))?.long_name||null}catch{return null}}async function moe(e,t,n,r){if(n.length<2)return`Your ${r} kilometer run has started. Follow the route on your map.`;const i=Math.min(5,n.length-1),o=n[i],l=Zk(e,t,o.lat,o.lng),u=Qk(l),h=Xi(e,t,o.lat,o.lng),m=Math.round(h*1e3),p=await z_(o.lat,o.lng),g=p?` towards ${p}`:"";let b=`Your ${r} kilometer run has started.`;if(m<50){b+=` Head ${u}${g} to begin.`;const _=Math.min(i+10,n.length-1);if(_>i){const N=n[_],S=Zk(o.lat,o.lng,N.lat,N.lng),T=Qk(S),C=Xi(o.lat,o.lng,N.lat,N.lng),M=Math.round(C*1e3),E=await z_(N.lat,N.lng),k=E?` onto ${E}`:"";b+=` Then head ${T}${k} for about ${M} meters.`}}else b+=` Head ${u}${g} for about ${m} meters.`;return b}function poe(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[i,o]=v.useState(0),[l,u]=v.useState(0),[h,m]=v.useState(null),[p,g]=v.useState("Acquiring GPS signal..."),[b,_]=v.useState(0),[N,S]=v.useState(0),[T,C]=v.useState(!1),[M,E]=v.useState(!0),[k,R]=v.useState(!0),[I,D]=v.useState(null),[F,Y]=v.useState([]),[ne,W]=v.useState([]),[,Z]=Vr(),[re,ce]=v.useState(null),[fe,K]=v.useState("acquiring"),[Q,H]=v.useState(0),[X,$]=v.useState(null),[G,Ne]=v.useState([]),[de,q]=v.useState(0),[ae,be]=v.useState(!0),[Ae,ke]=v.useState(0),[ie,ge]=v.useState(0),[Me,ve]=v.useState(0),[pe,Ye]=v.useState([]),[vt,Rt]=v.useState("unknown"),Wt=v.useRef(!1),[gn,Nn]=v.useState(null),kr=v.useRef(0),Tn=v.useRef(!1),he=v.useRef([]),Be=v.useRef(0),ot=v.useRef(0),[Zt,An]=v.useState({}),[tt,Jn]=v.useState(()=>{const te=new URLSearchParams(window.location.search);if(te.get("resume")==="true"){const we=D_();if(we)return we.aiCoachEnabled}return te.get("aiCoach")!=="off"}),[$t,Or]=v.useState(()=>Nm());v.useEffect(()=>{mT().then(Or)},[]),v.useEffect(()=>{const te=le=>{le.key==="aiCoachSettings"&&Or(Nm())},Ee=()=>{Or(Nm())};return window.addEventListener("storage",te),window.addEventListener("focus",Ee),()=>{window.removeEventListener("storage",te),window.removeEventListener("focus",Ee)}},[]);const[Qt]=v.useState(120),[gi,Rr]=v.useState(!1),[Dr,Ir]=v.useState(""),[Mi,br]=v.useState(!1),[wa,wr]=v.useState(!1),[Sa,sa]=v.useState(!1),[ki,_a]=v.useState(!1),[Mt,kn]=v.useState(void 0),[Xt,ur]=v.useState(null),[Yt,On]=v.useState(null),[Sn,mt]=v.useState([]),Dt=v.useRef([]);v.useRef([]),v.useRef(0);const Gn=v.useRef(null),or=v.useRef(null),ft=v.useRef(null),qi=v.useRef([]),Ls=v.useRef(0),vi=v.useRef({time:0,distance:0}),ja=v.useRef(null),ii=v.useRef(Date.now()),Sr=v.useRef(`run-${Date.now()}`),yi=v.useRef(0),oa=v.useRef(0),Yn=v.useRef(0),rn=v.useRef(null),dr=v.useRef(!1),un=v.useRef(new Map),fr=v.useRef(0),Rn=v.useRef([]),_n=v.useRef(!1),sn=v.useRef(0),kt=v.useRef(Date.now()),hr=v.useRef(Date.now()),Dn=v.useRef(0),mr=v.useRef(0);v.useRef("");const Na=v.useRef(!1),Ua=v.useRef(!1),Oi=v.useRef(-1),Hr=v.useRef(0),V=v.useRef(!1),se=v.useRef(!1),Oe=v.useRef(0),Ue=v.useRef(0),Xe=v.useRef(0),lt=v.useRef(0),Ft=v.useRef(0),at=v.useRef(null);v.useRef(Date.now());const Ve=v.useRef([]),[xn,vn]=v.useState([]),dn=v.useRef([]),Ki=v.useRef(0),qr=v.useRef(!1),Ht=v.useRef(null),Vn=v.useRef(0),_r=v.useCallback(async te=>{const Ee=Yt?.id;if(!Ee){console.warn("[CoachingLog] No userId - user may not be logged in");return}const{time:le,distance:we}=vi.current,Pe=we>0?le/we:0,De=Math.floor(Pe/60),$e=Math.floor(Pe%60),He={userId:Ee,sessionKey:Sr.current,eventType:te.eventType,elapsedSeconds:Math.floor(le),distanceKm:parseFloat(we.toFixed(2)),currentPace:`${De}:${$e.toString().padStart(2,"0")}`,heartRate:null,cadence:ie||null,terrain:X?.elevation?{grade:rn.current,totalGain:X.elevation.gain,totalLoss:X.elevation.loss}:null,weather:Xt||null,topic:te.topic,responseText:te.responseText,prompt:te.prompt,latencyMs:te.latencyMs};console.log("[CoachingLog] Saving:",te.eventType,te.topic);try{const Qe=await fetch("/api/coaching-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)});if(Qe.ok)console.log("[CoachingLog] Saved successfully");else{const Je=await Qe.text();console.error("[CoachingLog] Server error:",Qe.status,Je)}}catch(Qe){console.error("[CoachingLog] Failed to save:",Qe)}},[Yt?.id,ie,X?.elevation,Xt]),er=new URLSearchParams(window.location.search),Ri=er.get("resume")==="true",zs=er.get("distance")||"5",ss=er.get("level")||"beginner",$s=parseFloat(er.get("lat")||"40.7128"),Jc=parseFloat(er.get("lng")||"-74.0060"),Bl=er.get("routeName")||"",yo=er.get("routeId")||"",Xo=parseInt(er.get("targetTime")||"0");er.get("aiCoach");const Kr=er.get("groupRunId")||"",Fs=er.get("waiting")==="true",os=er.get("exerciseType")||"running",[Ul,Bt]=v.useState([]),[Wi,jn]=v.useState(!!Kr),[Gi,xo]=v.useState(Fs),[ls,Ta]=v.useState(!1),yn=v.useRef({targetDistance:zs,levelId:ss,startLat:$s,startLng:Jc,routeName:Bl,routeId:yo,targetTimeSeconds:Xo,exerciseType:os,eventId:""}),cs=te=>{if(!te)return;const Ee=new Date(te),le=new Date;let we=le.getFullYear()-Ee.getFullYear();const Pe=le.getMonth()-Ee.getMonth();return(Pe<0||Pe===0&&le.getDate()<Ee.getDate())&&we--,we};v.useEffect(()=>{const te=localStorage.getItem("userProfile");if(te){const le=JSON.parse(te);Y(le.friends||[]),On({name:le.name,dob:le.dob,gender:le.gender,height:le.height,weight:le.weight,fitnessLevel:le.fitnessLevel,desiredFitnessLevel:le.desiredFitnessLevel,coachName:le.coachName,id:le.id}),le.id&&fetch(`/api/goals/user/${le.id}`).then(Pe=>Pe.ok?Pe.json():[]).then(Pe=>{const De=Pe.filter($e=>$e.status==="active").map($e=>({type:$e.type,title:$e.title,description:$e.description,targetDate:$e.targetDate,distanceTarget:$e.distanceTarget,timeTargetSeconds:$e.timeTargetSeconds,eventName:$e.eventName,weeklyRunTarget:$e.weeklyRunTarget,progressPercent:$e.progressPercent}));mt(De)}).catch(Pe=>console.error("Failed to fetch goals for coaching:",Pe));const we=localStorage.getItem("coachPreferences");we&&Ir(we)}const Ee=localStorage.getItem("activeRoute");if(Ee&&!Ri){const le=JSON.parse(Ee);if($(le),le.polyline){const we=Yk(le.polyline);Ne(we)}yn.current={...yn.current,routeId:le.id||yn.current.routeId,routeName:le.routeName||yn.current.routeName,startLat:le.startLat??yn.current.startLat,startLng:le.startLng??yn.current.startLng,targetDistance:le.actualDistance?.toString()||yn.current.targetDistance,levelId:le.difficulty||yn.current.levelId,eventId:le.eventId||yn.current.eventId}}if(Ri){const le=D_();if(le){console.log("Restoring session:",le),u(le.distanceKm),ge(le.cadence),Ye(le.kmSplits),ve(le.lastKmAnnounced),be(le.audioEnabled),Jn(le.aiCoachEnabled),ii.current=le.startTimestamp,Sr.current=le.id,r(le.status==="active"),t(!0);const we=le.pausedDurationMs||0;if(le.status==="active"){Ft.current=we;const Pe=Math.floor((Date.now()-le.startTimestamp-we)/1e3);o(Pe)}else{const Pe=Date.now()-le.startTimestamp,De=le.elapsedSeconds*1e3,$e=Pe-we-De;Ft.current=we+Math.max(0,$e),o(le.elapsedSeconds)}yn.current={targetDistance:le.targetDistance,levelId:le.levelId,startLat:le.startLat,startLng:le.startLng,routeName:le.routeName,routeId:le.routeId,targetTimeSeconds:le.targetTimeSeconds,exerciseType:le.exerciseType||"running",eventId:le.eventId},le.routePolyline&&($({id:le.routeId,routeName:le.routeName,polyline:le.routePolyline,waypoints:le.routeWaypoints,actualDistance:parseFloat(le.targetDistance),difficulty:le.levelId,startLat:le.startLat,startLng:le.startLng}),Ne(Yk(le.routePolyline))),Se.success("Run session restored!")}}},[Ri]);const Bs=v.useCallback(()=>{const te=window.speechSynthesis.getVoices();if(te.length===0)return console.log("No voices available"),null;console.log("Coach settings:",$t),console.log("Available voices:",te.map(rt=>`${rt.name} (${rt.lang})`).join(", "));const Ee=["samantha","victoria","kate","karen","moira","female","fiona","susan","allison","catherine","zoe","nicky","ava","tessa","veena","rishi","serena","martha"],le=["daniel","james","arthur","oliver","alex","fred","tom","george","ryan","aaron","gordon","lee","male","ralph","bruce","albert"],we=$t.gender==="female"?Ee:le,Pe=$t.gender==="female"?le:Ee,De=rt=>{const et=rt.name.toLowerCase();return we.some(it=>et.includes(it))&&!Pe.some(it=>et.includes(it))},$e=rt=>{const et=rt.name.toLowerCase();return Pe.some(it=>et.includes(it))},He=nv($t);for(const rt of He.preferredNames){const et=te.find(it=>it.name.includes(rt)&&!$e(it));if(et)return console.log("Selected voice (preferred name):",et.name),et}for(const rt of He.langPreferences){const et=te.find(it=>it.lang.includes(rt)&&De(it));if(et)return console.log("Selected voice (lang + gender):",et.name),et}const Qe=te.find(rt=>rt.lang.startsWith("en")&&De(rt));if(Qe)return console.log("Selected voice (gender match):",Qe.name),Qe;const Je=te.find(rt=>rt.lang.startsWith("en")&&!$e(rt));if(Je)return console.log("Selected voice (english, not opposite gender):",Je.name),Je;const We=te.find(rt=>rt.lang.startsWith("en"))||te[0];return console.log("Selected voice (fallback):",We?.name),We},[$t]),fn=v.useRef(null),ai=v.useRef(null),Va=v.useRef(null),[xi,us]=v.useState(!1);v.useEffect(()=>{if(!("speechSynthesis"in window))return;const te=()=>{const le=window.speechSynthesis.getVoices();le.length>0&&(console.log("[Voice] Voices loaded:",le.length,"available"),us(!0),Va.current=null)};return window.speechSynthesis.getVoices().length>0&&us(!0),window.speechSynthesis.addEventListener("voiceschanged",te),()=>{window.speechSynthesis.removeEventListener("voiceschanged",te)}},[]);const ds=v.useCallback(()=>{fn.current&&(fn.current.pause(),fn.current.src="",fn.current=null),ai.current&&(URL.revokeObjectURL(ai.current),ai.current=null)},[]);v.useEffect(()=>()=>{ds()},[ds]),v.useEffect(()=>{Hr.current=0,V.current=!1,se.current=!1,Oe.current=0,Ue.current=0,Xe.current=0,lt.current=0,Oi.current=-1,console.log("[Nav] Reset turn tracking for new route instructions")},[X?.turnInstructions]);const Pa=v.useCallback(async()=>{if(Kr)try{const te=await fetch(`/api/group-runs/${Kr}/participants`);if(te.ok){const Ee=await te.json(),le=localStorage.getItem("userProfile"),we=le?JSON.parse(le).id:null;Bt(Ee.map(De=>({id:De.id,userId:De.userId,userName:De.userName||"Runner",role:De.role,invitationStatus:De.invitationStatus||"pending"})));const Pe=Ee.find(De=>De.role==="host");Pe&&we&&Pe.userId===we&&Ta(!0)}}catch(te){console.error("Failed to load group run participants:",te)}},[Kr]);v.useEffect(()=>{Pa()},[Pa]),v.useEffect(()=>{if(!Kr||!Gi)return;const te=async()=>{try{const le=await fetch(`/api/group-runs/${Kr}`);le.ok&&(await le.json()).status==="active"&&(xo(!1),r(!0),an("Group run started! Let's go!",{domain:"system"}))}catch(le){console.error("Failed to fetch group run status:",le)}},Ee=setInterval(()=>{Pa(),te()},3e3);return te(),()=>clearInterval(Ee)},[Kr,Gi,Pa]);const Qo=v.useCallback(te=>{if(!("speechSynthesis"in window)){console.log("Device TTS not available");return}window.speechSynthesis.cancel();const Ee=new SpeechSynthesisUtterance(te);Va.current||(Va.current=Bs()),Va.current&&(Ee.voice=Va.current,console.log("Using cached device voice:",Va.current.name));const le=nv($t);Ee.rate=le.rate,Ee.pitch=le.pitch,Ee.volume=1,ft.current=Ee,window.speechSynthesis.speak(Ee),console.log("Fallback device TTS used with voice:",Va.current?.name||"default")},[Bs,$t]),bo=v.useCallback(async(te,Ee)=>new Promise(le=>{const we=new Audio(te);fn.current=we;let Pe=!1;const De=()=>{Pe||(Pe=!0,_n.current=!1,le())},$e=setTimeout(()=>{console.warn("[Audio] Playback timeout, releasing queue"),De()},3e4);we.onended=()=>{clearTimeout($e),console.log("[Audio] Playback ended:",Ee.substring(0,30)),De()},we.onerror=He=>{clearTimeout($e),console.error("[Audio] Playback error:",He),De()},we.play().then(()=>{console.log("[Audio] Playing:",Ee.substring(0,30))}).catch(He=>{clearTimeout($e),console.error("[Audio] Play failed:",He),De()})}),[]),qt=v.useCallback(async()=>{if(_n.current||Rn.current.length===0)return;const te=Rn.current.shift();if(!te)return;if(_n.current=!0,sn.current=Date.now(),console.log("[Speech Queue] Processing:",te.substring(0,40),"Queue length:",Rn.current.length),!tt){console.log("AI Coach disabled - using device TTS for:",te.substring(0,30)),Qo(te),_n.current=!1,qt();return}const Ee=te.toLowerCase().trim(),le=un.current.get(Ee);if(le){console.log("Using cached AI audio for:",te.substring(0,30)),await bo(le,te),qt();return}const we=Hk($t),Pe=nv($t);try{const De=new AbortController,$e=setTimeout(()=>De.abort(),15e3),He=await fetch("/api/ai/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:te,tone:$t.tone,voice:we,speed:Pe.rate}),signal:De.signal});if(clearTimeout($e),!He.ok)throw new Error("TTS failed with status: "+He.status);const Qe=await He.blob(),Je=URL.createObjectURL(Qe);if(un.current.size>=20){const We=un.current.keys().next().value;if(We){const rt=un.current.get(We);rt&&URL.revokeObjectURL(rt),un.current.delete(We)}}un.current.set(Ee,Je),console.log("Using AI voice for navigation:",te.substring(0,30)),await bo(Je,te)}catch(De){console.error("Navigation TTS error, using device fallback:",De?.message||De),Qo(te),_n.current=!1}setTimeout(()=>qt(),100)},[$t,Qo,bo,tt]),an=v.useCallback((te,Ee={})=>{const{force:le=!1,domain:we="coach"}=Ee;if(console.log("speak() called with:",te.substring(0,40),"domain:",we,"aiCoachEnabled:",tt),!le&&we==="coach"&&!tt){console.log("Speech blocked: AI coach disabled");return}if(!le&&!ae){console.log("Speech blocked: audio disabled");return}const Pe=Date.now();if(Pe-fr.current<3e3&&!le){console.log("Speech throttled");return}fr.current=Pe,Rn.current.push(te),qt()},[ae,tt,qt]),Wr=v.useRef(null);v.useEffect(()=>{if(!("geolocation"in navigator)){K("error"),g("GPS not available on this device");return}const te=le=>{const we=le.coords.accuracy,Pe=le.coords.latitude,De=le.coords.longitude,$e=le.timestamp,He=le.coords.altitude??void 0,Qe=le.coords.altitudeAccuracy??void 0;if(console.log(`[GPS] Raw: lat=${Pe.toFixed(6)}, lng=${De.toFixed(6)}, acc=${we.toFixed(1)}m, alt=${He?.toFixed(1)??"N/A"}m, active=${n}, positions=${Dt.current.length}`),kn(we),fe==="acquiring"&&we>30){g(`Refining GPS signal... (${Math.round(we)}m accuracy)`),console.log("[GPS] Acquiring: waiting for better accuracy");return}const Je={lat:Pe,lng:De,timestamp:$e,altitude:He,altitudeAccuracy:Qe};if(ce(Je),fe==="acquiring"){console.log("[GPS] LOCKED! Setting status to active"),K("active"),g("GPS locked! Tap 'Start Run' when you're ready."),kn(void 0),Dt.current=[Je],Wr.current=Je,console.log("[Weather] Fetching weather for location:",Pe,De),fetch(`/api/weather/current?lat=${Pe}&lng=${De}`).then(nt=>(console.log("[Weather] Response status:",nt.status),nt.ok?nt.json():null)).then(nt=>{console.log("[Weather] Weather data received:",nt),nt?.current&&ur(nt.current)}).catch(nt=>console.warn("[Weather] Weather fetch failed:",nt));return}const We=Wr.current;if(!We){console.log("[GPS] No last position, storing this one"),Wr.current=Je,Dt.current.push(Je);return}const rt=Xi(We.lat,We.lng,Pe,De),et=rt*1e3,it=($e-We.timestamp)/1e3,Ke=(it>0?et/it:0)*3.6;if(console.log(`[GPS] Delta: ${et.toFixed(1)}m in ${it.toFixed(1)}s = ${Ke.toFixed(1)}km/h, active=${n}`),et<1){console.log(`[GPS] Too small (${et.toFixed(1)}m < 1m), skipping`);return}if(Ke>50){console.log(`[GPS] Speed too high (${Ke.toFixed(1)}km/h > 50km/h), GPS jump`);return}if(we>100){console.log(`[GPS] Accuracy too bad (${we.toFixed(0)}m > 100m), rejecting`);return}console.log(`[GPS] *** ADDING ${et.toFixed(1)}m (${rt.toFixed(4)}km) ***`),u(nt=>{const It=nt+rt;return console.log(`[GPS] Distance updated: ${nt.toFixed(3)}km -> ${It.toFixed(3)}km`),It}),Wr.current=Je,Dt.current.push(Je),kt.current=Date.now(),hr.current=Date.now(),Dn.current=0,mr.current=0;const ut=Date.now();Ve.current.push({distance:rt,time:it,timestamp:ut});const dt=ut-15e3;if(Ve.current=Ve.current.filter(nt=>nt.timestamp>dt),Ve.current.length>=2){const nt=Ve.current.reduce((st,Kt)=>st+Kt.distance,0),It=Ve.current.reduce((st,Kt)=>st+Kt.time,0);if(nt>.005&&It>2){const st=It/nt;if(st>120&&st<900){const In=Math.floor(st/60),tr=Math.floor(st%60);m(`${In}'${tr.toString().padStart(2,"0")}"`)}else m(null);const Kt=It/nt,Jt=l+rt,St=vi.current.time;dn.current.push({distanceKm:Jt,timeSeconds:St,paceSecondsPerKm:Kt});const en=St-90;if(dn.current=dn.current.filter(In=>In.timeSeconds>en),dn.current.length>=10){const In=dn.current[dn.current.length-1].timeSeconds,tr=dn.current.filter(Zn=>Zn.timeSeconds<In-30),Jr=dn.current.filter(Zn=>Zn.timeSeconds>=In-15);if(tr.length>=3&&Jr.length>=2){const Zn=tr.map(Tr=>Tr.paceSecondsPerKm).sort((Tr,Ln)=>Tr-Ln),jr=Jr.map(Tr=>Tr.paceSecondsPerKm).sort((Tr,Ln)=>Tr-Ln),En=Zn[Math.floor(Zn.length/2)],Mn=jr[Math.floor(jr.length/2)];Ki.current=En;const nr=En>0&&En<720&&Mn>=En*1.75&&Mn<900;if(nr&&!qr.current){qr.current=!0,Ht.current={distanceKm:Jt,timeSeconds:St,baselinePace:En},console.log(`[Weakness] Slowdown detected at ${Jt.toFixed(2)}km - pace ${(Mn/60).toFixed(1)} vs baseline ${(En/60).toFixed(1)} min/km`);const Tr=Date.now();if(tt&&ae&&Tr-Vn.current>6e4){Vn.current=Tr;const Ln=Yt,Pr=Ln?.fitnessLevel==="expert"||Ln?.fitnessLevel==="advanced"||Ln?.fitnessLevel==="intermediate",lr=Sn?.some(Cr=>Cr.type==="event"||Cr.type==="distance_time"),Ha=Ln?.dob?cs(Ln.dob):void 0,Vs=Ha&&Ha>55,hs=Sn?.some(Cr=>Cr.title?.toLowerCase().includes("weight"));let ca;if(Pr&&lr&&!Vs){const Cr=["I see you're slowing down. Dig deep! You've got the strength to push through this.","Come on, don't give in now! Find your rhythm and power through.","You're tougher than this moment. Reset your breathing and pick it up!","This is where champions are made. Push through the discomfort!"];ca=Cr[Math.floor(Math.random()*Cr.length)]}else if(hs||Vs||Ln?.fitnessLevel==="beginner"){const Cr=["I noticed you're slowing down. That's perfectly okay. Take a moment if you need it.","Listen to your body. It's okay to ease up when you need to.","You're doing great just being out here. Take it at your own pace.","Every step counts. There's no rush - find a comfortable rhythm."];ca=Cr[Math.floor(Math.random()*Cr.length)]}else{const Cr=["You're slowing a bit. Take a breath and ease back into your pace when ready.","I see the pace dropping. Focus on your form and breathing.","Finding it tough? That's okay. Steady yourself and build back up gradually."];ca=Cr[Math.floor(Math.random()*Cr.length)]}an(ca,{domain:"coach",force:!0}),_r({eventType:"weakness_detected",topic:"pace_drop",responseText:ca})}}else if(!nr&&qr.current&&Ht.current){const Tr=St-Ht.current.timeSeconds;if(Tr>=30){const Ln={startDistanceKm:Ht.current.distanceKm,endDistanceKm:Jt,durationSeconds:Tr,avgPaceBefore:Ht.current.baselinePace,avgPaceDuring:Mn,dropPercent:(Mn-Ht.current.baselinePace)/Ht.current.baselinePace*100};vn(Pr=>[...Pr,Ln]),console.log(`[Weakness] Recorded: ${Ln.startDistanceKm.toFixed(2)}-${Ln.endDistanceKm.toFixed(2)}km, ${Tr}s, ${Ln.dropPercent.toFixed(0)}% drop`)}qr.current=!1,Ht.current=null}}}}else m(null)}else m(null)},Ee=le=>{switch(console.error("[GPS] Error:",le.code,le.message),le.code){case le.PERMISSION_DENIED:K("error"),g("Please enable location access");break;case le.POSITION_UNAVAILABLE:console.log("[GPS] Position unavailable, waiting for retry..."),g("GPS signal weak - reconnecting...");break;case le.TIMEOUT:Dn.current++,console.log(`[GPS] Timeout ${Dn.current} - watchPosition will retry`),g("GPS signal weak - reconnecting...");break}};return console.log("[GPS] Starting watchPosition"),or.current=navigator.geolocation.watchPosition(te,Ee,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),()=>{or.current!==null&&(console.log("[GPS] Stopping watchPosition"),navigator.geolocation.clearWatch(or.current))}},[fe,Q]),v.useEffect(()=>{const te=()=>{if(document.visibilityState==="visible"){console.log("[GPS] Page became visible, checking GPS status");const Ee=Date.now()-hr.current;Ee>1e4&&fe==="active"&&(console.log(`[GPS] Was hidden for ${Math.round(Ee/1e3)}s, triggering GPS refresh`),H(le=>le+1))}};return document.addEventListener("visibilitychange",te),()=>document.removeEventListener("visibilitychange",te)},[fe]);const Us=v.useRef(0);v.useEffect(()=>{const te=setInterval(()=>{const Ee=Date.now()-hr.current,le=Date.now()-Us.current;Ee>3e4&&fe!=="error"?(console.warn(`[GPS Watchdog] No fix for ${Math.round(Ee/1e3)}s - GPS may be stale`),Ee>6e4&&le>45e3?mr.current<5?(mr.current++,Us.current=Date.now(),console.log(`[GPS Watchdog] Attempting recovery via restart (attempt ${mr.current}/5)`),g(`Reconnecting GPS... (attempt ${mr.current})`),H(we=>we+1)):g("GPS signal lost - try moving to open area"):g("GPS signal weak - keep phone visible")):Ee<1e4&&fe==="active"&&(mr.current>0&&(console.log("[GPS Watchdog] GPS recovered successfully after restart"),mr.current=0),g(""))},1e4);return()=>clearInterval(te)},[fe]),v.useEffect(()=>{if(!n)return;const te=setInterval(()=>{if(_n.current&&sn.current>0){const Ee=Date.now()-sn.current;Ee>45e3&&(console.warn(`[Speech Watchdog] Queue stuck for ${Math.round(Ee/1e3)}s - forcing recovery`),_n.current=!1,sn.current=0,Rn.current.length>0&&(console.log("[Speech Watchdog] Processing next item in queue"),setTimeout(()=>qt(),100)))}},15e3);return()=>clearInterval(te)},[n,qt]),v.useEffect(()=>{if(console.log("[Pre-Run Summary] Checking conditions:",{gpsStatus:fe,hasPosition:!!re,announcementMade:dr.current,isResuming:Ri}),fe!=="active"||!re||dr.current)return;if(Ri){dr.current=!0,an("Welcome back! Resuming your run.",{domain:"system"});return}dr.current=!0,console.log("[Pre-Run Summary] Generating pre-run summary...");const te=yn.current,Ee=parseFloat(te.targetDistance),le=()=>{console.log("[Pre-Run Summary] Using fallback announcement"),moe(re.lat,re.lng,G,te.targetDistance).then(Pe=>{const De=Pe+" Tap Start Run when you're ready.";an(De,{domain:"coach"})})};if(!isFinite(Ee)||Ee<=0){console.log("[Pre-Run Summary] Invalid target distance, using fallback"),le();return}(async()=>{try{const Pe=X?.turnInstructions?.[0],De={routeName:X?.routeName||te.routeName||"Your route",targetDistance:Ee,targetTimeSeconds:te.targetTimeSeconds,difficulty:X?.difficulty||te.levelId||"moderate",elevationGain:X?.elevation?.gain,elevationLoss:X?.elevation?.loss,elevationProfile:X?.elevation?.profile,terrainType:void 0,weather:Xt?{temperature:Xt.temperature,humidity:Xt.humidity,windSpeed:Xt.windSpeed,conditions:Xt.condition}:void 0,coachName:Yt?.coachName,userName:Yt?.name,includeAiConfig:!0,firstTurnInstruction:Pe?{instruction:Pe.instruction,maneuver:Pe.maneuver,distance:Pe.distance}:void 0};console.log("[Pre-Run Summary] Calling API with:",{routeName:De.routeName,targetDistance:De.targetDistance,difficulty:De.difficulty,elevationGain:De.elevationGain,elevationLoss:De.elevationLoss,hasElevationProfile:!!De.elevationProfile?.length,hasWeather:!!De.weather,firstTurnInstruction:De.firstTurnInstruction});const $e=new AbortController,He=setTimeout(()=>$e.abort(),2e4),Qe=await fetch("/api/ai/run-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(De),signal:$e.signal});if(clearTimeout(He),Qe.ok){const Je=await Qe.json();if(console.log("[Pre-Run Summary] Got summary, length:",Je.summary?.length||0),Je.summary&&typeof Je.summary=="string"){const We=Je.summary+" When you're ready, tap the Start Run button to begin your session.";an(We,{domain:"coach"});return}}else console.error("[Pre-Run Summary] API error:",Qe.status,await Qe.text().catch(()=>"unknown"));le()}catch(Pe){console.warn("[Pre-Run Summary] Generation failed:",Pe?.message||Pe),le()}})()},[fe,re,G,Ri,an,X,Xt,$t,Yt]),v.useEffect(()=>{if(!n||!re||G.length<2)return;const te=Date.now(),le=te-kt.current<15e3;let we=de,Pe=1/0;const De=Math.max(0,de-10),$e=Math.min(G.length,de+150);for(let We=De;We<$e;We++){const rt=G[We],et=Xi(re.lat,re.lng,rt.lat,rt.lng);et<Pe&&(Pe=et,we=We)}if(we!==de&&(we>=de||Pe<.08)&&(q(we),console.log(`Waypoint updated: ${we}/${G.length}, distance: ${(Pe*1e3).toFixed(0)}m, direction: ${we>=de?"forward":"backward"}`)),te-Ae<8e3)return;if(!le){console.log("Skipping navigation - runner is stationary");return}const He=G[G.length-1],Qe=Xi(re.lat,re.lng,He.lat,He.lng),Je=we/G.length;if(Qe<.05&&Je>.85&&!Ua.current){Ua.current=!0,an("You're approaching the finish. Let's push to the end. Great job!",{domain:"coach"}),g("Almost there! Finish strong!"),ke(te),_(te);return}if(Pe>.15){const We=G[we],rt=Math.round(Pe*1e3);z_(We.lat,We.lng).then(et=>{const it=et?`You're ${rt} meters off route. Head towards ${et} to get back on track.`:`You're ${rt} meters off route. Check your map to get back on track.`;an(it,{domain:"nav"}),g(it),ke(Date.now()),_(Date.now())});return}if(X?.turnInstructions&&X.turnInstructions.length>0){const We=X.turnInstructions,rt=l;(()=>{const Ke=Hr.current;if(Ke>=We.length)return;const ut=We[Ke],dt=Xi(re.lat,re.lng,ut.startLat,ut.startLng)*1e3;if(!(dt>80||Xe.current>=2&&dt>50||V.current&&dt>60))return;const It=5,st=We.length,Kt=parseFloat(yn.current.targetDistance||"0"),St=(Kt>0?rt/Kt*100:0)<60?3:1,en=st-St,In=Dt.current;let tr=null;if(In.length>=3){const En=In.slice(-5);if(En.length>=2){const Mn=En[0],Nr=En[En.length-1],nr=(Nr.lng-Mn.lng)*Math.PI/180,Tr=Mn.lat*Math.PI/180,Ln=Nr.lat*Math.PI/180,Pr=Math.sin(nr)*Math.cos(Ln),lr=Math.cos(Tr)*Math.sin(Ln)-Math.sin(Tr)*Math.cos(Ln)*Math.cos(nr);tr=Math.atan2(Pr,lr)*180/Math.PI,tr<0&&(tr+=360)}}let Jr=Ke,Zn=dt;const jr=Math.min(Ke+It,en);for(let En=Ke+1;En<=jr&&En<We.length;En++){const Mn=We[En],Nr=(Mn.maneuver||"").toLowerCase(),nr=(Mn.instruction||"").toLowerCase(),Tr=Nr.includes("turn")||Nr.includes("left")||Nr.includes("right")||nr.includes("turn left")||nr.includes("turn right"),Ln=Nr.includes("roundabout")||Nr.includes("merge")||nr.includes("roundabout"),Pr=(Nr==="straight"||Nr==="")&&!nr.includes("turn")&&!nr.includes("left")&&!nr.includes("right")&&Mn.distance<=10;if(!Tr&&!Ln&&Pr)continue;const lr=Xi(re.lat,re.lng,Mn.startLat,Mn.startLng)*1e3;if(tr!==null&&lr>30){const Ha=(Mn.startLng-re.lng)*Math.PI/180,Vs=re.lat*Math.PI/180,hs=Mn.startLat*Math.PI/180,ca=Math.sin(Ha)*Math.cos(hs),Cr=Math.cos(Vs)*Math.sin(hs)-Math.sin(Vs)*Math.cos(hs)*Math.cos(Ha);let Hs=Math.atan2(ca,Cr)*180/Math.PI;Hs<0&&(Hs+=360);let si=Math.abs(tr-Hs);if(si>180&&(si=360-si),si>90){console.log(`[Nav Recal] Skip idx ${En}: runner heading ${tr.toFixed(0)}, waypoint at ${Hs.toFixed(0)} (diff: ${si.toFixed(0)})`);continue}}lr<Zn-25&&lr<150&&(Jr=En,Zn=lr,console.log(`[Nav Recal] Found closer turn at idx ${En}: ${lr.toFixed(0)}m (vs current ${dt.toFixed(0)}m)`))}if(Jr>Ke){const En=Jr-Ke;console.log(`[Nav Recal] RECALIBRATING: Jumping from idx ${Ke} to ${Jr} (skipping ${En}, max allowed: ${It}) - ${We[Jr].instruction}`),Hr.current=Jr,V.current=!1,se.current=!1,Oe.current=0,Ue.current=0,Xe.current=0,lt.current=0}})();let it=Hr.current,ht=null;for(;it<We.length;){const Ke=We[it],ut=(Ke.maneuver||"").toLowerCase(),dt=(Ke.instruction||"").toLowerCase(),nt=ut.includes("turn")||ut.includes("left")||ut.includes("right")||dt.includes("turn left")||dt.includes("turn right"),It=ut.includes("roundabout")||ut.includes("merge")||ut.includes("ramp")||dt.includes("roundabout")||dt.includes("enter")||dt.includes("exit"),st=(ut==="straight"||ut==="")&&!dt.includes("turn")&&!dt.includes("left")&&!dt.includes("right")&&Ke.distance<=10;if(nt||It||!st){ht=Ke,console.log(`[Nav] Found instruction at idx ${it}: "${Ke.instruction}" (maneuver: ${ut||"none"}, dist: ${Ke.distance}m)`);break}it++}if(it!==Hr.current&&(Hr.current=it,V.current=!1,se.current=!1,Oe.current=0,Ue.current=0),ht&&it<We.length){const Ke=Xi(re.lat,re.lng,ht.startLat,ht.startLng)*1e3;if(se.current){let ut=it+1,dt=null;for(;ut<We.length;){const It=We[ut],st=(It.maneuver||"").toLowerCase(),Kt=(It.instruction||"").toLowerCase(),Jt=st.includes("turn")||st.includes("left")||st.includes("right")||Kt.includes("turn left")||Kt.includes("turn right"),St=st.includes("roundabout")||st.includes("merge")||Kt.includes("roundabout"),en=(st==="straight"||st==="")&&!Kt.includes("turn")&&!Kt.includes("left")&&!Kt.includes("right")&&It.distance<=10;if(Jt||St||!en){dt=It;break}ut++}let nt=!1;if(dt){const It=Xi(re.lat,re.lng,dt.startLat,dt.startLng)*1e3;It<Ke&&(nt=!0,console.log(`[Nav] Closer to next turn (${It.toFixed(0)}m vs ${Ke.toFixed(0)}m)`))}if(!nt&&Oe.current>0){const It=(rt-Oe.current)*1e3;It>25&&(nt=!0,console.log(`[Nav] Traveled ${It.toFixed(0)}m since reach`))}lt.current>0&&Ke>lt.current+5?(Xe.current++,(Xe.current>=3||Ke>120)&&(nt=!0,console.log(`[Nav] Auto-advance: distance increasing for ${Xe.current} samples (${Ke.toFixed(0)}m)`))):Xe.current=0,lt.current=Ke,nt&&(console.log(`[Nav] Advancing past turn ${it}: ${ht.instruction}`),Hr.current=it+1,V.current=!1,se.current=!1,Oe.current=0,Ue.current=0,Xe.current=0,lt.current=0)}for(Ke<=45&&Oe.current===0&&(Oe.current=rt,Ue.current=Ke,console.log(`[Nav] Reached turn ${it} at ${rt.toFixed(3)}km, distance ${Ke.toFixed(0)}m`)),Oe.current>0&&Ke<(Ue.current||1/0)&&(Ue.current=Ke),Oe.current>0&&Ue.current&&Ue.current<45&&Ke>Ue.current+40&&(console.log(`[Nav] Passed turn ${it}: closest ${Ue.current.toFixed(0)}m, now ${Ke.toFixed(0)}m`),Hr.current=it+1,V.current=!1,se.current=!1,Oe.current=0,Ue.current=0,Xe.current=0,lt.current=0),it=Hr.current,ht=null;it<We.length;){const ut=We[it],dt=(ut.maneuver||"").toLowerCase(),nt=(ut.instruction||"").toLowerCase(),It=dt.includes("turn")||dt.includes("left")||dt.includes("right")||nt.includes("turn left")||nt.includes("turn right"),st=dt.includes("roundabout")||dt.includes("merge")||nt.includes("roundabout"),Kt=(dt==="straight"||dt==="")&&!nt.includes("turn")&&!nt.includes("left")&&!nt.includes("right")&&ut.distance<=10;if(It||st||!Kt){ht=ut;break}it++}if(ht&&it<We.length){const ut=Xi(re.lat,re.lng,ht.startLat,ht.startLng)*1e3,dt=150,nt=[ht];let It=ht;for(let Kt=it+1;Kt<We.length;Kt++){const Jt=We[Kt],St=(Jt.maneuver||"").toLowerCase(),en=(Jt.instruction||"").toLowerCase(),In=St.includes("turn")||St.includes("left")||St.includes("right")||en.includes("turn left")||en.includes("turn right"),tr=St.includes("roundabout")||St.includes("merge")||en.includes("roundabout");if(!In&&!tr)continue;const Jr=Xi(It.startLat,It.startLng,Jt.startLat,Jt.startLng)*1e3;if(Jr<=dt)nt.push(Jt),It=Jt,console.log(`[Nav Group] Adding turn at idx ${Kt} (${Jr.toFixed(0)}m from previous): ${Jt.instruction}`);else break;if(nt.length>=4)break}let st=ht.instruction;if(nt.length>1&&(st=nt.map((Jt,St)=>{if(St===0)return Jt.instruction;const en=nt[St-1],In=Xi(en.startLat,en.startLng,Jt.startLat,Jt.startLng)*1e3;return`then ${In<50?"immediately":`in ${Math.round(In)} meters`} ${Jt.instruction.toLowerCase().replace(/^(turn|bear) /,"")}`}).join(", "),console.log(`[Nav Group] Combined ${nt.length} turns: "${st}"`)),ut<=90&&ut>35&&!V.current){const Jt=`In ${Math.round(ut)} meters, ${st}`;V.current=!0,an(Jt,{domain:"nav"}),g(st),D(Jt),ke(Date.now()),_(Date.now())}else ut<=35&&!se.current&&(se.current=!0,an(st,{domain:"nav"}),g(st),D(null),ke(te),_(te))}}}else{Math.min(Math.max(20,Math.floor(G.length*.03)),60);for(let We=we+2;We<Math.min(we+150,G.length-2);We++){const rt=G[We],et=G[Math.max(0,We-1)],it=G[Math.min(G.length-1,We+1)],ht=Xk(et,rt,it);if(Math.abs(ht)>25){const dt=Xi(re.lat,re.lng,rt.lat,rt.lng)*1e3;if(dt<=30&&dt>5){if(Oi.current===We)break;let nt="";if(ht>70?nt="Turn right":ht>20?nt="Bear right":ht<-70?nt="Turn left":ht<-20&&(nt="Bear left"),nt){const st=`In ${Math.round(dt)} meters, ${nt.toLowerCase()}`;Oi.current=We,an(st,{domain:"nav"}),g(nt),D(st),ke(Date.now()),_(Date.now())}break}else if(dt<=5){if(Oi.current!==We+1e3){let nt=ht>0?"Turn right now":"Turn left now";Oi.current=We+1e3,an(nt,{domain:"nav"}),g(nt),D(null),ke(te),_(te)}break}break}}}},[n,re,G,de,Ae,an,X?.turnInstructions]),v.useEffect(()=>{if(!re||G.length<3)return;if(X?.turnInstructions&&X.turnInstructions.length>0){const Pe=X.turnInstructions;let De=Hr.current;for(;De<Pe.length;){const $e=Pe[De];if($e.maneuver&&$e.maneuver!=="straight")break;De++}if(De<Pe.length){const $e=Pe[De],He=Xi(re.lat,re.lng,$e.startLat,$e.startLng)*1e3;if(He<=200&&He>5){const Qe=Math.round(He);D(`In ${Qe}m: ${$e.instruction}`);return}}D(null);return}let te=0,Ee=1/0;for(let Pe=0;Pe<G.length;Pe++){const De=Xi(re.lat,re.lng,G[Pe].lat,G[Pe].lng);De<Ee&&(Ee=De,te=Pe)}const le=Math.min(te+80,G.length-2);let we=!1;for(let Pe=te+1;Pe<le;Pe++){const De=G[Math.max(0,Pe-1)],$e=G[Pe],He=G[Math.min(G.length-1,Pe+1)],Qe=Xk(De,$e,He);if(Math.abs(Qe)>25){const We=Xi(re.lat,re.lng,$e.lat,$e.lng),rt=Math.round(We*1e3);if(rt<=200&&rt>10){let et="";Qe>70?et="Turn right":Qe>20?et="Bear right":Qe<-70?et="Turn left":Qe<-20&&(et="Bear left"),et&&(we=!0,D(`${et} in ${rt}m`))}else rt>200&&(we=!0,D(null));break}}we||D(null)},[re,G,X?.turnInstructions]),v.useEffect(()=>{if(!n)return;const te=setInterval(()=>{const Ee=Date.now(),le=Ee-N,we=Ee-b;if(le>45e3&&we>5e3&&fe==="active"){const Pe=parseFloat(yn.current.targetDistance)||null,De=Wk(l,Pe),$e=Gk(De,Zt);$e&&(An(He=>({...He,[$e.id]:(He[$e.id]||0)+1})),console.log(`[Predefined Coaching] Speaking: ${$e.id} (${De})`),g($e.text),an($e.text,{domain:"coach"}),S(Ee),_r({eventType:"phase_coaching",topic:`${De}_${$e.category}`,responseText:$e.text}))}},15e3);return()=>clearInterval(te)},[n,N,b,fe,an,l,Zt,_r]),v.useEffect(()=>{if(!n||!e){at.current===null&&e&&!n&&(at.current=Date.now(),console.log("[Timer] Paused at",new Date().toLocaleTimeString()));return}if(at.current!==null){const we=Date.now()-at.current;Ft.current+=we,console.log("[Timer] Resumed after",Math.round(we/1e3),"seconds pause"),at.current=null}const te=()=>{const Pe=Date.now()-ii.current-Ft.current,De=Math.max(0,Math.floor(Pe/1e3));o(De),vi.current.time=De};te();const Ee=setInterval(te,1e3),le=()=>{document.visibilityState==="visible"&&(console.log("[Timer] Page became visible, recalculating time"),te())};return document.addEventListener("visibilitychange",le),()=>{clearInterval(Ee),document.removeEventListener("visibilitychange",le)}},[n,e]);const wo=v.useCallback(()=>{if(Na.current)return;const te=yn.current,Ee=Dt.current,le=200;let we=[];if(Ee.length>0)if(Ee.length<=le)we=Ee.map($e=>({lat:$e.lat,lng:$e.lng,timestamp:$e.timestamp}));else{const $e=Math.ceil(Ee.length/le);for(let Qe=0;Qe<Ee.length;Qe+=$e){const Je=Ee[Qe];we.push({lat:Je.lat,lng:Je.lng,timestamp:Je.timestamp})}const He=Ee[Ee.length-1];we[we.length-1]?.timestamp!==He.timestamp&&we.push({lat:He.lat,lng:He.lng,timestamp:He.timestamp})}const Pe=pe.map(($e,He)=>{const Qe=He>0?pe[He-1]:0,Je=$e-Qe,We=Math.floor(Je/60),rt=Math.floor(Je%60);return{km:He+1,pace:`${We}:${rt.toString().padStart(2,"0")}`,paceSeconds:Je,cumulativeTime:$e}}),De={id:Sr.current,startTimestamp:ii.current,elapsedSeconds:i,pausedDurationMs:Ft.current,distanceKm:l,cadence:ie,routeId:X?.id||te.routeId,routeName:X?.routeName||te.routeName,routePolyline:X?.polyline||"",routeWaypoints:X?.waypoints||[],startLat:te.startLat,startLng:te.startLng,targetDistance:te.targetDistance,levelId:te.levelId,targetTimeSeconds:te.targetTimeSeconds,exerciseType:te.exerciseType,audioEnabled:ae,aiCoachEnabled:tt,kmSplits:pe,lastKmAnnounced:Me,status:n?"active":"paused",gpsTrackBackup:we,weatherData:Xt||void 0,paceData:Pe.length>0?Pe:void 0};Bae(De)},[n,i,l,ie,X,ae,tt,pe,Me,Xt]),Vl=v.useCallback(async()=>{if(!Na.current&&!(l<.1))try{const te=localStorage.getItem("userProfile"),Ee=te?JSON.parse(te).id:null;if(!Ee)return;const le=Dt.current.slice(-500).map(De=>({lat:De.lat,lng:De.lng,timestamp:De.timestamp})),we=l>.1?i/l:0;let Pe=null;if(we>0&&isFinite(we)){const De=Math.floor(we/60),$e=Math.floor(we%60);Pe=`${De}'${$e.toString().padStart(2,"0")}"`}await fetch("/api/live-sessions/sync",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionKey:Sr.current,userId:Ee,distanceKm:l,elapsedSeconds:i,currentPace:Pe,cadence:ie||null,difficulty:X?.difficulty||yn.current.levelId||"beginner",gpsTrack:le.length>0?le:[],kmSplits:pe.length>0?pe:[],routeId:X?.id||yn.current.routeId||null})})}catch(te){console.log("Background sync failed (will retry):",te)}},[l,i,ie,X,pe]);v.useEffect(()=>{const te=Ee=>{if(i>0||l>0)return Ee.preventDefault(),Ee.returnValue="You have an active run session. Are you sure you want to leave?",Ee.returnValue};return window.addEventListener("beforeunload",te),()=>{window.removeEventListener("beforeunload",te)}},[i,l]),v.useEffect(()=>{if(!n&&i===0)return;const te=setInterval(wo,5e3),Ee=setInterval(Vl,3e4),le=()=>{wo(),Vl()},we=()=>{document.visibilityState==="hidden"&&(wo(),Vl())};return window.addEventListener("beforeunload",le),document.addEventListener("visibilitychange",we),()=>{clearInterval(te),clearInterval(Ee),window.removeEventListener("beforeunload",le),document.removeEventListener("visibilitychange",we),wo()}},[n,i,wo,Vl]);const Jo=v.useCallback(async()=>{if(!("DeviceMotionEvent"in window)){Rt("unavailable");return}if(typeof DeviceMotionEvent.requestPermission=="function")try{await DeviceMotionEvent.requestPermission()==="granted"?(Rt("granted"),Se.success("Cadence tracking enabled")):(Rt("denied"),Se.error("Cadence tracking denied - tap footprints icon to retry"))}catch(te){console.error("Motion permission error:",te),Rt("denied"),Se.error("Cadence unavailable on this device")}else Rt("granted")},[]);v.useEffect(()=>{fe==="active"&&vt==="unknown"&&(typeof DeviceMotionEvent.requestPermission=="function"||Jo())},[fe,vt,Jo]),v.useEffect(()=>{if(!n||vt!=="granted")return;const te=Ee=>{const le=Ee.accelerationIncludingGravity;if(!le||le.z===null)return;const we=Math.sqrt((le.x||0)**2+(le.y||0)**2+(le.z||0)**2),Pe=12,De=200,$e=Date.now();if(we>Pe&&Ls.current<=Pe){const He=qi.current[qi.current.length-1]||0;if($e-He>De){qi.current.push($e),qi.current.length>30&&(qi.current=qi.current.slice(-30));const Qe=qi.current.filter(Je=>$e-Je<15e3);if(Qe.length>=3){const Je=(Qe[Qe.length-1]-Qe[0])/1e3/60;if(Je>0){const We=Math.round((Qe.length-1)/Je);ge(We)}}}}Ls.current=we};return window.addEventListener("devicemotion",te),()=>{window.removeEventListener("devicemotion",te)}},[n,vt]),v.useEffect(()=>{if(!n||fe!=="active")return;const te=Math.floor(l);if(te>Me&&te>0){console.log(`[Km Split] ${te}km reached! active=${n}, gpsStatus=${fe}, aiCoachEnabled=${tt}, audioEnabled=${ae}`),ve(te);const Ee=i;Ye(St=>[...St,Ee]);const le=pe.length>0?pe[pe.length-1]:0,we=Ee-le,Pe=Math.floor(we/60),De=Math.floor(we%60),$e=parseFloat(yn.current.targetDistance),He=$e-te,Qe=i/te,Je=Math.floor(Qe/60),We=Math.floor(Qe%60),rt=Math.floor(i/60),et=Math.floor(i%60),it=yn.current.targetTimeSeconds||0;let ht="";if(it>0&&$e>0){const St=it/$e,en=Math.floor(St/60),In=Math.floor(St%60);ht=`${en}:${In.toString().padStart(2,"0")}`}let Ke="";if(X?.elevation?.profile&&re){const St=X.elevation.profile;let en=0,In=1/0;for(let jr=0;jr<St.length;jr++){const En=re.lat-St[jr].lat,Mn=re.lng-St[jr].lng,Nr=En*En+Mn*Mn;Nr<In&&(In=Nr,en=jr)}const tr=St[en]?.distance||0,Jr=tr+1e3,Zn=St.filter(jr=>jr.distance>tr&&jr.distance<=Jr);if(Zn.length>0){const jr=Zn[0].elevation,En=Zn[Zn.length-1].elevation,Mn=Math.round(En-jr),Nr=Math.max(...Zn.map(nr=>Math.abs(nr.grade)));(Math.abs(Mn)>=15||Nr>=3)&&(Mn>=15?(Ke=`Next kilometer: climbing ${Mn} meters`,Nr>=5&&(Ke+=" with steep sections")):Mn<=-15?Ke=`Next kilometer: descending ${Math.abs(Mn)} meters`:Nr>=5?Ke="Next kilometer: undulating terrain with some hills":Nr>=3&&(Ke="Next kilometer: gentle rolling terrain"))}}const ut=parseFloat(yn.current.targetDistance)||null,dt=Wk(l,ut),nt=Gk(dt,Zt,!0),It=nt?.text||"Keep going, you're doing great!";nt&&An(St=>({...St,[nt.id]:(St[nt.id]||0)+1}));let st=`${te} kilometer${te>1?"s":""} complete. `;st+=`Total time: ${rt} minutes ${et} seconds. `,ht&&(st+=`Target pace: ${ht} per kilometer. `),st+=`Overall pace: ${Je}:${We.toString().padStart(2,"0")} per kilometer. `,st+=`Last km pace: ${Pe}:${De.toString().padStart(2,"0")} per kilometer. `,He>0&&(st+=`${He.toFixed(1)} kilometers to go. `),Ke&&(st+=`${Ke}. `);const Kt=G.length>0;let Jt=!1;if(Kt&&$e>0){const St=Math.max(1,Math.ceil($e*.1)),en=Math.ceil($e*.45),In=Math.ceil($e*.75);Jt=te===St||te===en||te===In}else Jt=te===1||te>1&&te%2===1;if(ie>0&&Jt){const St=gn?.coachingAdvice||hoe(ie);St&&(st+=`Cadence: ${ie} steps per minute. ${St} `)}st+=It,an(st,{domain:"coach"}),g(`${te}km - ${Pe}:${De.toString().padStart(2,"0")} split`),_(Date.now()),_r({eventType:"km_split",topic:"distance_milestone",responseText:st})}},[n,fe,l,Me,i,pe,ie,gn,an,G,_r,X,re]),v.useEffect(()=>{if(!n||fe!=="active"||Wt.current||l<.5)return;Wt.current=!0;const te=l>0?i/l:0,Ee=Math.floor(te/60),le=Math.floor(te%60),we=`${Ee}:${le.toString().padStart(2,"0")}`,Pe=yn.current,De=parseFloat(Pe.targetDistance||"0"),$e=Pe.targetTimeSeconds||0;let He=0;$e>0&&De>0&&(He=$e/De),(async()=>{const Je=Pe.routeId,We=Yt?.id;if((Je||He>0)&&tt)try{console.log(`[0.50km] Requesting dynamic AI coaching (routeId: ${Je}, target: ${He>0})`);const it=await fetch("/api/ai/dynamic-pace-coaching",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPaceSecondsPerKm:te,targetPaceSecondsPerKm:He>0?He:void 0,distanceCovered:l,totalDistance:De>0?De:void 0,elapsedTimeSeconds:i,routeId:Je,userId:We,coachTone:$t.tone||"motivational",coachName:Yt?.coachName||"AI Coach"})});if(it.ok){const ht=await it.json();console.log("[0.50km] AI coaching response:",ht.sustainabilityAssessment);let Ke=`Half kilometer complete. ${ht.primaryAdvice} `;return ht.terrainInsight&&(Ke+=`${ht.terrainInsight} `),Ke+=ht.motivation,Ke}}catch(it){console.log("[0.50km] Dynamic AI coaching failed, using fallback:",it)}let et=`Half kilometer complete. Your current pace is ${we} per kilometer. `;if(He>0){const it=Math.floor(He/60),ht=Math.floor(He%60),Ke=`${it}:${ht.toString().padStart(2,"0")}`,ut=te-He,dt=Math.abs(Math.round(ut));ut<-10?et+=`You're running ${dt} seconds faster than your target pace of ${Ke}. `:ut>15?et+=`You're ${dt} seconds behind your target pace of ${Ke}. `:et+=`You're right on track for your target pace of ${Ke}. `}else{if(Math.random()>.5&&We)try{const Ke=await(await fetch("/api/ai/historic-pace",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:We,targetDistance:De>0?De:void 0})})).json();if(Ke.avgPace&&Ke.avgPaceSeconds){const ut=te-Ke.avgPaceSeconds,dt=Math.abs(Math.round(ut));return ut<-15?et+=`You're ${dt} seconds faster than your average pace of ${Ke.avgPace}. Strong start! `:ut>15?et+=`You're ${dt} seconds slower than your usual ${Ke.avgPace} pace. `:et+=`Right on your usual pace of ${Ke.avgPace}. Consistent running! `,et}}catch{console.log("[0.50km] Historic pace fetch failed")}if(Yt?.dob)try{const ht=Math.floor((Date.now()-new Date(Yt.dob).getTime())/315576e5),ut=await(await fetch("/api/ai/demographic-pace",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({age:ht,fitnessLevel:Yt.fitnessLevel||"intermediate",targetDistance:De>0?De:void 0})})).json();if(ut.suggestedPace){const dt=te-ut.suggestedPaceSeconds;return dt<-15?et+=`Faster than suggested ${ut.suggestedPace} pace. Impressive! `:dt>15?et+=`Warming up nicely. Suggested pace is ${ut.suggestedPace}. `:et+="Perfect pace for your fitness level. ",et}}catch{console.log("[0.50km] Demographic pace fetch failed")}et+="Good early run pace. Stay relaxed and focused. "}return et})().then(Je=>{an(Je,{domain:"coach"}),g(`0.5km - Pace: ${we}/km`),_(Date.now()),_r({eventType:"pace_summary",topic:"half_km_update",responseText:Je})})},[n,fe,l,i,an,Yt,tt,$t,_r]),v.useEffect(()=>{const te=Date.now();if(te-kr.current<3e4)return;if(!n||fe!=="active"||ie<60){kr.current=te;return}if(Tn.current)return;const Ee=l>.05?i/60/l:0;if(Ee<=0||Ee>20){kr.current=te;return}const le=Yt?.height;if(!le){kr.current=te;return}const we=parseFloat(le.replace(/[^0-9.]/g,""));if(isNaN(we)||we<100||we>250){kr.current=te;return}Tn.current=!0,kr.current=te,fetch("/api/ai/analyze-cadence",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({heightCm:we,paceMinPerKm:Ee,cadenceSpm:ie,distanceKm:l,userFitnessLevel:Yt?.fitnessLevel,userAge:Yt?.dob?cs(Yt.dob):void 0})}).then(Pe=>Pe.ok?Pe.json():null).then(Pe=>{Pe&&Nn(Pe)}).catch(Pe=>console.error("Cadence analysis error:",Pe)).finally(()=>{Tn.current=!1})},[n,fe,ie,l,i,Yt]);const Ca=v.useRef(null),eu=v.useRef(ae),el=v.useRef({active:n,aiCoachEnabled:tt,gpsStatus:fe});v.useEffect(()=>{vi.current={time:i,distance:l}},[i,l]),v.useEffect(()=>{eu.current=ae},[ae]),v.useEffect(()=>{el.current={active:n,aiCoachEnabled:tt,gpsStatus:fe}},[n,tt,fe]);const tu=v.useCallback(async te=>{const{active:Ee,aiCoachEnabled:le}=el.current;if(!Ee||!le||!eu.current)return;if(fn.current&&!fn.current.ended&&!fn.current.paused){setTimeout(()=>tu(te),2e3);return}ds();const we=Hk($t),Pe=nv($t);try{const De=await fetch("/api/ai/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:te,tone:$t.tone,voice:we,speed:Pe.rate})});if(!De.ok)throw new Error("TTS failed");const $e=await De.blob(),He=URL.createObjectURL($e);ai.current=He;const Qe=new Audio(He);fn.current=Qe,Qe.onended=()=>{ai.current===He&&(URL.revokeObjectURL(He),ai.current=null)},await Qe.play()}catch(De){console.error("Coaching TTS error, using device fallback:",De),Qo(te)}},[$t,Qo,ds]),fs=v.useCallback(async te=>{const{active:Ee,aiCoachEnabled:le,gpsStatus:we}=el.current;if(!te&&(!Ee||!le||we!=="active"))return;const{time:Pe,distance:De}=vi.current;if(!(De<.1&&!te)){Rr(!0);try{const $e=De>0?Pe/De:0,He=Math.floor($e/60),Qe=Math.floor($e%60),Je=`${He}:${Qe.toString().padStart(2,"0")}`,We={beginner:"7:00",moderate:"5:30",expert:"4:30"},rt=yn.current;let et;X?.elevation?.profile&&re&&(et=Kk(re.lat,re.lng,De*1e3,X.elevation.profile,X.elevation.gain,X.elevation.loss));const it=$e;let ht;if(ot.current>0){const Kt=it-ot.current;Kt<-5?ht="faster":Kt>5?ht="slower":ht="steady"}ot.current=it;const Ke=parseFloat(rt.targetDistance),ut=Ke>0?Math.round(De/Ke*100):0,dt=Math.floor(De),nt=[],It=[25,50,75,90];for(const Kt of It)ut>=Kt&&Be.current<Kt&&(nt.push(`${Kt}% complete`),Be.current=Kt);const st=await fetch("/api/ai/coaching",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPace:Je,targetPace:We[rt.levelId]||"6:00",elapsedTime:Pe,distanceCovered:De,totalDistance:parseFloat(rt.targetDistance),difficulty:rt.levelId,userFitnessLevel:Yt?.fitnessLevel||"intermediate",targetTimeSeconds:rt.targetTimeSeconds>0?rt.targetTimeSeconds:void 0,userName:Yt?.name,userAge:Yt?.dob?cs(Yt.dob):void 0,userWeight:Yt?.weight,userHeight:Yt?.height,userGender:Yt?.gender,desiredFitnessLevel:Yt?.desiredFitnessLevel,coachName:Yt?.coachName,userMessage:te,coachPreferences:Dr||void 0,coachTone:$t.tone,terrain:et?{...et,previousGrade:rn.current??void 0}:void 0,recentCoachingTopics:he.current.slice(-5),paceChange:ht,currentKm:dt,progressPercent:ut,milestones:nt.length>0?nt:void 0,kmSplitTimes:pe,weather:Xt||void 0,goals:Sn.length>0?Sn:void 0,userId:Yt?.id,sessionKey:Sr.current,cadence:ie||void 0,exerciseType:yn.current.exerciseType||"running"})});if(st.ok){const{active:Kt,aiCoachEnabled:Jt}=el.current;if(!te&&(!Kt||!Jt))return;const St=await st.json();let en=St.message||"";if(St.paceAdvice&&St.paceAdvice!==St.message&&(en+=" "+St.paceAdvice),St.breathingTip&&(en+=" "+St.breathingTip),St.encouragement&&St.encouragement!==St.message&&(en+=" "+St.encouragement),en.trim()){const In=St.topic||(St.message?St.message.slice(0,50):"general");he.current=[...he.current.slice(-4),In],te?(console.log("User question - forcing speech response:",en.trim().substring(0,50)),an(en.trim(),{force:!0,domain:"coach"})):tu(en.trim()),g(St.message||"Coach says..."),_r({eventType:te?"user_question":"periodic_coaching",topic:In,responseText:en.trim(),prompt:te||void 0,latencyMs:St.latencyMs})}else te&&(console.warn("Coach returned empty response for user question"),an("I heard you. Let me think about that as we run.",{force:!0,domain:"coach"}))}else te&&(console.error("Coaching API error:",st.status),Se.error("Coach unavailable - try again shortly"),an("I'm having trouble connecting. Keep running, you're doing great!",{force:!0,domain:"system"}))}catch($e){console.error("AI coaching error:",$e),te&&(Se.error("Coach couldn't respond - please try again"),an("Sorry, I couldn't process that. Please try again.",{force:!0,domain:"system"}))}finally{Rr(!1)}}},[Yt,Dr,tu,an,X,re,Xt,pe,$t,Sn,_r]);v.useEffect(()=>{if(console.log("[Coaching Cycle] State check:",{active:n,aiCoachEnabled:tt,gpsStatus:fe}),!n||!tt||fe!=="active"){Ca.current&&(clearTimeout(Ca.current),Ca.current=null);return}console.log(`[Coaching Cycle] Starting coaching cycle, interval: ${Qt}s`);const te=()=>{const{active:le,aiCoachEnabled:we,gpsStatus:Pe}=el.current;if(console.log("[Coaching Cycle] Running cycle check:",{isActive:le,isEnabled:we,gps:Pe}),!le||!we||Pe!=="active"){console.log("[Coaching Cycle] Conditions not met, stopping"),Ca.current=null;return}console.log("[Coaching Cycle] Fetching coaching..."),fs(),Ca.current=setTimeout(te,Qt*1e3)},Ee=setTimeout(te,Qt*1e3);return()=>{clearTimeout(Ee),Ca.current&&(clearTimeout(Ca.current),Ca.current=null)}},[n,tt,fe,Qt,fs]),v.useEffect(()=>{ja.current=re},[re]),v.useEffect(()=>{if(!n||!tt||fe!=="active")return;const te=X?.elevation?.profile,Ee=X?.elevation?.gain,le=X?.elevation?.loss;if(!te||te.length<2)return;const we=setInterval(()=>{const{distance:Pe}=vi.current,De=ja.current;if(Pe<.1||!De)return;const $e=Kk(De.lat,De.lng,Pe*1e3,te,Ee,le),He=toe($e,yi.current,oa.current,Yn.current,rn.current,18e4);rn.current=$e?.currentGrade??null,He&&(console.log(`Terrain coaching triggered (${He}):`,$e),He==="uphill"?yi.current=Date.now():He==="downhill"?oa.current=Date.now():He==="hill_crest"&&(Yn.current=Date.now()),fs())},1e4);return()=>clearInterval(we)},[n,tt,fe,X?.elevation?.profile,X?.elevation?.gain,X?.elevation?.loss,fs]);const dh=v.useCallback(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){Se.error("Voice input not supported on this device");return}const te=window.webkitSpeechRecognition||window.SpeechRecognition,Ee=new te;Ee.continuous=!1,Ee.interimResults=!1,Ee.lang="en-US",Ee.onstart=()=>{br(!0),fn.current&&fn.current.pause(),window.speechSynthesis&&window.speechSynthesis.cancel()},Ee.onresult=le=>{const we=le.results[0][0].transcript;console.log("Voice input:",we);const Pe=we.toLowerCase();if(Pe.includes("don't talk")||Pe.includes("be quiet")||Pe.includes("silent mode")||Pe.includes("only when i ask")){const De="Only speak when the runner asks a question. Stay silent otherwise.";Ir(De),localStorage.setItem("coachPreferences",De),an("Got it. I'll only speak when you ask me something.",{domain:"system"}),Se.success("Coach set to silent mode")}else Pe.includes("talk to me")||Pe.includes("normal mode")||Pe.includes("coach me")||Pe.includes("give me feedback")?(Ir(""),localStorage.removeItem("coachPreferences"),an("Okay! I'll give you regular coaching updates.",{domain:"system"}),Se.success("Regular coaching enabled")):(console.log("[Voice Input] Sending to AI coach:",we),Se.info(`Asking coach: "${we.substring(0,40)}${we.length>40?"...":""}"`),fs(we).finally(()=>{console.log("[Voice Input] Coach response complete")}))},Ee.onerror=le=>{console.error("Speech recognition error:",le.error),br(!1),le.error==="not-allowed"&&Se.error("Microphone access denied")},Ee.onend=()=>{br(!1)},Gn.current=Ee,Ee.start()},[an,fs]),la=v.useCallback(()=>{Gn.current&&(Gn.current.stop(),br(!1))},[]),fh=async te=>{const Ee=te.friendId||te.name;if(ne.includes(Ee))W(le=>le.filter(we=>we!==Ee)),Se.info(`Stopped live sharing with ${te.name}`);else{if(!te.friendId){Se.error(`Unable to share with ${te.name} - missing user info`);return}const le=localStorage.getItem("userProfile"),we=le?JSON.parse(le).id:null;if(!we){Se.error("Please log in to share your run");return}try{const Pe=await fetch(`/api/live-sessions/${Sr.current}/invite-observer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({runnerId:we,friendId:te.friendId})});if(!Pe.ok){const De=await Pe.json();console.error("Failed to send invite:",De),Se.error(`Failed to invite ${te.name}`);return}W(De=>[...De,Ee]),Se.success(`Now sharing live location & route with ${te.name}!`)}catch(Pe){console.error("Failed to send live run invite notification:",Pe),Se.error(`Failed to invite ${te.name}`)}}},md=te=>{const Ee=Math.floor(te/60),le=te%60;return`${Ee}:${le.toString().padStart(2,"0")}`},Aa=()=>{if(l<.01)return"--:--";const te=i/l,Ee=Math.floor(te/60),le=Math.floor(te%60);return`${Ee}'${le.toString().padStart(2,"0")}"`},pd=async()=>{const te=new Date,Ee=`${te.getDate().toString().padStart(2,"0")}/${(te.getMonth()+1).toString().padStart(2,"0")}/${te.getFullYear()}`,le=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`,we=yn.current,Pe=`run_${Date.now()}`;console.log("[Save] runWeather at save time:",Xt);const De=pe.map((et,it)=>{const ht=it>0?pe[it-1]:0,Ke=et-ht,ut=Math.floor(Ke/60),dt=Math.floor(Ke%60);return{km:it+1,pace:`${ut}:${dt.toString().padStart(2,"0")}`,paceSeconds:Ke,cumulativeTime:et}});console.log("[Save] formattedKmSplits:",De);const $e=ooe(Dt.current,1e3),He={id:Pe,date:Ee,time:le,distance:l,totalTime:i,avgPace:Aa(),difficulty:we.levelId,lat:we.startLat,lng:we.startLng,routeName:we.routeName,routeId:we.routeId,eventId:we.eventId||void 0,gpsTrack:$e,avgCadence:ie,kmSplits:De,targetDistance:we.targetDistance,elevationGain:X?.elevation?.gain||0,elevationLoss:X?.elevation?.loss||0,weatherData:Xt||void 0,aiCoachEnabled:tt,dbSynced:!1,pendingSync:!0,sessionKey:Sr.current,detectedWeaknesses:xn};console.log("[Save] localRunData.weatherData:",He.weatherData),console.log("[Save] GPS points recorded:",Dt.current.length,"saved:",He.gpsTrack.length);const Qe=async(et,it=3)=>{for(let ht=1;ht<=it;ht++){try{console.log(`[Save] Attempt ${ht}/${it} to save run to database`);const Ke=await fetch("/api/runs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(et)});if(Ke.ok){const ut=await Ke.json();return console.log("[Save] Run saved to database successfully:",ut.id),{success:!0,savedRun:ut}}else{const ut=await Ke.text();if(console.error(`[Save] Attempt ${ht} failed with status:`,Ke.status,"Error:",ut),Ke.status>=400&&Ke.status<500)return{success:!1,error:ut}}}catch(Ke){console.error(`[Save] Attempt ${ht} network error:`,Ke)}if(ht<it){const Ke=Math.pow(2,ht-1)*1e3;console.log(`[Save] Waiting ${Ke}ms before retry...`),await new Promise(ut=>setTimeout(ut,Ke))}}return{success:!1,error:"All retry attempts failed"}},Je=localStorage.getItem("userProfile");if(Je)try{const et=JSON.parse(Je);if(et.id){const it=typeof l=="number"&&!isNaN(l)?l:0,ht=typeof i=="number"&&!isNaN(i)?Math.floor(i):0,Ke=we.routeId&&we.routeId.length>0?we.routeId:void 0,ut=typeof we.startLat=="number"&&!isNaN(we.startLat)?we.startLat:void 0,dt=typeof we.startLng=="number"&&!isNaN(we.startLng)?we.startLng:void 0,nt=we.eventId&&we.eventId.length>0?we.eventId:void 0,It={userId:et.id,routeId:Ke,eventId:nt,distance:it,duration:ht,runDate:Ee,runTime:le,avgPace:Aa(),cadence:ie&&ie>0?ie:void 0,elevation:X?.elevation?.gain||void 0,elevationGain:X?.elevation?.gain||void 0,elevationLoss:X?.elevation?.loss||void 0,difficulty:we.levelId||"moderate",startLat:ut,startLng:dt,gpsTrack:$e,paceData:De,weatherData:Xt||void 0,sessionKey:Sr.current,aiCoachEnabled:tt,targetTime:we.targetTimeSeconds>0?we.targetTimeSeconds:void 0};console.log("[Save] dbRunData:",JSON.stringify({userId:It.userId,distance:It.distance,duration:It.duration,routeId:It.routeId,difficulty:It.difficulty})),console.log("[Save] Attempting to save run to database for userId:",et.id);const st=await Qe(It,3);if(st.success&&st.savedRun){if(Se.success("Run saved to your account!"),xn.length>0)try{console.log("[Save] Saving",xn.length,"weakness events"),await fetch(`/api/runs/${st.savedRun.id}/weakness-events/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:xn})}),console.log("[Save] Weakness events saved successfully")}catch(en){console.error("[Save] Failed to save weakness events:",en)}try{console.log("[Save] Linking coaching logs to run:",st.savedRun.id,"session:",Sr.current),await fetch("/api/coaching-logs/link-to-run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionKey:Sr.current,runId:st.savedRun.id,userId:et.id})}),console.log("[Save] Coaching logs linked successfully")}catch(en){console.error("[Save] Failed to link coaching logs:",en)}const Kt={...He,id:st.savedRun.id,dbSynced:!0,pendingSync:!1},Jt=localStorage.getItem("runHistory"),St=Jt?JSON.parse(Jt):[];return St.push(Kt),localStorage.setItem("runHistory",JSON.stringify(St)),localStorage.removeItem("activeRoute"),st.savedRun.id}else console.error("[Save] All database save attempts failed:",st.error),Se.error("Run saved locally - will sync when connection improves",{duration:8e3}),Se.info("Your run data is safe. Go to Run History to manually sync later.",{duration:1e4})}}catch(et){console.error("[Save] Failed to save run to database, using localStorage:",et),Se.error("Network error - run saved locally. Sync from Run History later.",{duration:8e3})}const We=localStorage.getItem("runHistory"),rt=We?JSON.parse(We):[];return rt.push(He),localStorage.setItem("runHistory",JSON.stringify(rt)),localStorage.removeItem("activeRoute"),Pe},Hl=()=>{ii.current=Date.now(),Ft.current=0,at.current=null,Ve.current=[],Wt.current=!1,m(null),S(Date.now()),t(!0),r(!0),an("Let's go! Your run has started. Good luck!",{domain:"system"})},nu=()=>{wr(!0)},hh=()=>{n?sa(!0):(r(!0),an("Let's go! Run resumed.",{domain:"system"}))},gd=()=>{sa(!1),r(!1),m(null),Ve.current=[],an("Run paused. Take a breather.",{domain:"system"})},ru=async()=>{if(wr(!1),Na.current=!0,fn.current&&(fn.current.pause(),fn.current.src=""),"speechSynthesis"in window&&window.speechSynthesis.cancel(),I_(),i>0&&l>0){const te=await pd();if(Kr&&Yt?.name){const le=localStorage.getItem("userProfile"),we=le?JSON.parse(le).id:null;if(we)try{await fetch(`/api/group-runs/${Kr}/complete-run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:we,runId:te})})}catch(Pe){console.error("Failed to link run to group:",Pe)}}an("Run complete! Great job!",{domain:"system"});const Ee=Kr?`?groupRunId=${Kr}`:"";Z(`/history/${te}${Ee}`)}else Z("/")},iu=Ul.filter(te=>te.invitationStatus==="accepted"),au=Ul.filter(te=>te.invitationStatus==="pending"),su=async()=>{try{const te=localStorage.getItem("userProfile"),Ee=te?JSON.parse(te).id:null;if(!Ee){Se.error("User profile not found");return}const le=await fetch(`/api/group-runs/${Kr}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Ee})});if(!le.ok){const we=await le.json();Se.error(we.error||"Failed to start group run");return}xo(!1),r(!0),an("Group run started! Let's go!",{domain:"system"})}catch(te){console.error("Failed to start group run:",te),Se.error("Failed to start group run")}};return s.jsxs("div",{className:"h-screen w-full bg-background text-foreground flex flex-col relative overflow-hidden font-sans select-none",children:[s.jsx(Da,{children:Gi&&Wi&&s.jsx(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[70] flex items-center justify-center bg-background",children:s.jsxs("div",{className:"w-full max-w-md p-6 space-y-6 text-center",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ro,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-display font-bold uppercase tracking-wider text-primary",children:"Waiting Room"}),s.jsx("p",{className:"text-muted-foreground",children:ls?"Waiting for friends to join...":"Waiting for host to start..."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-card/50 border border-white/10 rounded-2xl p-4",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground mb-3",children:["Ready (",iu.length,")"]}),s.jsx("div",{className:"space-y-2",children:iu.map(te=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-500/10 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:s.jsx(Ms,{className:"w-4 h-4 text-green-400"})}),s.jsx("span",{className:"font-medium",children:te.userName}),te.role==="host"&&s.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:"Host"})]},te.id))})]}),au.length>0&&s.jsxs("div",{className:"bg-card/50 border border-white/10 rounded-2xl p-4",children:[s.jsxs("h3",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground mb-3",children:["Waiting (",au.length,")"]}),s.jsx("div",{className:"space-y-2",children:au.map(te=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-yellow-500/10 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500/20 flex items-center justify-center",children:s.jsx(YS,{className:"w-4 h-4 text-yellow-400 animate-spin"})}),s.jsx("span",{className:"font-medium text-muted-foreground",children:te.userName})]},te.id))})]})]}),s.jsx("div",{className:"pt-4",children:ls?s.jsxs(Re,{onClick:su,className:"w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-4 text-lg","data-testid":"button-start-group-run",children:[s.jsx(kc,{className:"w-5 h-5 mr-2"}),"Start Run (",iu.length," Ready)"]}):s.jsxs("div",{className:"flex items-center justify-center gap-3 p-4 bg-purple-500/10 rounded-2xl",children:[s.jsx(YS,{className:"w-5 h-5 text-purple-400 animate-spin"}),s.jsx("span",{className:"text-purple-400 font-medium",children:"Waiting for host to start..."})]})})]})})}),s.jsx(Da,{children:T&&s.jsx(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>C(!1),children:s.jsxs(At.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:te=>te.stopPropagation(),className:"w-full sm:max-w-md bg-card border border-white/10 rounded-3xl p-6 space-y-6 shadow-2xl",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-wider text-primary",children:"Live Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Allow friends to track your live location, route, and stats."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-widest",children:"Select Friends to Track Live"}),F.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-2",children:F.map((te,Ee)=>{const le=ne.includes(te.friendId||te.name);return s.jsxs("button",{onClick:()=>fh(te),className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${le?"bg-primary/10 border-primary/50 text-primary":"bg-white/5 border-white/5 text-muted-foreground hover:border-white/20"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${le?"bg-primary text-background":"bg-white/10"}`,children:s.jsx(ro,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-bold uppercase tracking-wide text-xs",children:te.name})]}),le?s.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold uppercase",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),"Live"]}):s.jsx("span",{className:"text-[10px] font-bold uppercase opacity-40",children:"Off"})]},Ee)})}):s.jsx("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5 text-center",children:s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Add friends in your profile to enable live tracking."})})]}),s.jsx(Re,{onClick:()=>C(!1),className:"w-full h-12 bg-white/5 border border-white/10 hover:bg-white/10 text-xs font-bold uppercase tracking-widest rounded-xl",children:"Done"})]})})}),s.jsxs("div",{className:"relative z-10 p-2 flex justify-between items-start",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:`backdrop-blur-md rounded-lg px-2 py-1 border flex items-center gap-1.5 ${fe==="active"?"bg-green-500/20 border-green-500/30":fe==="error"?"bg-red-500/20 border-red-500/30":"bg-yellow-500/20 border-yellow-500/30"}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${fe==="active"?"bg-green-500 animate-pulse":fe==="error"?"bg-red-500":"bg-yellow-500 animate-pulse"}`}),s.jsx("span",{className:"text-[10px] font-bold uppercase",children:fe==="active"?"GPS":fe==="error"?"!":"..."})]}),s.jsxs("div",{onClick:()=>Jn(!tt),className:`backdrop-blur-md rounded-lg px-2 py-1 border flex items-center gap-1.5 cursor-pointer transition-colors ${tt?"bg-blue-500/20 border-blue-500/30":"bg-white/10 border-white/10"}`,"data-testid":"button-ai-coach-toggle",children:[tt?s.jsx(aN,{className:"w-3 h-3 text-blue-400"}):s.jsx(tL,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:`text-[10px] font-bold uppercase ${tt?"text-blue-400":"text-muted-foreground"}`,children:["Coach ",tt?"On":"Off"]})]}),ne.length>0&&s.jsxs(At.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-primary/20 backdrop-blur-md rounded-lg px-2 py-1 border border-primary/30 flex items-center gap-1.5",children:[s.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-primary"})]}),s.jsx("span",{className:"text-[10px] font-display font-bold text-primary uppercase",children:"Live"})]}),Wi&&s.jsxs(At.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-purple-500/20 backdrop-blur-md rounded-lg px-2 py-1 border border-purple-500/30 flex items-center gap-1.5",children:[s.jsx(ro,{className:"w-3 h-3 text-purple-400"}),s.jsxs("span",{className:"text-[10px] font-display font-bold text-purple-400 uppercase",children:["Group (",Ul.length,")"]})]})]}),s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx(Re,{onClick:()=>be(!ae),size:"icon",className:`h-7 w-7 rounded-lg ${ae?"bg-primary text-background":"bg-white/10 text-muted-foreground"}`,"data-testid":"button-audio-toggle",children:ae?s.jsx(EY,{className:"w-3 h-3"}):s.jsx(kY,{className:"w-3 h-3"})}),s.jsx(Re,{onClick:Mi?la:dh,size:"icon",className:`h-7 w-7 rounded-lg ${Mi?"bg-red-500 text-white border border-red-400 animate-pulse":"bg-purple-500/20 text-purple-400 border border-purple-500/30"}`,"data-testid":"button-talk-to-coach",children:s.jsx(MG,{className:"w-3 h-3"})}),(vt==="unknown"||vt==="denied")&&typeof DeviceMotionEvent.requestPermission=="function"&&s.jsx(Re,{onClick:Jo,size:"icon",className:`h-7 w-7 rounded-lg ${vt==="denied"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,"data-testid":"button-enable-cadence",children:s.jsx(J4,{className:"w-3 h-3"})}),s.jsx(Re,{onClick:()=>C(!0),size:"icon",className:`h-7 w-7 rounded-lg ${ne.length>0?"bg-green-500 text-white border border-green-300":"bg-primary text-background hover:bg-primary/90"}`,children:s.jsx(XS,{className:"w-3 h-3"})})]})]}),s.jsxs("div",{className:"relative z-10 bg-card/40 backdrop-blur-xl border-b border-white/10 rounded-b-xl p-2 flex-shrink-0",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-1 mb-2 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground text-[12px] uppercase tracking-wider",children:"Time"}),s.jsx("div",{className:"text-base font-display font-bold",children:md(i)})]}),s.jsxs("div",{className:"border-x border-white/10",children:[s.jsx("div",{className:"text-muted-foreground text-[12px] uppercase tracking-wider",children:"Distance"}),s.jsx("div",{className:"text-base font-display font-bold",children:l.toFixed(2)}),s.jsx("div",{className:"text-[8px] text-muted-foreground",children:"km"})]}),s.jsxs("div",{className:"border-r border-white/10",children:[s.jsx("div",{className:"text-muted-foreground text-[12px] uppercase tracking-wider",children:h?"Pace":"Avg Pace"}),s.jsx("div",{className:"text-base font-display font-bold",children:h||Aa()}),s.jsx("div",{className:"text-[8px] text-muted-foreground",children:"/km"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground text-[12px] uppercase tracking-wider",children:"Cadence"}),s.jsx("div",{className:`text-base font-display font-bold ${ie>=60?gn?ie>=gn.idealCadenceMin&&ie<=gn.idealCadenceMax?"text-green-400":"text-yellow-400":ie>=165&&ie<=185?"text-green-400":"text-yellow-400":""}`,children:ie>=60?ie:"--"}),s.jsx("div",{className:"text-[8px] text-muted-foreground",children:gn?`ideal: ${gn.idealCadenceMin}-${gn.idealCadenceMax}`:"spm"})]})]}),s.jsx("div",{className:"flex items-center justify-center gap-2",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Re,{variant:"outline",size:"icon",className:"w-9 h-9 rounded-full border-white/10 hover:bg-white/10 hover:border-white/20",onClick:nu,"data-testid":"button-stop",children:s.jsx(dY,{className:"w-3 h-3 fill-foreground"})}),s.jsx(Re,{size:"icon",className:`w-12 h-12 rounded-full transition-transform active:scale-95 ${n?"bg-primary text-background hover:bg-primary/90 shadow-[0_0_20px_rgba(6,182,212,0.4)]":"bg-green-500 text-white hover:bg-green-600 shadow-[0_0_20px_rgba(34,197,94,0.4)]"}`,onClick:hh,"data-testid":"button-toggle-play",children:n?s.jsx(XE,{className:"w-4 h-4 fill-current"}):s.jsx(kc,{className:"w-4 h-4 fill-current ml-0.5"})})]}):s.jsxs(Re,{size:"lg",className:"h-14 px-10 rounded-full bg-green-500 text-white hover:bg-green-600 shadow-[0_0_30px_rgba(34,197,94,0.5)] font-display uppercase tracking-widest text-lg transition-transform active:scale-95",onClick:Hl,"data-testid":"button-start-run",children:[s.jsx(kc,{className:"w-5 h-5 mr-2 fill-current"}),"Start Run"]})})]}),G.length>0&&s.jsxs("div",{className:"relative z-10 bg-card/40 backdrop-blur-xl border-b border-white/10 mx-2 rounded-xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>E(!M),className:"w-full flex items-center justify-between p-2 hover:bg-white/5 transition-colors","data-testid":"button-toggle-nav-map",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(iN,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-xs font-display font-bold uppercase tracking-wide",children:M?"Hide Map":"Show Map"})]}),M?s.jsx(gx,{className:"w-4 h-4 text-muted-foreground"}):s.jsx(Uf,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx(Da,{children:M&&s.jsx(At.div,{initial:{height:0,opacity:0},animate:{height:200,opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"h-[200px] w-full relative",children:[s.jsxs(_T,{center:[re?.lat||G[0]?.lat||0,re?.lng||G[0]?.lng||0],zoom:15,style:{height:"100%",width:"100%"},zoomControl:!0,attributionControl:!1,children:[s.jsx(NT,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),G.length>1&&(()=>{const te=[],Ee=Math.min(G.length-1,50),le=Math.max(1,Math.floor((G.length-1)/Ee)),we=Math.floor(G.length/2),Pe=new Set,De=[];for(let Qe=0;Qe<Math.ceil(we/le);Qe++){const Je=Qe*le,We=Math.min(Je+le,G.length-1);if(We<=Je)continue;const rt=[G[Je],G[Math.floor((Je+We)/2)],G[We]],et=rv(G[Je].lat,G[Je].lng,G[We].lat,G[We].lng);De.push({segIdx:Qe,points:rt,bearing:et})}let $e=-1;for(let Qe=0;Qe<Ee;Qe++){const Je=Qe*le;if(Je<we)continue;const We=Math.min(Je+le,G.length-1);if(We<=Je)continue;const rt=[G[Je],G[Math.floor((Je+We)/2)],G[We]],et=rv(G[Je].lat,G[Je].lng,G[We].lat,G[We].lng);let it=!1;for(const ht of De){let Ke=!1;for(const nt of rt){for(const It of ht.points)if(doe(nt,It,35)){Ke=!0;break}if(Ke)break}if(!Ke)continue;const ut=Math.abs(et-ht.bearing);if((ut>180?360-ut:ut)>=130){it=!0;break}}it?($e===-1&&($e=Qe,Qe>0&&Pe.add(Qe-1)),Pe.add(Qe)):$e!==-1&&(Pe.add(Qe),$e=-1)}$e!==-1&&Pe.add(Ee-1);for(let Qe=0;Qe<Ee;Qe++){const Je=Qe*le,We=Je/(G.length-1),rt=Math.round(59+We*-25),et=Math.round(130+We*67),it=Math.round(246+We*-152),ht=`rgb(${rt},${et},${it})`,Ke=1-We*.5,ut=Math.min(Je+le,G.length-1);let dt=G.slice(Je,ut+1);const nt=Pe.has(Qe);if(nt&&Je>0){const It=rv(G[Math.max(0,Je-1)].lat,G[Math.max(0,Je-1)].lng,G[Je].lat,G[Je].lng);dt=dt.map(st=>foe(st.lat,st.lng,It,8))}te.push(s.jsx(jT,{positions:dt.map(It=>[It.lat,It.lng]),color:ht,weight:nt?3:5,opacity:nt?Ke*.6:Ke},`route-segment-${Qe}`))}const He=Math.max(15,Math.floor(G.length/10));for(let Qe=He;Qe<G.length-He;Qe+=He){const Je=G[Math.max(0,Qe-3)],We=G[Qe],rt=rv(Je.lat,Je.lng,We.lat,We.lng),et=Qe/(G.length-1),it=Math.round(59+et*-25),ht=Math.round(130+et*67),Ke=Math.round(246+et*-152),ut=`rgb(${it},${ht},${Ke})`;te.push(s.jsx(Rse,{position:[We.lat,We.lng],icon:uoe(rt,ut)},`arrow-${Qe}`))}return te})(),s.jsx(Bu,{center:[G[0]?.lat||0,G[0]?.lng||0],radius:8,pathOptions:{fillColor:"#3b82f6",fillOpacity:1,color:"#fff",weight:2}}),G.length>1&&s.jsx(Bu,{center:[G[G.length-1]?.lat||0,G[G.length-1]?.lng||0],radius:8,pathOptions:{fillColor:"#22c55e",fillOpacity:1,color:"#fff",weight:2}}),re&&s.jsx(Bu,{center:[re.lat,re.lng],radius:10,pathOptions:{fillColor:"#3b82f6",fillOpacity:1,color:"#fff",weight:3}}),s.jsx(loe,{position:re,enabled:k}),s.jsx(coe,{routePoints:G,enabled:!k})]}),s.jsx("button",{onClick:()=>R(!k),className:"absolute top-2 right-2 bg-card/90 backdrop-blur-md rounded-lg px-2 py-1 border border-white/20 z-[1000] text-[10px] font-medium","data-testid":"button-toggle-map-view",children:k?"Show Full Route":"Follow Me"}),I&&s.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-card/90 backdrop-blur-md rounded-lg p-2 border border-primary/30 z-[1000]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($G,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("p",{className:"text-xs text-foreground",children:I})]})})]})})})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative z-10 px-4",children:[s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsx("div",{className:`absolute inset-0 bg-primary/20 blur-3xl rounded-full transition-all duration-1000 ${n?"scale-110 opacity-100":"scale-90 opacity-50"}`}),s.jsx("img",{src:soe,className:"w-28 h-28 rounded-full border-2 border-primary/20 shadow-[0_0_30px_rgba(6,182,212,0.3)] object-cover relative z-10",alt:"AI Coach"}),s.jsx(Da,{children:p&&s.jsxs(At.div,{initial:{opacity:0,y:5,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-5,scale:.95},className:"mt-2 w-64 bg-card/80 backdrop-blur-xl border border-primary/30 px-3 py-2 rounded-xl text-center shadow-2xl relative z-20",children:[s.jsxs("p",{className:"text-primary font-medium text-xs leading-relaxed",children:['"',p,'"']}),Mt&&Mt>100&&s.jsx(Re,{variant:"outline",size:"sm",onClick:()=>_a(!0),className:"mt-1.5 text-[10px] h-6 px-3 border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10","data-testid":"button-gps-help-run",children:"GPS Help"})]})})]}),s.jsx("div",{className:"mt-2",children:s.jsx(bse,{isActive:n&&!!p})})]}),s.jsx(Lm,{open:wa,onOpenChange:wr,children:s.jsxs(jf,{className:"bg-card border-white/10 rounded-2xl max-w-sm",children:[s.jsxs(Nf,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-full bg-orange-500/20",children:s.jsx($u,{className:"w-5 h-5 text-orange-500"})}),s.jsx(Pf,{className:"text-lg font-display font-bold",children:"End Run?"})]}),s.jsx(Cf,{className:"text-muted-foreground text-sm",children:"Are you sure you want to end your run? Your progress will be saved, but you won't be able to resume this session."})]}),s.jsxs(Tf,{className:"flex gap-2 mt-4",children:[s.jsx(Af,{className:"flex-1 h-11 bg-white/5 border-white/10 hover:bg-white/10 text-foreground rounded-xl font-bold uppercase text-xs tracking-wider","data-testid":"button-cancel-exit",children:"Keep Running"}),s.jsx(zm,{onClick:ru,className:"flex-1 h-11 bg-red-500 hover:bg-red-600 text-white rounded-xl font-bold uppercase text-xs tracking-wider","data-testid":"button-confirm-exit",children:"End Run"})]})]})}),s.jsx(Lm,{open:Sa,onOpenChange:sa,children:s.jsxs(jf,{className:"bg-card border-white/10 rounded-2xl max-w-sm",children:[s.jsxs(Nf,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-full bg-yellow-500/20",children:s.jsx(XE,{className:"w-5 h-5 text-yellow-500"})}),s.jsx(Pf,{className:"text-lg font-display font-bold",children:"Pause Run?"})]}),s.jsx(Cf,{className:"text-muted-foreground text-sm",children:"Are you sure you want to pause your run? The timer will stop until you resume."})]}),s.jsxs(Tf,{className:"flex gap-2 mt-4",children:[s.jsx(Af,{className:"flex-1 h-11 bg-white/5 border-white/10 hover:bg-white/10 text-foreground rounded-xl font-bold uppercase text-xs tracking-wider","data-testid":"button-cancel-pause",children:"Keep Running"}),s.jsx(zm,{onClick:gd,className:"flex-1 h-11 bg-yellow-500 hover:bg-yellow-600 text-black rounded-xl font-bold uppercase text-xs tracking-wider","data-testid":"button-confirm-pause",children:"Pause Run"})]})]})}),s.jsx(use,{open:ki,onClose:()=>_a(!1),currentAccuracy:Mt})]})}function goe(e){const t=voe(e),n=v.forwardRef((r,i)=>{const{children:o,...l}=r,u=v.Children.toArray(o),h=u.find(xoe);if(h){const m=h.props.children,p=u.map(g=>g===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function voe(e){const t=v.forwardRef((n,r)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=woe(i),u=boe(o,i.props);return i.type!==v.Fragment&&(u.ref=r?kl(r,l):l),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yoe=Symbol("radix.slottable");function xoe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yoe}function boe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function woe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Soe=[" ","Enter","ArrowUp","ArrowDown"],_oe=[" ","Enter"],Zu="Select",[Ux,Vx,joe]=rp(Zu),[Jf]=ra(Zu,[joe,qf]),Hx=qf(),[Noe,Yc]=Jf(Zu),[Toe,Poe]=Jf(Zu),L$=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:h,dir:m,name:p,autoComplete:g,disabled:b,required:_,form:N}=e,S=Hx(t),[T,C]=v.useState(null),[M,E]=v.useState(null),[k,R]=v.useState(!1),I=Yf(m),[D,F]=co({prop:r,defaultProp:i??!1,onChange:o,caller:Zu}),[Y,ne]=co({prop:l,defaultProp:u,onChange:h,caller:Zu}),W=v.useRef(null),Z=T?N||!!T.closest("form"):!0,[re,ce]=v.useState(new Set),fe=Array.from(re).map(K=>K.props.value).join(";");return s.jsx(qL,{...S,children:s.jsxs(Noe,{required:_,scope:t,trigger:T,onTriggerChange:C,valueNode:M,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:ao(),value:Y,onValueChange:ne,open:D,onOpenChange:F,dir:I,triggerPointerDownPosRef:W,disabled:b,children:[s.jsx(Ux.Provider,{scope:t,children:s.jsx(Toe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(K=>{ce(Q=>new Set(Q).add(K))},[]),onNativeOptionRemove:v.useCallback(K=>{ce(Q=>{const H=new Set(Q);return H.delete(K),H})},[]),children:n})}),Z?s.jsxs(oF,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:g,value:Y,onChange:K=>ne(K.target.value),disabled:b,form:N,children:[Y===void 0?s.jsx("option",{value:""}):null,Array.from(re)]},fe):null]})})};L$.displayName=Zu;var z$="SelectTrigger",$$=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=Hx(n),l=Yc(z$,n),u=l.disabled||r,h=Gt(t,l.onTriggerChange),m=Vx(n),p=v.useRef("touch"),[g,b,_]=cF(S=>{const T=m().filter(E=>!E.disabled),C=T.find(E=>E.value===l.value),M=uF(T,S,C);M!==void 0&&l.onValueChange(M.value)}),N=S=>{u||(l.onOpenChange(!0),_()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return s.jsx(xN,{asChild:!0,...o,children:s.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":lF(l.value)?"":void 0,...i,ref:h,onClick:Ze(i.onClick,S=>{S.currentTarget.focus(),p.current!=="mouse"&&N(S)}),onPointerDown:Ze(i.onPointerDown,S=>{p.current=S.pointerType;const T=S.target;T.hasPointerCapture(S.pointerId)&&T.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(N(S),S.preventDefault())}),onKeyDown:Ze(i.onKeyDown,S=>{const T=g.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(T&&S.key===" ")&&Soe.includes(S.key)&&(N(),S.preventDefault())})})})});$$.displayName=z$;var F$="SelectValue",B$=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:l="",...u}=e,h=Yc(F$,n),{onValueNodeHasChildrenChange:m}=h,p=o!==void 0,g=Gt(t,h.onValueNodeChange);return Pi(()=>{m(p)},[m,p]),s.jsx(Pt.span,{...u,ref:g,style:{pointerEvents:"none"},children:lF(h.value)?s.jsx(s.Fragment,{children:l}):o})});B$.displayName=F$;var Coe="SelectIcon",U$=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Pt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});U$.displayName=Coe;var Aoe="SelectPortal",V$=e=>s.jsx(Bf,{asChild:!0,...e});V$.displayName=Aoe;var Xu="SelectContent",H$=v.forwardRef((e,t)=>{const n=Yc(Xu,e.__scopeSelect),[r,i]=v.useState();if(Pi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Vc.createPortal(s.jsx(q$,{scope:e.__scopeSelect,children:s.jsx(Ux.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(K$,{...e,ref:t})});H$.displayName=Xu;var Qs=10,[q$,Zc]=Jf(Xu),Eoe="SelectContentImpl",Moe=goe("SelectContent.RemoveScroll"),K$=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:h,align:m,alignOffset:p,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:N,hideWhenDetached:S,avoidCollisions:T,...C}=e,M=Yc(Xu,n),[E,k]=v.useState(null),[R,I]=v.useState(null),D=Gt(t,Ae=>k(Ae)),[F,Y]=v.useState(null),[ne,W]=v.useState(null),Z=Vx(n),[re,ce]=v.useState(!1),fe=v.useRef(!1);v.useEffect(()=>{if(E)return oT(E)},[E]),sT();const K=v.useCallback(Ae=>{const[ke,...ie]=Z().map(ve=>ve.ref.current),[ge]=ie.slice(-1),Me=document.activeElement;for(const ve of Ae)if(ve===Me||(ve?.scrollIntoView({block:"nearest"}),ve===ke&&R&&(R.scrollTop=0),ve===ge&&R&&(R.scrollTop=R.scrollHeight),ve?.focus(),document.activeElement!==Me))return},[Z,R]),Q=v.useCallback(()=>K([F,E]),[K,F,E]);v.useEffect(()=>{re&&Q()},[re,Q]);const{onOpenChange:H,triggerPointerDownPosRef:X}=M;v.useEffect(()=>{if(E){let Ae={x:0,y:0};const ke=ge=>{Ae={x:Math.abs(Math.round(ge.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(X.current?.y??0))}},ie=ge=>{Ae.x<=10&&Ae.y<=10?ge.preventDefault():E.contains(ge.target)||H(!1),document.removeEventListener("pointermove",ke),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",ie,{capture:!0})}}},[E,H,X]),v.useEffect(()=>{const Ae=()=>H(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[H]);const[$,G]=cF(Ae=>{const ke=Z().filter(Me=>!Me.disabled),ie=ke.find(Me=>Me.ref.current===document.activeElement),ge=uF(ke,Ae,ie);ge&&setTimeout(()=>ge.ref.current.focus())}),Ne=v.useCallback((Ae,ke,ie)=>{const ge=!fe.current&&!ie;(M.value!==void 0&&M.value===ke||ge)&&(Y(Ae),ge&&(fe.current=!0))},[M.value]),de=v.useCallback(()=>E?.focus(),[E]),q=v.useCallback((Ae,ke,ie)=>{const ge=!fe.current&&!ie;(M.value!==void 0&&M.value===ke||ge)&&W(Ae)},[M.value]),ae=r==="popper"?$_:W$,be=ae===$_?{side:u,sideOffset:h,align:m,alignOffset:p,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:N,hideWhenDetached:S,avoidCollisions:T}:{};return s.jsx(q$,{scope:n,content:E,viewport:R,onViewportChange:I,itemRefCallback:Ne,selectedItem:F,onItemLeave:de,itemTextRefCallback:q,focusSelectedItem:Q,selectedItemText:ne,position:r,isPositioned:re,searchRef:$,children:s.jsx(Rx,{as:Moe,allowPinchZoom:!0,children:s.jsx(kx,{asChild:!0,trapped:M.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:Ze(i,Ae=>{M.trigger?.focus({preventScroll:!0}),Ae.preventDefault()}),children:s.jsx(Ff,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:s.jsx(ae,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:Ae=>Ae.preventDefault(),...C,...be,onPlaced:()=>ce(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ze(C.onKeyDown,Ae=>{const ke=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!ke&&Ae.key.length===1&&G(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let ge=Z().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const Me=Ae.target,ve=ge.indexOf(Me);ge=ge.slice(ve+1)}setTimeout(()=>K(ge)),Ae.preventDefault()}})})})})})})});K$.displayName=Eoe;var koe="SelectItemAlignedPosition",W$=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Yc(Xu,n),l=Zc(Xu,n),[u,h]=v.useState(null),[m,p]=v.useState(null),g=Gt(t,D=>p(D)),b=Vx(n),_=v.useRef(!1),N=v.useRef(!0),{viewport:S,selectedItem:T,selectedItemText:C,focusSelectedItem:M}=l,E=v.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&m&&S&&T&&C){const D=o.trigger.getBoundingClientRect(),F=m.getBoundingClientRect(),Y=o.valueNode.getBoundingClientRect(),ne=C.getBoundingClientRect();if(o.dir!=="rtl"){const Me=ne.left-F.left,ve=Y.left-Me,pe=D.left-ve,Ye=D.width+pe,vt=Math.max(Ye,F.width),Rt=window.innerWidth-Qs,Wt=dy(ve,[Qs,Math.max(Qs,Rt-vt)]);u.style.minWidth=Ye+"px",u.style.left=Wt+"px"}else{const Me=F.right-ne.right,ve=window.innerWidth-Y.right-Me,pe=window.innerWidth-D.right-ve,Ye=D.width+pe,vt=Math.max(Ye,F.width),Rt=window.innerWidth-Qs,Wt=dy(ve,[Qs,Math.max(Qs,Rt-vt)]);u.style.minWidth=Ye+"px",u.style.right=Wt+"px"}const W=b(),Z=window.innerHeight-Qs*2,re=S.scrollHeight,ce=window.getComputedStyle(m),fe=parseInt(ce.borderTopWidth,10),K=parseInt(ce.paddingTop,10),Q=parseInt(ce.borderBottomWidth,10),H=parseInt(ce.paddingBottom,10),X=fe+K+re+H+Q,$=Math.min(T.offsetHeight*5,X),G=window.getComputedStyle(S),Ne=parseInt(G.paddingTop,10),de=parseInt(G.paddingBottom,10),q=D.top+D.height/2-Qs,ae=Z-q,be=T.offsetHeight/2,Ae=T.offsetTop+be,ke=fe+K+Ae,ie=X-ke;if(ke<=q){const Me=W.length>0&&T===W[W.length-1].ref.current;u.style.bottom="0px";const ve=m.clientHeight-S.offsetTop-S.offsetHeight,pe=Math.max(ae,be+(Me?de:0)+ve+Q),Ye=ke+pe;u.style.height=Ye+"px"}else{const Me=W.length>0&&T===W[0].ref.current;u.style.top="0px";const pe=Math.max(q,fe+S.offsetTop+(Me?Ne:0)+be)+ie;u.style.height=pe+"px",S.scrollTop=ke-q+S.offsetTop}u.style.margin=`${Qs}px 0`,u.style.minHeight=$+"px",u.style.maxHeight=Z+"px",r?.(),requestAnimationFrame(()=>_.current=!0)}},[b,o.trigger,o.valueNode,u,m,S,T,C,o.dir,r]);Pi(()=>E(),[E]);const[k,R]=v.useState();Pi(()=>{m&&R(window.getComputedStyle(m).zIndex)},[m]);const I=v.useCallback(D=>{D&&N.current===!0&&(E(),M?.(),N.current=!1)},[E,M]);return s.jsx(Roe,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:I,children:s.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(Pt.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});W$.displayName=koe;var Ooe="SelectPopperPosition",$_=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Qs,...o}=e,l=Hx(n);return s.jsx(bN,{...l,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$_.displayName=Ooe;var[Roe,TT]=Jf(Xu,{}),F_="SelectViewport",G$=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=Zc(F_,n),l=TT(F_,n),u=Gt(t,o.onViewportChange),h=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Ux.Slot,{scope:n,children:s.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ze(i.onScroll,m=>{const p=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=l;if(b?.current&&g){const _=Math.abs(h.current-p.scrollTop);if(_>0){const N=window.innerHeight-Qs*2,S=parseFloat(g.style.minHeight),T=parseFloat(g.style.height),C=Math.max(S,T);if(C<N){const M=C+_,E=Math.min(N,M),k=M-E;g.style.height=E+"px",g.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,g.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});G$.displayName=F_;var Y$="SelectGroup",[Doe,Ioe]=Jf(Y$),Loe=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ao();return s.jsx(Doe,{scope:n,id:i,children:s.jsx(Pt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Loe.displayName=Y$;var Z$="SelectLabel",X$=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ioe(Z$,n);return s.jsx(Pt.div,{id:i.id,...r,ref:t})});X$.displayName=Z$;var my="SelectItem",[zoe,Q$]=Jf(my),J$=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...l}=e,u=Yc(my,n),h=Zc(my,n),m=u.value===r,[p,g]=v.useState(o??""),[b,_]=v.useState(!1),N=Gt(t,M=>h.itemRefCallback?.(M,r,i)),S=ao(),T=v.useRef("touch"),C=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(zoe,{scope:n,value:r,disabled:i,textId:S,isSelected:m,onItemTextChange:v.useCallback(M=>{g(E=>E||(M?.textContent??"").trim())},[]),children:s.jsx(Ux.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:s.jsx(Pt.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:N,onFocus:Ze(l.onFocus,()=>_(!0)),onBlur:Ze(l.onBlur,()=>_(!1)),onClick:Ze(l.onClick,()=>{T.current!=="mouse"&&C()}),onPointerUp:Ze(l.onPointerUp,()=>{T.current==="mouse"&&C()}),onPointerDown:Ze(l.onPointerDown,M=>{T.current=M.pointerType}),onPointerMove:Ze(l.onPointerMove,M=>{T.current=M.pointerType,i?h.onItemLeave?.():T.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(l.onPointerLeave,M=>{M.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Ze(l.onKeyDown,M=>{h.searchRef?.current!==""&&M.key===" "||(_oe.includes(M.key)&&C(),M.key===" "&&M.preventDefault())})})})})});J$.displayName=my;var hm="SelectItemText",eF=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,l=Yc(hm,n),u=Zc(hm,n),h=Q$(hm,n),m=Poe(hm,n),[p,g]=v.useState(null),b=Gt(t,C=>g(C),h.onItemTextChange,C=>u.itemTextRefCallback?.(C,h.value,h.disabled)),_=p?.textContent,N=v.useMemo(()=>s.jsx("option",{value:h.value,disabled:h.disabled,children:_},h.value),[h.disabled,h.value,_]),{onNativeOptionAdd:S,onNativeOptionRemove:T}=m;return Pi(()=>(S(N),()=>T(N)),[S,T,N]),s.jsxs(s.Fragment,{children:[s.jsx(Pt.span,{id:h.textId,...o,ref:b}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Vc.createPortal(o.children,l.valueNode):null]})});eF.displayName=hm;var tF="SelectItemIndicator",nF=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Q$(tF,n).isSelected?s.jsx(Pt.span,{"aria-hidden":!0,...r,ref:t}):null});nF.displayName=tF;var B_="SelectScrollUpButton",rF=v.forwardRef((e,t)=>{const n=Zc(B_,e.__scopeSelect),r=TT(B_,e.__scopeSelect),[i,o]=v.useState(!1),l=Gt(t,r.onScrollButtonChange);return Pi(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=h.scrollTop>0;o(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?s.jsx(aF,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});rF.displayName=B_;var U_="SelectScrollDownButton",iF=v.forwardRef((e,t)=>{const n=Zc(U_,e.__scopeSelect),r=TT(U_,e.__scopeSelect),[i,o]=v.useState(!1),l=Gt(t,r.onScrollButtonChange);return Pi(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<m;o(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?s.jsx(aF,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});iF.displayName=U_;var aF=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=Zc("SelectScrollButton",n),l=v.useRef(null),u=Vx(n),h=v.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return v.useEffect(()=>()=>h(),[h]),Pi(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),s.jsx(Pt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ze(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ze(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ze(i.onPointerLeave,()=>{h()})})}),$oe="SelectSeparator",sF=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Pt.div,{"aria-hidden":!0,...r,ref:t})});sF.displayName=$oe;var V_="SelectArrow",Foe=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Hx(n),o=Yc(V_,n),l=Zc(V_,n);return o.open&&l.position==="popper"?s.jsx(wN,{...i,...r,ref:t}):null});Foe.displayName=V_;var Boe="SelectBubbleInput",oF=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=v.useRef(null),o=Gt(r,i),l=Ex(t);return v.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&p){const g=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(g)}},[l,t]),s.jsx(Pt.select,{...n,style:{...C4,...n.style},ref:o,defaultValue:t})});oF.displayName=Boe;function lF(e){return e===""||e===void 0}function cF(e){const t=$a(e),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(l=>{const u=n.current+l;t(u),(function h(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[t]),o=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function uF(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=Uoe(e,Math.max(o,0));i.length===1&&(l=l.filter(m=>m!==n));const h=l.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function Uoe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Voe=L$,dF=$$,Hoe=B$,qoe=U$,Koe=V$,fF=H$,Woe=G$,hF=X$,mF=J$,Goe=eF,Yoe=nF,pF=rF,gF=iF,vF=sF;const Au=Voe,Eu=Hoe,jc=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(dF,{ref:r,className:Tt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(qoe,{asChild:!0,children:s.jsx(Uf,{className:"h-4 w-4 opacity-50"})})]}));jc.displayName=dF.displayName;const yF=v.forwardRef(({className:e,...t},n)=>s.jsx(pF,{ref:n,className:Tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gx,{className:"h-4 w-4"})}));yF.displayName=pF.displayName;const xF=v.forwardRef(({className:e,...t},n)=>s.jsx(gF,{ref:n,className:Tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Uf,{className:"h-4 w-4"})}));xF.displayName=gF.displayName;const Nc=v.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(Koe,{children:s.jsxs(fF,{ref:i,className:Tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(yF,{}),s.jsx(Woe,{className:Tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(xF,{})]})}));Nc.displayName=fF.displayName;const Zoe=v.forwardRef(({className:e,...t},n)=>s.jsx(hF,{ref:n,className:Tt("px-2 py-1.5 text-sm font-semibold",e),...t}));Zoe.displayName=hF.displayName;const Bn=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(mF,{ref:r,className:Tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Yoe,{children:s.jsx(Ms,{className:"h-4 w-4"})})}),s.jsx(Goe,{children:t})]}));Bn.displayName=mF.displayName;const Xoe=v.forwardRef(({className:e,...t},n)=>s.jsx(vF,{ref:n,className:Tt("-mx-1 my-1 h-px bg-muted",e),...t}));Xoe.displayName=vF.displayName;function Qoe(e){const t=Math.floor(e/60),n=Math.round(e%60);return`${t}:${n.toString().padStart(2,"0")}`}function iv({paceVsAvg:e,label:t,runCount:n}){if(e===null)return null;const r=e<0,i=Math.abs(e),o=Math.min(i*5,100);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:t}),s.jsxs("span",{className:"text-muted-foreground",children:[n," runs"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1 h-6 bg-white/5 rounded-lg overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-px h-full bg-white/20"})}),s.jsx(At.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:.5,delay:.1},className:`h-full ${r?"bg-green-500/60 ml-auto mr-[50%]":"bg-red-500/60 ml-[50%]"}`,style:{marginLeft:r?"auto":"50%",marginRight:r?"50%":"auto"}})]}),s.jsxs("span",{className:`text-xs font-medium text-right ${r?"text-green-400":"text-red-400"}`,children:[i.toFixed(1),"% ",r?"faster":"slower"]})]})]})}function Joe({condition:e}){const t=e.toLowerCase();return t.includes("rain")?s.jsx(WS,{className:"w-4 h-4 text-blue-400"}):t.includes("cloud")?s.jsx(Am,{className:"w-4 h-4 text-gray-400"}):s.jsx(oN,{className:"w-4 h-4 text-yellow-400"})}function ele({userId:e}){const{data:t,isLoading:n,error:r}=ta({queryKey:["weather-impact",e],queryFn:async()=>{const i=await fetch(`/api/users/${e}/weather-impact`);if(!i.ok)throw new Error("Failed to fetch weather impact data");return i.json()},enabled:!!e,staleTime:3e5});return n?s.jsx(wt,{className:"bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-6 flex items-center justify-center",children:[s.jsx(no,{className:"w-6 h-6 animate-spin text-blue-400"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Analyzing weather impact..."})]})}):r||!t?s.jsx(wt,{className:"bg-gradient-to-br from-gray-900/30 to-gray-800/30 border-white/10 backdrop-blur-sm",children:s.jsx(Et,{className:"p-6 text-center text-muted-foreground",children:"Unable to load weather impact analysis"})}):t.hasEnoughData?s.jsxs("div",{className:"space-y-4","data-testid":"weather-impact-analysis",children:[s.jsx(wt,{className:"bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:s.jsx(Wv,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Weather Impact Analysis"}),s.jsxs("div",{className:"text-lg font-display font-bold text-white",children:["Based on ",t.runsAnalyzed," runs"]})]})]}),t.insights&&(t.insights.bestCondition||t.insights.worstCondition)&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[t.insights.bestCondition&&s.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ns,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-[10px] text-green-400 uppercase tracking-wider",children:"Best Condition"})]}),s.jsx("div",{className:"text-sm font-medium text-white",children:t.insights.bestCondition.label}),t.insights.bestCondition.improvement&&s.jsxs("div",{className:"text-xs text-green-400 mt-1",children:[t.insights.bestCondition.improvement,"% faster"]})]}),t.insights.worstCondition&&s.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(lN,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-[10px] text-red-400 uppercase tracking-wider",children:"Toughest Condition"})]}),s.jsx("div",{className:"text-sm font-medium text-white",children:t.insights.worstCondition.label}),t.insights.worstCondition.slowdown&&s.jsxs("div",{className:"text-xs text-red-400 mt-1",children:[t.insights.worstCondition.slowdown,"% slower"]})]})]}),t.overallAvgPace&&s.jsxs("div",{className:"text-center py-2 border-t border-white/10",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Overall Average Pace: "}),s.jsxs("span",{className:"text-sm font-bold text-white",children:[Qoe(t.overallAvgPace)," /km"]})]})]})}),t.temperatureAnalysis&&t.temperatureAnalysis.length>0&&s.jsx(wt,{className:"bg-gradient-to-br from-orange-900/20 to-gray-900/30 border-orange-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(yY,{className:"w-4 h-4 text-orange-400"}),s.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Temperature"})]}),s.jsx("div",{className:"space-y-3",children:t.temperatureAnalysis.map(i=>s.jsx(iv,{paceVsAvg:i.paceVsAvg,label:i.label,runCount:i.runCount},i.range))})]})}),t.humidityAnalysis&&t.humidityAnalysis.length>0&&s.jsx(wt,{className:"bg-gradient-to-br from-cyan-900/20 to-gray-900/30 border-cyan-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(X4,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Humidity"})]}),s.jsx("div",{className:"space-y-3",children:t.humidityAnalysis.map(i=>s.jsx(iv,{paceVsAvg:i.paceVsAvg,label:i.label,runCount:i.runCount},i.range))})]})}),t.windAnalysis&&t.windAnalysis.length>0&&s.jsx(wt,{className:"bg-gradient-to-br from-gray-800/30 to-gray-900/30 border-gray-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(iL,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Wind"})]}),s.jsx("div",{className:"space-y-3",children:t.windAnalysis.map(i=>s.jsx(iv,{paceVsAvg:i.paceVsAvg,label:i.label,runCount:i.runCount},i.range))})]})}),t.conditionAnalysis&&t.conditionAnalysis.length>0&&s.jsx(wt,{className:"bg-gradient-to-br from-yellow-900/20 to-gray-900/30 border-yellow-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(oN,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Conditions"})]}),s.jsx("div",{className:"space-y-3",children:t.conditionAnalysis.map(i=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Joe,{condition:i.condition}),s.jsx("span",{className:"text-sm text-muted-foreground",children:i.condition})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.runCount," runs"]}),s.jsxs("span",{className:`text-sm font-medium ${i.paceVsAvg<0?"text-green-400":"text-red-400"}`,children:[Math.abs(i.paceVsAvg).toFixed(1),"% ",i.paceVsAvg<0?"faster":"slower"]})]})]},i.condition))})]})}),t.timeOfDayAnalysis&&t.timeOfDayAnalysis.length>0&&s.jsx(wt,{className:"bg-gradient-to-br from-purple-900/20 to-gray-900/30 border-purple-500/20 backdrop-blur-sm","data-testid":"card-time-of-day",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(vx,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Time of Day"})]}),s.jsx("div",{className:"space-y-3",children:t.timeOfDayAnalysis.map(i=>s.jsx("div",{"data-testid":`row-time-of-day-${i.range}`,children:s.jsx(iv,{paceVsAvg:i.paceVsAvg,label:i.label,runCount:i.runCount})},i.range))})]})})]}):s.jsx(wt,{className:"bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:s.jsx(Wv,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Weather Impact"}),s.jsx("div",{className:"text-lg font-display font-bold text-white",children:"Not Enough Data"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.message||"Complete more runs with weather data to see how conditions affect your performance."}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Runs analyzed: ",t.runsAnalyzed," (need at least 3)"]})]})})}function tle(){const[,e]=Vr(),[t,n]=v.useState([]),[r,i]=v.useState(!0),[o,l]=v.useState(null),[u,h]=v.useState(!1),[m,p]=v.useState(!1),[g,b]=v.useState(null),[_,N]=v.useState("last_7_days"),[S,T]=v.useState(""),[C,M]=v.useState(""),[E,k]=v.useState(!1),[R,I]=v.useState(!1),[D,F]=v.useState(null),[Y,ne]=v.useState(!1),[W,Z]=v.useState({name:"",country:"",city:"",eventType:"parkrun",description:"",scheduleType:"recurring",specificDate:"",recurrencePattern:"weekly",dayOfWeek:6,dayOfMonth:1}),re=q=>{if(!q)return null;const ae=q.split("/");return ae.length===3?new Date(parseInt(ae[2]),parseInt(ae[1])-1,parseInt(ae[0])):null},ce=v.useMemo(()=>{if(_==="all_time")return t;const q=new Date,ae=new Date(q.getFullYear(),q.getMonth(),q.getDate()),be=ae.getDay(),Ae=be===0?6:be-1;let ke,ie;switch(_){case"last_7_days":{ke=new Date(ae),ke.setDate(ae.getDate()-6),ie=new Date(ae),ie.setHours(23,59,59,999);break}case"this_week":{ke=new Date(ae),ke.setDate(ae.getDate()-Ae),ie=new Date(ke),ie.setDate(ke.getDate()+6),ie.setHours(23,59,59,999);break}case"last_week":{ke=new Date(ae),ke.setDate(ae.getDate()-Ae-7),ie=new Date(ke),ie.setDate(ke.getDate()+6),ie.setHours(23,59,59,999);break}case"this_month":{ke=new Date(q.getFullYear(),q.getMonth(),1),ie=new Date(q.getFullYear(),q.getMonth()+1,0,23,59,59,999);break}case"custom":{if(!S||!C)return t;ke=new Date(S),ie=new Date(C),ie.setHours(23,59,59,999);break}default:return t}return t.filter(ge=>{const Me=re(ge.date);return Me?Me>=ke&&Me<=ie:!1})},[t,_,S,C]),fe=async(q,ae)=>{if(ae.stopPropagation(),!o){Se.error("Please log in to sync runs");return}b(q.id);const be=q.id,Ae=async(ke,ie=3)=>{for(let ge=1;ge<=ie;ge++){try{console.log(`[ManualSync] Attempt ${ge}/${ie}`);const Me=await fetch("/api/runs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(Me.ok)return{success:!0,savedRun:await Me.json()};{const ve=await Me.text();return console.error(`[ManualSync] Attempt ${ge} failed. Status: ${Me.status}. Body:`,ve),{success:!1,error:`Status ${Me.status}: ${ve}`}}}catch(Me){console.error(`[ManualSync] Attempt ${ge} network error:`,Me)}if(ge<ie){const Me=Math.pow(2,ge-1)*1e3;await new Promise(ve=>setTimeout(ve,Me))}}return{success:!1,error:"All retry attempts failed"}};try{const ke=localStorage.getItem("runHistory"),ge=(ke?JSON.parse(ke):[]).find(he=>he.id===q.id)||q,Me=typeof ge.distance=="number"&&!isNaN(ge.distance)?ge.distance:0,ve=typeof ge.totalTime=="number"&&!isNaN(ge.totalTime)?Math.floor(ge.totalTime):0,pe=typeof ge.lat=="number"&&!isNaN(ge.lat)?ge.lat:void 0,Ye=typeof ge.lng=="number"&&!isNaN(ge.lng)?ge.lng:void 0,vt=ge.avgCadence||ge.cadence;let Rt;if(ge.routePolyline||ge.turnInstructions||ge.routeWaypoints&&ge.routeWaypoints.length>0)try{console.log("[ManualSync] Creating route record for local run");const he={userId:o,name:ge.routeName||`Run on ${ge.date}`,distance:Me,difficulty:ge.difficulty||"moderate",startLat:pe,startLng:Ye,waypoints:ge.routeWaypoints||[],polyline:ge.routePolyline||"",elevationGain:ge.elevationGain,elevationLoss:ge.elevationLoss,elevationProfile:ge.elevationProfile,turnInstructions:ge.turnInstructions,source:"synced_run",sourceRunId:q.id},Be=await fetch("/api/routes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)});Be.ok?(Rt=(await Be.json()).id,console.log("[ManualSync] Route created with ID:",Rt)):console.warn("[ManualSync] Failed to create route, proceeding without it")}catch(he){console.warn("[ManualSync] Route creation error, proceeding without it:",he)}const gn={userId:o,routeId:Rt,eventId:ge.eventId||void 0,distance:Me,duration:ve,runDate:ge.date,runTime:ge.time,avgPace:ge.avgPace,cadence:vt&&vt>0?vt:void 0,elevation:ge.elevationGain||void 0,elevationGain:ge.elevationGain||void 0,elevationLoss:ge.elevationLoss||void 0,difficulty:ge.difficulty||"moderate",startLat:pe,startLng:Ye,gpsTrack:ge.gpsTrack||[],paceData:ge.kmSplits||[],weatherData:ge.weatherData||void 0,sessionKey:ge.sessionKey||void 0,aiCoachEnabled:ge.aiCoachEnabled??!1};console.log("[ManualSync] dbRunData:",JSON.stringify({userId:gn.userId,distance:gn.distance,duration:gn.duration,routeId:gn.routeId,difficulty:gn.difficulty}));const Nn=ge.detectedWeaknesses||[],kr=ge.sessionKey,Tn=await Ae(gn,3);if(Tn.success&&Tn.savedRun){if(Nn.length>0)try{console.log("[ManualSync] Saving",Nn.length,"weakness events"),await fetch(`/api/runs/${Tn.savedRun.id}/weakness-events/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:Nn})})}catch(ot){console.error("[ManualSync] Failed to save weakness events:",ot)}if(kr)try{console.log("[ManualSync] Linking coaching logs to run:",Tn.savedRun.id),await fetch("/api/coaching-logs/link-to-run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionKey:kr,runId:Tn.savedRun.id,userId:o})})}catch(ot){console.error("[ManualSync] Failed to link coaching logs:",ot)}Se.success("Run synced to cloud!");const he=localStorage.getItem("runHistory");if(he){const Zt=JSON.parse(he).filter(An=>An.id!==be);Zt.push({...q,id:Tn.savedRun.id,dbSynced:!0,pendingSync:!1}),localStorage.setItem("runHistory",JSON.stringify(Zt))}i(!0);const Be=await fetch(`/api/users/${o}/runs`);if(Be.ok){const Zt=(await Be.json()).map(Qt=>({id:Qt.id,name:Qt.name,date:Qt.completedAt?new Date(Qt.completedAt).toLocaleDateString("en-GB"):"",time:Qt.completedAt?new Date(Qt.completedAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"",distance:Qt.distance,totalTime:Qt.duration,avgPace:Qt.avgPace||"",difficulty:Qt.difficulty||"beginner",lat:Qt.startLat||0,lng:Qt.startLng||0,dbSynced:!0,gpsTrack:Qt.gpsTrack,kmSplits:Qt.paceData,weatherData:Qt.weatherData,routeId:Qt.routeId})),An=localStorage.getItem("runHistory"),tt=An?JSON.parse(An):[],Jn=new Set(Zt.map(Qt=>Qt.id)),$t=tt.filter(Qt=>!Jn.has(Qt.id)&&!Qt.dbSynced),Or=[...Zt,...$t].sort((Qt,gi)=>{const Rr=Qt.date?new Date(Qt.date.split("/").reverse().join("-")).getTime():0;return(gi.date?new Date(gi.date.split("/").reverse().join("-")).getTime():0)-Rr});n(Or)}i(!1)}else{console.error("[ManualSync] Sync failed after retries. Error:",Tn.error);const he=Tn.error?.substring(0,100)||"Unknown error";Se.error(`Sync failed: ${he}`)}}catch(ke){console.error("Sync error:",ke),Se.error("Network error - please try again")}finally{b(null)}};v.useEffect(()=>{(async()=>{i(!0);let ae=[],be=[];const Ae=localStorage.getItem("userProfile");if(Ae)try{const ge=JSON.parse(Ae);if(ge.id){l(ge.id),h(!!ge.isAdmin);const Me=await fetch(`/api/users/${ge.id}/runs`);Me.ok&&(ae=(await Me.json()).map(pe=>({id:pe.id,name:pe.name,date:pe.completedAt?new Date(pe.completedAt).toLocaleDateString("en-GB"):"",time:pe.completedAt?new Date(pe.completedAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"",distance:pe.distance,totalTime:pe.duration,avgPace:pe.avgPace||"",difficulty:pe.difficulty||"beginner",lat:pe.startLat||0,lng:pe.startLng||0,avgHeartRate:pe.avgHeartRate,maxHeartRate:pe.maxHeartRate,calories:pe.calories,cadence:pe.cadence,gpsTrack:pe.gpsTrack,kmSplits:pe.paceData,weatherData:pe.weatherData,routeName:void 0,routeId:pe.routeId})))}}catch(ge){console.warn("Failed to load runs from database:",ge)}const ke=localStorage.getItem("runHistory");ke&&(be=JSON.parse(ke));let ie;if(ae.length>0){const ge=new Set(ae.map(ve=>ve.id)),Me=be.filter(ve=>!ge.has(ve.id)&&!ve.dbSynced);ie=[...ae,...Me]}else ie=be;n(ie.sort((ge,Me)=>{const ve=ge.date?new Date(ge.date.split("/").reverse().join("-")).getTime():0;return(Me.date?new Date(Me.date.split("/").reverse().join("-")).getTime():0)-ve})),i(!1)})()},[]);const K=q=>{switch(q){case"expert":return"bg-red-500/10 border-red-500/30 text-red-400";case"moderate":return"bg-yellow-400/10 border-yellow-400/30 text-yellow-400";default:return"bg-green-400/10 border-green-400/30 text-green-400"}},Q=q=>{const ae=Math.floor(q/3600),be=Math.floor(q%3600/60),Ae=q%60;return ae>0?`${ae}h ${be}m ${Ae}s`:`${be}m ${Ae}s`},H=ce.length>0?{totalRuns:ce.length,totalDistance:ce.reduce((q,ae)=>q+ae.distance,0),totalTime:ce.reduce((q,ae)=>q+ae.totalTime,0)}:null,X={last_7_days:"Last 7 Days",this_week:"This Week (Mon - Sun)",last_week:"Last Week (Mon - Sun)",this_month:"This Month",all_time:"All Time",custom:"Custom"},$=q=>{const ae=q;N(ae),k(ae==="custom")},G=q=>q?new Date(q).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"",Ne=(q,ae)=>{ae.stopPropagation(),F(q),Z({name:q.name||`Run on ${q.date}`,country:"",city:"",eventType:"parkrun",description:"",scheduleType:"recurring",specificDate:"",recurrencePattern:"weekly",dayOfWeek:6,dayOfMonth:1}),I(!0)},de=async()=>{if(!D||!o||!W.name||!W.country){Se.error("Please fill in the required fields");return}if(W.scheduleType==="one_time"&&!W.specificDate){Se.error("Please select a date for the one-time event");return}ne(!0);try{const q=await fetch(`/api/events/from-run/${D.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,name:W.name,country:W.country,city:W.city,eventType:W.eventType,description:W.description,scheduleType:W.scheduleType,specificDate:W.scheduleType==="one_time"?W.specificDate:null,recurrencePattern:W.scheduleType==="recurring"?W.recurrencePattern:null,dayOfWeek:W.scheduleType==="recurring"&&W.recurrencePattern!=="monthly"&&W.recurrencePattern!=="daily"?W.dayOfWeek:null,dayOfMonth:W.scheduleType==="recurring"&&W.recurrencePattern==="monthly"?W.dayOfMonth:null})});if(q.ok)Se.success("Event created successfully!"),I(!1),F(null);else{const ae=await q.json();Se.error(ae.error||"Failed to create event")}}catch(q){console.error("Create event error:",q),Se.error("Failed to create event")}finally{ne(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-6 pb-24",children:[s.jsxs("header",{className:"mb-6 flex items-center gap-4",children:[s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>e("/"),className:"rounded-full border-white/10 hover:bg-white/10","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-display font-bold text-primary uppercase tracking-wider",children:"Run History"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Review your performance insights"})]})]}),s.jsxs("div",{className:"mb-6 space-y-3",children:[s.jsxs(Au,{value:_,onValueChange:$,children:[s.jsx(jc,{className:"w-full bg-card/50 border-white/10 text-white","data-testid":"select-timeframe",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uG,{className:"w-4 h-4 text-primary"}),s.jsx(Eu,{placeholder:"Select time period"})]})}),s.jsxs(Nc,{className:"bg-card border-white/10",children:[s.jsx(Bn,{value:"last_7_days","data-testid":"option-last-7-days",children:"Last 7 Days"}),s.jsx(Bn,{value:"this_week","data-testid":"option-this-week",children:"This Week (Mon - Sun)"}),s.jsx(Bn,{value:"last_week","data-testid":"option-last-week",children:"Last Week (Mon - Sun)"}),s.jsx(Bn,{value:"this_month","data-testid":"option-this-month",children:"This Month"}),s.jsx(Bn,{value:"all_time","data-testid":"option-all-time",children:"All Time"}),s.jsx(Bn,{value:"custom","data-testid":"option-custom",children:"Custom Range"})]})]}),E&&s.jsxs(At.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-card/50 border border-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1 block",children:"From"}),s.jsx("input",{type:"date",value:S,onChange:q=>T(q.target.value),className:"w-full bg-background border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary","data-testid":"input-custom-start-date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1 block",children:"To"}),s.jsx("input",{type:"date",value:C,onChange:q=>M(q.target.value),className:"w-full bg-background border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-primary","data-testid":"input-custom-end-date"})]})]}),S&&C&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Showing runs from ",G(S)," to ",G(C)]})]})]}),H&&s.jsxs(At.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-4 mb-6","data-testid":"stats-summary",children:[s.jsxs(wt,{className:"bg-card/50 border-white/10 overflow-hidden relative group text-center p-3",children:[s.jsx("div",{className:"text-muted-foreground text-[10px] uppercase tracking-widest mb-1",children:"Sessions"}),s.jsx("div",{className:"text-2xl font-display font-bold text-primary",children:H.totalRuns})]}),s.jsxs(wt,{className:"bg-card/50 border-white/10 overflow-hidden relative group text-center p-3",children:[s.jsx("div",{className:"text-muted-foreground text-[10px] uppercase tracking-widest mb-1",children:"Distance"}),s.jsx("div",{className:"text-2xl font-display font-bold text-primary",children:H.totalDistance.toFixed(1)}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-tighter",children:"km"})]}),s.jsxs(wt,{className:"bg-card/50 border-white/10 overflow-hidden relative group text-center p-3",children:[s.jsx("div",{className:"text-muted-foreground text-[10px] uppercase tracking-widest mb-1",children:"Time"}),s.jsxs("div",{className:"text-2xl font-display font-bold text-primary",children:[Math.floor(H.totalTime/3600),"h"]}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-tighter",children:"Total"})]})]}),o&&t.length>=3&&s.jsxs(At.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsxs(Re,{variant:"outline",onClick:()=>p(!m),className:"w-full justify-between border-blue-500/30 bg-blue-500/10 hover:bg-blue-500/20 text-white mb-3","data-testid":"button-toggle-weather-analysis",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wv,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"font-display uppercase tracking-wider text-sm",children:"Weather Impact Analysis"})]}),m?s.jsx(gx,{className:"w-4 h-4"}):s.jsx(Uf,{className:"w-4 h-4"})]}),m&&s.jsx(At.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:s.jsx(ele,{userId:o})})]}),r?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your runs..."})]}):ce.length===0?s.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:s.jsxs(At.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx(yx,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-6"}),t.length>0&&_!=="all_time"?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-3",children:"No Runs Found"}),s.jsxs("p",{className:"text-muted-foreground max-w-sm mx-auto mb-8",children:["No runs recorded for ",X[_].toLowerCase(),". Try selecting a different time period."]}),s.jsx(Re,{onClick:()=>N("all_time"),className:"bg-primary text-background hover:bg-primary/90","data-testid":"button-view-all-runs",children:"View All Runs"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-3",children:"Ready to Track Your Progress?"}),s.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto mb-8",children:"No previous run history. Complete your first session to track and review your performance."}),s.jsx(Re,{onClick:()=>e("/"),className:"bg-primary text-background hover:bg-primary/90","data-testid":"button-start-first-run",children:"Start Your First Run"})]})]})}):s.jsx("div",{className:"space-y-4",children:ce.map((q,ae)=>s.jsx(At.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ae*.05},"data-testid":`run-card-${q.id}`,children:s.jsx(wt,{className:"bg-card/50 border-white/10 hover:border-primary/50 transition-all cursor-pointer overflow-hidden",onClick:()=>e(`/history/${q.id}`),children:s.jsx(Et,{className:"p-0",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"space-y-1",children:[q.name&&s.jsx("span",{className:"text-sm font-bold font-display uppercase tracking-wider text-primary mb-1 block",children:q.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm font-bold font-display uppercase tracking-wider",children:q.date}),q.time&&s.jsx("span",{className:"text-sm text-muted-foreground font-display",children:q.time})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:`${K(q.difficulty)} border rounded-full px-3 py-0 h-5 text-[10px] uppercase font-bold tracking-tighter`,children:q.difficulty}),q.dbSynced===!0?s.jsxs(Zr,{className:"bg-green-500/10 border-green-500/30 text-green-400 border rounded-full px-2 py-0 h-5 text-[10px] uppercase font-bold tracking-tighter flex items-center gap-1",children:[s.jsx(Am,{className:"w-3 h-3"}),"Synced"]}):q.pendingSync||q.id&&q.id.startsWith("run_")?s.jsx(Zr,{className:"bg-orange-500/10 border-orange-500/30 text-orange-400 border rounded-full px-2 py-0 h-5 text-[10px] uppercase font-bold tracking-tighter flex items-center gap-1 cursor-pointer hover:bg-orange-500/20",onClick:be=>fe(q,be),children:g===q.id?s.jsxs(s.Fragment,{children:[s.jsx(Yv,{className:"w-3 h-3 animate-spin"}),"Syncing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(WW,{className:"w-3 h-3"}),"Local Only - Tap to Sync"]})}):null]})]}),s.jsx(yf,{className:"w-5 h-5 text-muted-foreground"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-white/5",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Distance"}),s.jsxs("div",{className:"text-xl font-display font-bold text-primary leading-none",children:[q.distance.toFixed(1)," ",s.jsx("span",{className:"text-[10px] font-normal lowercase",children:"km"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-white/5",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Avg Pace"}),s.jsxs("div",{className:"text-xl font-display font-bold text-primary leading-none",children:[q.avgPace," ",s.jsx("span",{className:"text-[10px] font-normal lowercase",children:"/km"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-white/5",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Duration"}),s.jsx("div",{className:"text-xl font-display font-bold text-primary leading-none",children:Q(q.totalTime)})]})]}),u&&q.dbSynced&&s.jsx("div",{className:"mt-3 pt-3 border-t border-white/5",children:s.jsxs(Re,{variant:"outline",size:"sm",className:"w-full text-xs border-primary/30 text-primary hover:bg-primary/10",onClick:be=>Ne(q,be),"data-testid":`button-create-event-${q.id}`,children:[s.jsx(eL,{className:"w-3 h-3 mr-2"}),"Create Public Event"]})})]})})})},q.id))}),s.jsx(ld,{open:R,onOpenChange:I,children:s.jsxs(Kc,{className:"bg-card border-border",children:[s.jsxs(Wc,{children:[s.jsx(Gc,{className:"font-display uppercase tracking-wider",children:"Create Public Event"}),s.jsx(zx,{children:"Create a public event from this run so other users can run the same route."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"event-name",children:"Event Name *"}),s.jsx(wn,{id:"event-name",value:W.name,onChange:q=>Z(ae=>({...ae,name:q.target.value})),placeholder:"e.g., Auckland Domain Parkrun","data-testid":"input-event-name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"event-country",children:"Country *"}),s.jsx(wn,{id:"event-country",value:W.country,onChange:q=>Z(ae=>({...ae,country:q.target.value})),placeholder:"e.g., New Zealand","data-testid":"input-event-country"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"event-city",children:"City"}),s.jsx(wn,{id:"event-city",value:W.city,onChange:q=>Z(ae=>({...ae,city:q.target.value})),placeholder:"e.g., Auckland","data-testid":"input-event-city"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"event-type",children:"Event Type"}),s.jsxs(Au,{value:W.eventType,onValueChange:q=>Z(ae=>({...ae,eventType:q})),children:[s.jsx(jc,{id:"event-type","data-testid":"select-event-type",children:s.jsx(Eu,{})}),s.jsxs(Nc,{children:[s.jsx(Bn,{value:"parkrun",children:"Park Run"}),s.jsx(Bn,{value:"5k",children:"5K"}),s.jsx(Bn,{value:"10k",children:"10K"}),s.jsx(Bn,{value:"half_marathon",children:"Half Marathon"}),s.jsx(Bn,{value:"marathon",children:"Marathon"}),s.jsx(Bn,{value:"trail",children:"Trail Run"}),s.jsx(Bn,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"event-description",children:"Description"}),s.jsx(Fc,{id:"event-description",value:W.description,onChange:q=>Z(ae=>({...ae,description:q.target.value})),placeholder:"Describe the event route and any important details...",rows:3,"data-testid":"input-event-description"})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-white/10",children:[s.jsx(nn,{className:"text-sm font-medium",children:"Schedule"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"scheduleType",checked:W.scheduleType==="recurring",onChange:()=>Z(q=>({...q,scheduleType:"recurring"})),className:"accent-primary"}),s.jsx("span",{className:"text-sm",children:"Recurring"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"scheduleType",checked:W.scheduleType==="one_time",onChange:()=>Z(q=>({...q,scheduleType:"one_time"})),className:"accent-primary"}),s.jsx("span",{className:"text-sm",children:"One-time Event"})]})]}),W.scheduleType==="one_time"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"specific-date",children:"Event Date *"}),s.jsx(wn,{id:"specific-date",type:"date",value:W.specificDate,onChange:q=>Z(ae=>({...ae,specificDate:q.target.value})),"data-testid":"input-specific-date"})]}),W.scheduleType==="recurring"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"recurrence-pattern",children:"Frequency"}),s.jsxs(Au,{value:W.recurrencePattern,onValueChange:q=>Z(ae=>({...ae,recurrencePattern:q})),children:[s.jsx(jc,{id:"recurrence-pattern","data-testid":"select-recurrence-pattern",children:s.jsx(Eu,{})}),s.jsxs(Nc,{children:[s.jsx(Bn,{value:"daily",children:"Daily"}),s.jsx(Bn,{value:"weekly",children:"Weekly"}),s.jsx(Bn,{value:"fortnightly",children:"Fortnightly"}),s.jsx(Bn,{value:"monthly",children:"Monthly"})]})]})]}),(W.recurrencePattern==="weekly"||W.recurrencePattern==="fortnightly")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"day-of-week",children:"Day of Week"}),s.jsxs(Au,{value:String(W.dayOfWeek),onValueChange:q=>Z(ae=>({...ae,dayOfWeek:parseInt(q)})),children:[s.jsx(jc,{id:"day-of-week","data-testid":"select-day-of-week",children:s.jsx(Eu,{})}),s.jsxs(Nc,{children:[s.jsx(Bn,{value:"0",children:"Sunday"}),s.jsx(Bn,{value:"1",children:"Monday"}),s.jsx(Bn,{value:"2",children:"Tuesday"}),s.jsx(Bn,{value:"3",children:"Wednesday"}),s.jsx(Bn,{value:"4",children:"Thursday"}),s.jsx(Bn,{value:"5",children:"Friday"}),s.jsx(Bn,{value:"6",children:"Saturday"})]})]})]}),W.recurrencePattern==="monthly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"day-of-month",children:"Day of Month"}),s.jsxs(Au,{value:String(W.dayOfMonth),onValueChange:q=>Z(ae=>({...ae,dayOfMonth:parseInt(q)})),children:[s.jsx(jc,{id:"day-of-month","data-testid":"select-day-of-month",children:s.jsx(Eu,{})}),s.jsx(Nc,{children:Array.from({length:31},(q,ae)=>ae+1).map(q=>s.jsxs(Bn,{value:String(q),children:[q,q===1?"st":q===2?"nd":q===3?"rd":"th"]},q))})]})]})]})]})]}),s.jsxs(cd,{children:[s.jsx(Re,{variant:"outline",onClick:()=>I(!1),"data-testid":"button-cancel-event",children:"Cancel"}),s.jsx(Re,{onClick:de,disabled:Y||!W.name||!W.country,"data-testid":"button-submit-event",children:Y?"Creating...":"Create Event"})]})]})})]})}var qx="Collapsible",[nle]=ra(qx),[rle,PT]=nle(qx),bF=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:l,...u}=e,[h,m]=co({prop:r,defaultProp:i??!1,onChange:l,caller:qx});return s.jsx(rle,{scope:n,disabled:o,contentId:ao(),open:h,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),children:s.jsx(Pt.div,{"data-state":AT(h),"data-disabled":o?"":void 0,...u,ref:t})})});bF.displayName=qx;var wF="CollapsibleTrigger",SF=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=PT(wF,n);return s.jsx(Pt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":AT(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ze(e.onClick,i.onOpenToggle)})});SF.displayName=wF;var CT="CollapsibleContent",_F=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=PT(CT,e.__scopeCollapsible);return s.jsx(Fa,{present:n||i.open,children:({present:o})=>s.jsx(ile,{...r,ref:t,present:o})})});_F.displayName=CT;var ile=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,l=PT(CT,n),[u,h]=v.useState(r),m=v.useRef(null),p=Gt(t,m),g=v.useRef(0),b=g.current,_=v.useRef(0),N=_.current,S=l.open||u,T=v.useRef(S),C=v.useRef(void 0);return v.useEffect(()=>{const M=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(M)},[]),Pi(()=>{const M=m.current;if(M){C.current=C.current||{transitionDuration:M.style.transitionDuration,animationName:M.style.animationName},M.style.transitionDuration="0s",M.style.animationName="none";const E=M.getBoundingClientRect();g.current=E.height,_.current=E.width,T.current||(M.style.transitionDuration=C.current.transitionDuration,M.style.animationName=C.current.animationName),h(r)}},[l.open,r]),s.jsx(Pt.div,{"data-state":AT(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!S,...o,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:S&&i})});function AT(e){return e?"open":"closed"}var ale=bF;const jF=ale,NF=SF,TF=_F;var sle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ET(e){if(typeof e!="string")return!1;var t=sle;return t.includes(e)}var ole=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lle=new Set(ole);function PF(e){return typeof e!="string"?!1:lle.has(e)}function CF(e){return typeof e=="string"&&e.startsWith("data-")}function is(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(PF(n)||CF(n))&&(t[n]=e[n]);return t}function yp(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return is(t)}return typeof e=="object"&&!Array.isArray(e)?is(e):null}function va(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(PF(n)||CF(n)||ET(n))&&(t[n]=e[n]);return t}function cle(e){return e==null?null:v.isValidElement(e)?va(e.props):typeof e=="object"&&!Array.isArray(e)?va(e):null}var ule=["children","width","height","viewBox","className","style","title","desc"];function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(null,arguments)}function dle(e,t){if(e==null)return{};var n,r,i=fle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AF=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:h,desc:m}=e,p=dle(e,ule),g=o||{width:r,height:i,x:0,y:0},b=zn("recharts-surface",l);return v.createElement("svg",H_({},va(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),v.createElement("title",null,h),v.createElement("desc",null,m),n)}),hle=["children","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q_.apply(null,arguments)}function mle(e,t){if(e==null)return{};var n,r,i=ple(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ple(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var na=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=mle(e,hle),o=zn("recharts-layer",r);return v.createElement("g",q_({className:o},va(i),{ref:t}),n)}),gle=v.createContext(null);function ar(e){return function(){return e}}const EF=Math.cos,py=Math.sin,go=Math.sqrt,gy=Math.PI,Kx=2*gy,K_=Math.PI,W_=2*K_,Tu=1e-6,vle=W_-Tu;function MF(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function yle(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MF;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xle{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MF:yle(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,h=r-t,m=i-n,p=l-t,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Tu)if(!(Math.abs(g*h-m*p)>Tu)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,N=i-u,S=h*h+m*m,T=_*_+N*N,C=Math.sqrt(S),M=Math.sqrt(b),E=o*Math.tan((K_-Math.acos((S+b-T)/(2*C*M)))/2),k=E/M,R=E/C;Math.abs(k-1)>Tu&&this._append`L${t+k*p},${n+k*g}`,this._append`A${o},${o},0,0,${+(g*_>p*N)},${this._x1=t+R*h},${this._y1=n+R*m}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),h=r*Math.sin(i),m=t+u,p=n+h,g=1^l,b=l?i-o:o-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Tu||Math.abs(this._y1-p)>Tu)&&this._append`L${m},${p}`,r&&(b<0&&(b=b%W_+W_),b>vle?this._append`A${r},${r},0,1,${g},${t-u},${n-h}A${r},${r},0,1,${g},${this._x1=m},${this._y1=p}`:b>Tu&&this._append`A${r},${r},0,${+(b>=K_)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new xle(t)}function kT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kF(e){this._context=e}kF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wx(e){return new kF(e)}function OF(e){return e[0]}function RF(e){return e[1]}function DF(e,t){var n=ar(!0),r=null,i=Wx,o=null,l=MT(u);e=typeof e=="function"?e:e===void 0?OF:ar(e),t=typeof t=="function"?t:t===void 0?RF:ar(t);function u(h){var m,p=(h=kT(h)).length,g,b=!1,_;for(r==null&&(o=i(_=l())),m=0;m<=p;++m)!(m<p&&n(g=h[m],m,h))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(g,m,h),+t(g,m,h));if(_)return o=null,_+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:ar(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:ar(+h),u):t},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:ar(!!h),u):n},u.curve=function(h){return arguments.length?(i=h,r!=null&&(o=i(r)),u):i},u.context=function(h){return arguments.length?(h==null?r=o=null:o=i(r=h),u):r},u}function av(e,t,n){var r=null,i=ar(!0),o=null,l=Wx,u=null,h=MT(m);e=typeof e=="function"?e:e===void 0?OF:ar(+e),t=typeof t=="function"?t:ar(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?RF:ar(+n);function m(g){var b,_,N,S=(g=kT(g)).length,T,C=!1,M,E=new Array(S),k=new Array(S);for(o==null&&(u=l(M=h())),b=0;b<=S;++b){if(!(b<S&&i(T=g[b],b,g))===C)if(C=!C)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),N=b-1;N>=_;--N)u.point(E[N],k[N]);u.lineEnd(),u.areaEnd()}C&&(E[b]=+e(T,b,g),k[b]=+t(T,b,g),u.point(r?+r(T,b,g):E[b],n?+n(T,b,g):k[b]))}if(M)return u=null,M+""||null}function p(){return DF().defined(i).curve(l).context(o)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:ar(+g),r=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ar(+g),m):e},m.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ar(+g),m):r},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:ar(+g),n=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ar(+g),m):t},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ar(+g),m):n},m.lineX0=m.lineY0=function(){return p().x(e).y(t)},m.lineY1=function(){return p().x(e).y(n)},m.lineX1=function(){return p().x(r).y(t)},m.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ar(!!g),m):i},m.curve=function(g){return arguments.length?(l=g,o!=null&&(u=l(o)),m):l},m.context=function(g){return arguments.length?(g==null?o=u=null:u=l(o=g),m):o},m}class IF{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ble(e){return new IF(e,!0)}function wle(e){return new IF(e,!1)}const OT={draw(e,t){const n=go(t/gy);e.moveTo(n,0),e.arc(0,0,n,0,Kx)}},Sle={draw(e,t){const n=go(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LF=go(1/3),_le=LF*2,jle={draw(e,t){const n=go(t/_le),r=n*LF;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Nle={draw(e,t){const n=go(t),r=-n/2;e.rect(r,r,n,n)}},Tle=.8908130915292852,zF=py(gy/10)/py(7*gy/10),Ple=py(Kx/10)*zF,Cle=-EF(Kx/10)*zF,Ale={draw(e,t){const n=go(t*Tle),r=Ple*n,i=Cle*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Kx*o/5,u=EF(l),h=py(l);e.lineTo(h*n,-u*n),e.lineTo(u*r-h*i,h*r+u*i)}e.closePath()}},r1=go(3),Ele={draw(e,t){const n=-go(t/(r1*3));e.moveTo(0,n*2),e.lineTo(-r1*n,-n),e.lineTo(r1*n,-n),e.closePath()}},bs=-.5,ws=go(3)/2,G_=1/go(12),Mle=(G_/2+1)*3,kle={draw(e,t){const n=go(t/Mle),r=n/2,i=n*G_,o=r,l=n*G_+n,u=-o,h=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,h),e.lineTo(bs*r-ws*i,ws*r+bs*i),e.lineTo(bs*o-ws*l,ws*o+bs*l),e.lineTo(bs*u-ws*h,ws*u+bs*h),e.lineTo(bs*r+ws*i,bs*i-ws*r),e.lineTo(bs*o+ws*l,bs*l-ws*o),e.lineTo(bs*u+ws*h,bs*h-ws*u),e.closePath()}};function Ole(e,t){let n=null,r=MT(i);e=typeof e=="function"?e:ar(e||OT),t=typeof t=="function"?t:ar(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ar(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ar(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function vy(){}function yy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $F(e){this._context=e}$F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rle(e){return new $F(e)}function FF(e){this._context=e}FF.prototype={areaStart:vy,areaEnd:vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dle(e){return new FF(e)}function BF(e){this._context=e}BF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ile(e){return new BF(e)}function UF(e){this._context=e}UF.prototype={areaStart:vy,areaEnd:vy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lle(e){return new UF(e)}function Jk(e){return e<0?-1:1}function eO(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(Jk(o)+Jk(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function tO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function i1(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function xy(e){this._context=e}xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i1(this,this._t0,tO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,i1(this,tO(this,n=eO(this,e,t)),n);break;default:i1(this,this._t0,n=eO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function VF(e){this._context=new HF(e)}(VF.prototype=Object.create(xy.prototype)).point=function(e,t){xy.prototype.point.call(this,t,e)};function HF(e){this._context=e}HF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function zle(e){return new xy(e)}function $le(e){return new VF(e)}function qF(e){this._context=e}qF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=nO(e),i=nO(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nO(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Fle(e){return new qF(e)}function Gx(e,t){this._context=e,this._t=t}Gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ble(e){return new Gx(e,.5)}function Ule(e){return new Gx(e,0)}function Vle(e){return new Gx(e,1)}function Qu(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Hle(e,t){return e[t]}function qle(e){const t=[];return t.key=e,t}function Kle(){var e=ar([]),t=Y_,n=Qu,r=Hle;function i(o){var l=Array.from(e.apply(this,arguments),qle),u,h=l.length,m=-1,p;for(const g of o)for(u=0,++m;u<h;++u)(l[u][m]=[0,+r(g,l[u].key,m,o)]).data=g;for(u=0,p=kT(t(l));u<h;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ar(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ar(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Y_:typeof o=="function"?o:ar(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Qu,i):n},i}function Wle(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Qu(e,t)}}function Gle(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Qu(e,t)}}function Yle(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,h=0,m=0;u<l;++u){for(var p=e[t[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,N=0;N<u;++N){var S=e[t[N]],T=S[r][1]||0,C=S[r-1][1]||0;_+=T-C}h+=g,m+=_*g}i[r-1][1]+=i[r-1][0]=n,h&&(n-=m/h)}i[r-1][1]+=i[r-1][0]=n,Qu(e,t)}}var a1={},s1={},rO;function Zle(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(s1)),s1}var o1={},iO;function KF(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(o1)),o1}var l1={},aO;function RT(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(l1)),l1}var c1={},u1={},sO;function Xle(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(u1)),u1}var oO;function DT(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xle(),n=RT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,h="",m="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const g=i[u];m?g==="\\"&&u+1<l?(u++,h+=i[u]):g===m?m="":h+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,o.push(h),h=""):h+=g:g==="["?(p=!0,h&&(o.push(h),h="")):g==="."?h&&(o.push(h),h=""):h+=g,u++}return h&&o.push(h),o}e.toPath=r})(c1)),c1}var lO;function IT(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zle(),n=KF(),r=RT(),i=DT();function o(u,h,m){if(u==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const p=u[h];return p===void 0?n.isDeepKey(h)?o(u,i.toPath(h),m):m:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=u[h];return p===void 0?m:p}default:{if(Array.isArray(h))return l(u,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const p=u[h];return p===void 0?m:p}}}function l(u,h,m){if(h.length===0)return m;let p=u;for(let g=0;g<h.length;g++){if(p==null||t.isUnsafeProperty(h[g]))return m;p=p[h[g]]}return p===void 0?m:p}e.get=o})(a1)),a1}var d1,cO;function Qle(){return cO||(cO=1,d1=IT().get),d1}var Jle=Qle();const Ef=mo(Jle);var ece=4;function Ac(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ece,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+Ac(u)+o:i+o},"")}var Ps=e=>e===0?0:e>0?1:-1,qo=e=>typeof e=="number"&&e!=+e,Ju=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,jt=e=>(typeof e=="number"||e instanceof Number)&&!qo(e),Ko=e=>jt(e)||typeof e=="string",tce=0,$m=e=>{var t=++tce;return"".concat(e||"").concat(t)},Bc=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!jt(t)&&typeof t!="string")return r;var o;if(Ju(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return qo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},WF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function hi(e,t,n){return jt(e)&&jt(t)?Ac(e+n*(t-e)):t}function GF(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ef(r,t))===n)}var nce=e=>{for(var t=e.length,n=0,r=0,i=0,o=0,l=1/0,u=-1/0,h=0,m=0,p=0;p<t;p++){var g,b;h=((g=e[p])===null||g===void 0?void 0:g.cx)||0,m=((b=e[p])===null||b===void 0?void 0:b.cy)||0,n+=h,r+=m,i+=h*m,o+=h*h,l=Math.min(l,h),u=Math.max(u,h)}var _=t*o!==n*n?(t*i-n*r)/(t*o-n*n):0;return{xmin:l,xmax:u,a:_,b:(r-_*n)/t}},Ur=e=>e===null||typeof e>"u",xp=e=>Ur(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ia(e){return e!=null}function eh(){}var rce=["type","size","sizeType"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z_.apply(null,arguments)}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){ice(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ice(e,t,n){return(t=ace(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ace(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oce(e,t){if(e==null)return{};var n,r,i=lce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YF={symbolCircle:OT,symbolCross:Sle,symbolDiamond:jle,symbolSquare:Nle,symbolStar:Ale,symbolTriangle:Ele,symbolWye:kle},cce=Math.PI/180,uce=e=>{var t="symbol".concat(xp(e));return YF[t]||OT},dce=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*cce;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fce=(e,t)=>{YF["symbol".concat(xp(e))]=t},LT=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=oce(e,rce),o=dO(dO({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var b=uce(l),_=Ole().type(b).size(dce(n,r,l)),N=_();if(N!==null)return N},{className:h,cx:m,cy:p}=o,g=va(o);return jt(m)&&jt(p)&&jt(n)?v.createElement("path",Z_({},g,{className:zn("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};LT.registerSymbol=fce;var ZF=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zT=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ET(i)&&(r[i]=(o=>n[i](n,o)))}),r},hce=(e,t,n)=>r=>(e(t,n,r),null),XF=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];ET(i)&&typeof o=="function"&&(r||(r={}),r[i]=hce(o,t,n))}),r},mce=e=>Array.isArray(e)&&e.length>0;function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){gce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gce(e,t,n){return(t=vce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vce(e){var t=yce(e,"string");return typeof t=="symbol"?t:t+""}function yce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(e,t){var n=pce({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var f1={},h1={},hO;function xce(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l,o,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(h1)),h1}var m1={},mO;function bce(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(m1)),m1}var p1={},pO;function QF(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(p1)),p1}var g1={},v1={},y1={},gO;function wce(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(y1)),y1}var vO;function $T(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wce();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(v1)),v1}var x1={},yO;function Sce(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(x1)),x1}var xO;function _ce(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T(),n=Sce();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(g1)),g1}var b1={},w1={},bO;function jce(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT();function n(r){return function(i){return t.get(i,r)}}e.property=n})(w1)),w1}var S1={},_1={},j1={},N1={},wO;function JF(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(N1)),N1}var T1={},SO;function eB(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(T1)),T1}var P1={},_O;function tB(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(P1)),P1}var jO;function Nce(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JF(),n=eB(),r=tB();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):o(p,g,function _(N,S,T,C,M,E){const k=b(N,S,T,C,M,E);return k!==void 0?!!k:o(N,S,_,E)},new Map)}function o(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?o(p,{...g},b,_):r.isEqualsSameValueZero(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return h(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return m(p,g,b,_);const N=Object.keys(g);if(p==null||n.isPrimitive(p))return N.length===0;if(N.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let S=0;S<N.length;S++){const T=N[S];if(!n.isPrimitive(p)&&!(T in p)||g[T]===void 0&&p[T]!==void 0||g[T]===null&&p[T]!==null||!b(p[T],g[T],T,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[N,S]of g.entries()){const T=p.get(N);if(b(T,S,N,p,g,_)===!1)return!1}return!0}function h(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const N=new Set;for(let S=0;S<g.length;S++){const T=g[S];let C=!1;for(let M=0;M<p.length;M++){if(N.has(M))continue;const E=p[M];let k=!1;if(b(E,T,S,p,g,_)&&(k=!0),k){N.add(M),C=!0;break}}if(!C)return!1}return!0}function m(p,g,b,_){return g.size===0?!0:p instanceof Set?h([...p],[...g],b,_):!1}e.isMatchWith=i,e.isSetMatch=m})(j1)),j1}var NO;function nB(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nce();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(_1)),_1}var C1={},A1={},E1={},TO;function Tce(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(E1)),E1}var M1={},PO;function FT(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(M1)),M1}var k1={},CO;function rB(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",h="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",N="[object Error]",S="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",R="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",F="[object BigInt64Array]",Y="[object Float32Array]",ne="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=p,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=S,e.dateTag=u,e.errorTag=N,e.float32ArrayTag=Y,e.float64ArrayTag=ne,e.functionTag=g,e.int16ArrayTag=I,e.int32ArrayTag=D,e.int8ArrayTag=R,e.mapTag=h,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=M,e.uint32ArrayTag=E,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(k1)),k1}var O1={},AO;function Pce(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(O1)),O1}var EO;function iB(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tce(),n=FT(),r=rB(),i=eB(),o=Pce();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,N=void 0){const S=N?.(p,g,b,_);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const T=new Array(p.length);_.set(p,T);for(let C=0;C<p.length;C++)T[C]=u(p[C],C,b,_,N);return Object.hasOwn(p,"index")&&(T.index=p.index),Object.hasOwn(p,"input")&&(T.input=p.input),T}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const T=new RegExp(p.source,p.flags);return T.lastIndex=p.lastIndex,T}if(p instanceof Map){const T=new Map;_.set(p,T);for(const[C,M]of p)T.set(C,u(M,C,b,_,N));return T}if(p instanceof Set){const T=new Set;_.set(p,T);for(const C of p)T.add(u(C,void 0,b,_,N));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const T=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,T);for(let C=0;C<p.length;C++)T[C]=u(p[C],C,b,_,N);return T}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const T=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,T),h(T,p,b,_,N),T}if(typeof File<"u"&&p instanceof File){const T=new File([p],p.name,{type:p.type});return _.set(p,T),h(T,p,b,_,N),T}if(typeof Blob<"u"&&p instanceof Blob){const T=new Blob([p],{type:p.type});return _.set(p,T),h(T,p,b,_,N),T}if(p instanceof Error){const T=new p.constructor;return _.set(p,T),T.message=p.message,T.name=p.name,T.stack=p.stack,T.cause=p.cause,h(T,p,b,_,N),T}if(p instanceof Boolean){const T=new Boolean(p.valueOf());return _.set(p,T),h(T,p,b,_,N),T}if(p instanceof Number){const T=new Number(p.valueOf());return _.set(p,T),h(T,p,b,_,N),T}if(p instanceof String){const T=new String(p.valueOf());return _.set(p,T),h(T,p,b,_,N),T}if(typeof p=="object"&&m(p)){const T=Object.create(Object.getPrototypeOf(p));return _.set(p,T),h(T,p,b,_,N),T}return p}function h(p,g,b=p,_,N){const S=[...Object.keys(g),...t.getSymbols(g)];for(let T=0;T<S.length;T++){const C=S[T],M=Object.getOwnPropertyDescriptor(p,C);(M==null||M.writable)&&(p[C]=u(g[C],C,b,_,N))}}function m(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=h})(A1)),A1}var MO;function Cce(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iB();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(C1)),C1}var kO;function Ace(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nB(),n=Cce();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(S1)),S1}var R1={},D1={},I1={},OO;function Ece(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iB(),n=FT(),r=rB();function i(o,l){return t.cloneDeepWith(o,(u,h,m,p)=>{const g=l?.(u,h,m,p);if(g!==void 0)return g;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const b={};return p.set(o,b),t.copyProperties(b,o,m,p),b}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const b=new o.constructor(o?.valueOf());return t.copyProperties(b,o),b}case r.argumentsTag:{const b={};return t.copyProperties(b,o),b.length=o.length,b[Symbol.iterator]=o[Symbol.iterator],b}default:return}}})}e.cloneDeepWith=i})(I1)),I1}var RO;function Mce(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ece();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(D1)),D1}var L1={},z1={},DO;function aB(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(z1)),z1}var $1={},IO;function kce(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})($1)),$1}var LO;function Oce(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KF(),n=aB(),r=kce(),i=DT();function o(l,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?h=i.toPath(u):h=[u],h.length===0)return!1;let m=l;for(let p=0;p<h.length;p++){const g=h[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=o})(L1)),L1}var zO;function Rce(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nB(),n=RT(),r=Mce(),i=IT(),o=Oce();function l(u,h){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return h=r.cloneDeep(h),function(m){const p=i.get(m,u);return p===void 0?o.has(m,u):h===void 0?p===void 0:t.isMatch(p,h)}}e.matchesProperty=l})(R1)),R1}var $O;function Dce(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QF(),n=jce(),r=Ace(),i=Rce();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(b1)),b1}var FO;function Ice(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xce(),n=bce(),r=QF(),i=_ce(),o=Dce();function l(u,h=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(o.iteratee(h),1)):[]}e.uniqBy=l})(f1)),f1}var F1,BO;function Lce(){return BO||(BO=1,F1=Ice().uniqBy),F1}var zce=Lce();const UO=mo(zce);function $ce(e,t,n){return t===!0?UO(e,n):typeof t=="function"?UO(e,t):e}var B1={exports:{}},U1={};var VO;function Fce(){if(VO)return U1;VO=1;var e=Lf(),t=t4();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,h=e.useDebugValue;return U1.useSyncExternalStoreWithSelector=function(m,p,g,b,_){var N=o(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=u(function(){function C(I){if(!M){if(M=!0,E=I,I=b(I),_!==void 0&&S.hasValue){var D=S.value;if(_(D,I))return k=D}return k=I}if(D=k,r(E,I))return D;var F=b(I);return _!==void 0&&_(D,F)?(E=I,D):(E=I,k=F)}var M=!1,E,k,R=g===void 0?null:g;return[function(){return C(p())},R===null?void 0:function(){return C(R())}]},[p,g,b,_]);var T=i(m,N[0],N[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),h(T),T},U1}var HO;function Bce(){return HO||(HO=1,B1.exports=Fce()),B1.exports}var Uce=Bce(),BT=v.createContext(null),Vce=e=>e,Qr=()=>{var e=v.useContext(BT);return e?e.store.dispatch:Vce},Iv=()=>{},Hce=()=>Iv,qce=(e,t)=>e===t;function Ot(e){var t=v.useContext(BT),n=v.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Iv,[t,e]);return Uce.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Hce,t?t.store.getState:Iv,t?t.store.getState:Iv,n,qce)}function Kce(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Wce(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Gce(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var qO=e=>Array.isArray(e)?e:[e];function Yce(e){const t=Array.isArray(e[0])?e[0]:e;return Gce(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Zce(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Xce=class{constructor(e){this.value=e}deref(){return this.value}},Qce=typeof WeakRef<"u"?WeakRef:Xce,Jce=0,KO=1;function sv(){return{s:Jce,v:void 0,o:null,p:null}}function sB(e,t={}){let n=sv();const{resultEqualityCheck:r}=t;let i,o=0;function l(){let u=n;const{length:h}=arguments;for(let g=0,b=h;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let N=u.o;N===null&&(u.o=N=new WeakMap);const S=N.get(_);S===void 0?(u=sv(),N.set(_,u)):u=S}else{let N=u.p;N===null&&(u.p=N=new Map);const S=N.get(_);S===void 0?(u=sv(),N.set(_,u)):u=S}}const m=u;let p;if(u.s===KO)p=u.v;else if(p=e.apply(null,arguments),o++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Qce(p):p}return m.s=KO,m.v=p,p}return l.clearCache=()=>{n=sv(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function eue(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,h={},m=i.pop();typeof m=="object"&&(h=m,m=i.pop()),Kce(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...n,...h},{memoize:g,memoizeOptions:b=[],argsMemoize:_=sB,argsMemoizeOptions:N=[]}=p,S=qO(b),T=qO(N),C=Yce(i),M=g(function(){return o++,m.apply(null,arguments)},...S),E=_(function(){l++;const R=Zce(C,arguments);return u=M.apply(null,R),u},...T);return Object.assign(E,{resultFunc:m,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var Ce=eue(sB),tue=Object.assign((e,t=Ce)=>{Wce(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,h)=>(l[n[h]]=u,l),{}))},{withTypes:()=>tue}),V1={},H1={},q1={},WO;function nue(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(q1)),q1}var K1={},W1={},GO;function oB(){return GO||(GO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(W1)),W1}var YO;function rue(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(K1)),K1}var ZO;function iue(){return ZO||(ZO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nue(),n=rue(),r=DT();function i(o,l,u,h){if(o==null)return[];u=h?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const m=(_,N)=>{let S=_;for(let T=0;T<N.length&&S!=null;++T)S=S[N[T]];return S},p=(_,N)=>N==null||_==null?N:typeof _=="object"&&"key"in _?Object.hasOwn(N,_.key)?N[_.key]:m(N,_.path):typeof _=="function"?_(N):Array.isArray(_)?m(N,_):typeof N=="object"?N[_]:N,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:g.map(N=>p(N,_))})).slice().sort((_,N)=>{for(let S=0;S<g.length;S++){const T=t.compareValues(_.criteria[S],N.criteria[S],u[S]);if(T!==0)return T}return 0}).map(_=>_.original)}e.orderBy=i})(H1)),H1}var G1={},XO;function aue(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,h)=>{for(let m=0;m<u.length;m++){const p=u[m];Array.isArray(p)&&h<o?l(p,h+1):i.push(p)}};return l(n,0),i}e.flatten=t})(G1)),G1}var Y1={},QO;function lB(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aB(),n=$T(),r=JF(),i=tB();function o(l,u,h){return r.isObject(h)&&(typeof u=="number"&&n.isArrayLike(h)&&t.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?i.isEqualsSameValueZero(h[u],l):!1}e.isIterateeCall=o})(Y1)),Y1}var JO;function sue(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iue(),n=aue(),r=lB();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(V1)),V1}var Z1,eR;function oue(){return eR||(eR=1,Z1=sue().sortBy),Z1}var lue=oue();const Yx=mo(lue);var cB=e=>e.legend.settings,cue=e=>e.legend.size,uue=e=>e.legend.payload;Ce([uue,cB],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Yx(r,n):r});var ov=1;function due(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>ov||Math.abs(l.left-t.left)>ov||Math.abs(l.top-t.top)>ov||Math.abs(l.width-t.width)>ov)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function zi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fue=typeof Symbol=="function"&&Symbol.observable||"@@observable",tR=fue,X1=()=>Math.random().toString(36).substring(7).split("").join("."),hue={INIT:`@@redux/INIT${X1()}`,REPLACE:`@@redux/REPLACE${X1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X1()}`},by=hue;function UT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uB(e,t,n){if(typeof e!="function")throw new Error(zi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zi(1));return n(uB)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,h=!1;function m(){l===o&&(l=new Map,o.forEach((T,C)=>{l.set(C,T)}))}function p(){if(h)throw new Error(zi(3));return i}function g(T){if(typeof T!="function")throw new Error(zi(4));if(h)throw new Error(zi(5));let C=!0;m();const M=u++;return l.set(M,T),function(){if(C){if(h)throw new Error(zi(6));C=!1,m(),l.delete(M),o=null}}}function b(T){if(!UT(T))throw new Error(zi(7));if(typeof T.type>"u")throw new Error(zi(8));if(typeof T.type!="string")throw new Error(zi(17));if(h)throw new Error(zi(9));try{h=!0,i=r(i,T)}finally{h=!1}return(o=l).forEach(M=>{M()}),T}function _(T){if(typeof T!="function")throw new Error(zi(10));r=T,b({type:by.REPLACE})}function N(){const T=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(zi(11));function M(){const k=C;k.next&&k.next(p())}return M(),{unsubscribe:T(M)}},[tR](){return this}}}return b({type:by.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[tR]:N}}function mue(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:by.INIT})>"u")throw new Error(zi(12));if(typeof n(void 0,{type:by.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zi(13))})}function dB(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{mue(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let h=!1;const m={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],N=b(_,u);if(typeof N>"u")throw u&&u.type,new Error(zi(14));m[g]=N,h=h||N!==_}return h=h||r.length!==Object.keys(l).length,h?m:l}}function wy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function pue(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(zi(15))};const l={getState:i.getState,dispatch:(h,...m)=>o(h,...m)},u=e.map(h=>h(l));return o=wy(...u)(i.dispatch),{...i,dispatch:o}}}function fB(e){return UT(e)&&"type"in e&&typeof e.type=="string"}var hB=Symbol.for("immer-nothing"),nR=Symbol.for("immer-draftable"),ya=Symbol.for("immer-state");function Js(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ts=Object,Mf=ts.getPrototypeOf,Sy="constructor",Zx="prototype",X_="configurable",_y="enumerable",Lv="writable",Fm="value",Tl=e=>!!e&&!!e[ya];function ho(e){return e?mB(e)||Qx(e)||!!e[nR]||!!e[Sy]?.[nR]||Jx(e)||e0(e):!1}var gue=ts[Zx][Sy].toString(),rR=new WeakMap;function mB(e){if(!e||!VT(e))return!1;const t=Mf(e);if(t===null||t===ts[Zx])return!0;const n=ts.hasOwnProperty.call(t,Sy)&&t[Sy];if(n===Object)return!0;if(!Jd(n))return!1;let r=rR.get(n);return r===void 0&&(r=Function.toString.call(n),rR.set(n,r)),r===gue}function Xx(e,t,n=!0){bp(e)===0?(n?Reflect.ownKeys(e):ts.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function bp(e){const t=e[ya];return t?t.type_:Qx(e)?1:Jx(e)?2:e0(e)?3:0}var iR=(e,t,n=bp(e))=>n===2?e.has(t):ts[Zx].hasOwnProperty.call(e,t),Q_=(e,t,n=bp(e))=>n===2?e.get(t):e[t],jy=(e,t,n,r=bp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function vue(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qx=Array.isArray,Jx=e=>e instanceof Map,e0=e=>e instanceof Set,VT=e=>typeof e=="object",Jd=e=>typeof e=="function",Q1=e=>typeof e=="boolean";function yue(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var gl=e=>e.copy_||e.base_,HT=e=>e.modified_?e.copy_:e.base_;function J_(e,t){if(Jx(e))return new Map(e);if(e0(e))return new Set(e);if(Qx(e))return Array[Zx].slice.call(e);const n=mB(e);if(t===!0||t==="class_only"&&!n){const r=ts.getOwnPropertyDescriptors(e);delete r[ya];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[Lv]===!1&&(u[Lv]=!0,u[X_]=!0),(u.get||u.set)&&(r[l]={[X_]:!0,[Lv]:!0,[_y]:u[_y],[Fm]:e[l]})}return ts.create(Mf(e),r)}else{const r=Mf(e);if(r!==null&&n)return{...e};const i=ts.create(r);return ts.assign(i,e)}}function qT(e,t=!1){return t0(e)||Tl(e)||!ho(e)||(bp(e)>1&&ts.defineProperties(e,{set:lv,add:lv,clear:lv,delete:lv}),ts.freeze(e),t&&Xx(e,(n,r)=>{qT(r,!0)},!1)),e}function xue(){Js(2)}var lv={[Fm]:xue};function t0(e){return e===null||!VT(e)?!0:ts.isFrozen(e)}var Ny="MapSet",ej="Patches",aR="ArrayMethods",pB={};function ed(e){const t=pB[e];return t||Js(0,e),t}var sR=e=>!!pB[e],Bm,gB=()=>Bm,bue=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sR(Ny)?ed(Ny):void 0,arrayMethodsPlugin_:sR(aR)?ed(aR):void 0});function oR(e,t){t&&(e.patchPlugin_=ed(ej),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tj(e){nj(e),e.drafts_.forEach(wue),e.drafts_=null}function nj(e){e===Bm&&(Bm=e.parent_)}var lR=e=>Bm=bue(Bm,e);function wue(e){const t=e[ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ya].modified_&&(tj(t),Js(4)),ho(e)&&(e=uR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ya].base_,e,t)}else e=uR(t,n);return Sue(t,e,!0),tj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hB?e:void 0}function uR(e,t){if(t0(t))return t;const n=t[ya];if(!n)return Ty(t,e.handledSet_,e);if(!n0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);xB(n,e)}return n.copy_}function Sue(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qT(t,n)}function vB(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var n0=(e,t)=>e.scope_===t,_ue=[];function yB(e,t,n,r){const i=gl(e),o=e.type_;if(r!==void 0&&Q_(i,r,o)===t){jy(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Xx(i,(h,m)=>{if(Tl(m)){const p=u.get(m)||[];p.push(h),u.set(m,p)}})}const l=e.draftLocations_.get(t)??_ue;for(const u of l)jy(i,u,n,o)}function jue(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!n0(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const l=HT(o);yB(e,o.draft_??o,l,n),xB(o,i)})}function xB(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}vB(e)}}function Nue(e,t,n){const{scope_:r}=e;if(Tl(n)){const i=n[ya];n0(i,r)&&i.callbacks_.push(function(){zv(e);const l=HT(i);yB(e,n,l,t)})}else ho(n)&&e.callbacks_.push(function(){const o=gl(e);e.type_===3?o.has(n)&&Ty(n,r.handledSet_,r):Q_(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ty(Q_(e.copy_,t,e.type_),r.handledSet_,r)})}function Ty(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Tl(e)||t.has(e)||!ho(e)||t0(e)||(t.add(e),Xx(e,(r,i)=>{if(Tl(i)){const o=i[ya];if(n0(o,n)){const l=HT(o);jy(e,r,l,e.type_),vB(o)}}else ho(i)&&Ty(i,t,n)})),e}function Tue(e,t){const n=Qx(e),r={type_:n?1:0,scope_:t?t.scope_:gB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Py;n&&(i=[r],o=Um);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var Py={get(e,t){if(t===ya)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=gl(e);if(!iR(i,t,e.type_))return Pue(e,i,t);const o=i[t];if(e.finalized_||!ho(o)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&yue(t))return o;if(o===J1(e.base_,t)){zv(e);const l=e.type_===1?+t:t,u=ij(e.scope_,o,e,l);return e.copy_[l]=u}return o},has(e,t){return t in gl(e)},ownKeys(e){return Reflect.ownKeys(gl(e))},set(e,t,n){const r=bB(gl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=J1(gl(e),t),o=i?.[ya];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(vue(n,i)&&(n!==void 0||iR(e.base_,t,e.type_)))return!0;zv(e),rj(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Nue(e,t,n)),!0},deleteProperty(e,t){return zv(e),J1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),rj(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=gl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Lv]:!0,[X_]:e.type_!==1||t!=="length",[_y]:r[_y],[Fm]:n[t]}},defineProperty(){Js(11)},getPrototypeOf(e){return Mf(e.base_)},setPrototypeOf(){Js(12)}},Um={};for(let e in Py){let t=Py[e];Um[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Um.deleteProperty=function(e,t){return Um.set.call(this,e,t,void 0)};Um.set=function(e,t,n){return Py.set.call(this,e[0],t,n,e[0])};function J1(e,t){const n=e[ya];return(n?gl(n):e)[t]}function Pue(e,t,n){const r=bB(t,n);return r?Fm in r?r[Fm]:r.get?.call(e.draft_):void 0}function bB(e,t){if(!(t in e))return;let n=Mf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Mf(n)}}function rj(e){e.modified_||(e.modified_=!0,e.parent_&&rj(e.parent_))}function zv(e){e.copy_||(e.assigned_=new Map,e.copy_=J_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Cue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Jd(n)&&!Jd(r)){const l=r;r=n;const u=this;return function(m=l,...p){return u.produce(m,g=>r.call(this,g,...p))}}Jd(r)||Js(6),i!==void 0&&!Jd(i)&&Js(7);let o;if(ho(n)){const l=lR(this),u=ij(l,n,void 0);let h=!0;try{o=r(u),h=!1}finally{h?tj(l):nj(l)}return oR(l,i),cR(o,l)}else if(!n||!VT(n)){if(o=r(n),o===void 0&&(o=n),o===hB&&(o=void 0),this.autoFreeze_&&qT(o,!0),i){const l=[],u=[];ed(ej).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Js(1,n)},this.produceWithPatches=(n,r)=>{if(Jd(n))return(u,...h)=>this.produceWithPatches(u,m=>n(m,...h));let i,o;return[this.produce(n,r,(u,h)=>{i=u,o=h}),i,o]},Q1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Q1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Q1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ho(t)||Js(8),Tl(t)&&(t=lo(t));const n=lR(this),r=ij(n,t,void 0);return r[ya].isManual_=!0,nj(n),r}finishDraft(t,n){const r=t&&t[ya];(!r||!r.isManual_)&&Js(9);const{scope_:i}=r;return oR(i,n),cR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=ed(ej).applyPatches_;return Tl(t)?i(t,n):this.produce(t,o=>i(o,n))}};function ij(e,t,n,r){const[i,o]=Jx(t)?ed(Ny).proxyMap_(t,n):e0(t)?ed(Ny).proxySet_(t,n):Tue(t,n);return(n?.scope_??gB()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?jue(n,o,r):o.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:m}=h;o.modified_&&m&&m.generatePatches_(o,[],h)}),i}function lo(e){return Tl(e)||Js(10,e),wB(e)}function wB(e){if(!ho(e)||t0(e))return e;const t=e[ya];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=J_(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=J_(e,!0);return Xx(n,(i,o)=>{jy(n,i,wB(o))},r),t&&(t.finalized_=!1),n}var Aue=new Cue,SB=Aue.produce;function _B(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Eue=_B(),Mue=_B,kue=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wy:wy.apply(null,arguments)};function Rs(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(rs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fB(r)&&r.type===e,n}var jB=class mm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mm.prototype)}static get[Symbol.species](){return mm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mm(...t[0].concat(this)):new mm(...t.concat(this))}};function dR(e){return ho(e)?SB(e,()=>{}):e}function cv(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Oue(e){return typeof e=="boolean"}var Rue=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new jB;return n&&(Oue(n)?l.push(Eue):l.push(Mue(n.extraArgument))),l},NB="RTK_autoBatch",vr=()=>e=>({payload:e,meta:{[NB]:!0}}),fR=e=>t=>{setTimeout(t,e)},TB=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fR(10):e.type==="callback"?e.queueNotification:fR(e.timeout),m=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[NB],o=!i,o&&(l||(l=!0,h(m))),r.dispatch(p)}finally{i=!0}}})},Due=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new jB(e);return r&&i.push(TB(typeof r=="object"?r:void 0)),i};function Iue(e){const t=Rue(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(UT(n))u=dB(n);else throw new Error(rs(1));let h;typeof r=="function"?h=r(t):h=t();let m=wy;i&&(m=kue({trace:!1,...typeof i=="object"&&i}));const p=pue(...h),g=Due(p);let b=typeof l=="function"?l(g):g();const _=m(...b);return uB(u,o,_)}function PB(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(rs(28));if(u in t)throw new Error(rs(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Lue(e){return typeof e=="function"}function zue(e,t){let[n,r,i]=PB(t),o;if(Lue(e))o=()=>dR(e());else{const u=dR(e);o=()=>u}function l(u=o(),h){let m=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,g)=>{if(g)if(Tl(p)){const _=g(p,h);return _===void 0?p:_}else{if(ho(p))return SB(p,b=>g(b,h));{const b=g(p,h);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=o,l}var $ue="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fue=(e=21)=>{let t="",n=e;for(;n--;)t+=$ue[Math.random()*64|0];return t},Bue=Symbol.for("rtk-slice-createasyncthunk");function Uue(e,t){return`${e}/${t}`}function Vue({creators:e}={}){const t=e?.asyncThunk?.[Bue];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(rs(11));const l=(typeof r.reducers=="function"?r.reducers(que()):r.reducers)||{},u=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(E,k){const R=typeof E=="string"?E:E.type;if(!R)throw new Error(rs(12));if(R in h.sliceCaseReducersByType)throw new Error(rs(13));return h.sliceCaseReducersByType[R]=k,m},addMatcher(E,k){return h.sliceMatchers.push({matcher:E,reducer:k}),m},exposeAction(E,k){return h.actionCreators[E]=k,m},exposeCaseReducer(E,k){return h.sliceCaseReducersByName[E]=k,m}};u.forEach(E=>{const k=l[E],R={reducerName:E,type:Uue(i,E),createNotation:typeof r.reducers=="function"};Wue(k)?Yue(R,k,m,t):Kue(R,k,m)});function p(){const[E={},k=[],R=void 0]=typeof r.extraReducers=="function"?PB(r.extraReducers):[r.extraReducers],I={...E,...h.sliceCaseReducersByType};return zue(r.initialState,D=>{for(let F in I)D.addCase(F,I[F]);for(let F of h.sliceMatchers)D.addMatcher(F.matcher,F.reducer);for(let F of k)D.addMatcher(F.matcher,F.reducer);R&&D.addDefaultCase(R)})}const g=E=>E,b=new Map,_=new WeakMap;let N;function S(E,k){return N||(N=p()),N(E,k)}function T(){return N||(N=p()),N.getInitialState()}function C(E,k=!1){function R(D){let F=D[E];return typeof F>"u"&&k&&(F=cv(_,R,T)),F}function I(D=g){const F=cv(b,k,()=>new WeakMap);return cv(F,D,()=>{const Y={};for(const[ne,W]of Object.entries(r.selectors??{}))Y[ne]=Hue(W,D,()=>cv(_,D,T),k);return Y})}return{reducerPath:E,getSelectors:I,get selectors(){return I(R)},selectSlice:R}}const M={name:i,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...C(o),injectInto(E,{reducerPath:k,...R}={}){const I=k??o;return E.inject({reducerPath:I,reducer:S},R),{...M,...C(I,!0)}}};return M}}function Hue(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Ba=Vue();function que(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Kue({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!Gue(r))throw new Error(rs(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?Rs(e,l):Rs(e))}function Wue(e){return e._reducerDefinitionType==="asyncThunk"}function Gue(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Yue({type:e,reducerName:t},n,r,i){if(!i)throw new Error(rs(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:h,settled:m,options:p}=n,g=i(e,o,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),h&&r.addCase(g.rejected,h),m&&r.addMatcher(g.settled,m),r.exposeCaseReducer(t,{fulfilled:l||uv,pending:u||uv,rejected:h||uv,settled:m||uv})}function uv(){}var Zue="task",CB="listener",AB="completed",KT="cancelled",Xue=`task-${KT}`,Que=`task-${AB}`,aj=`${CB}-${KT}`,Jue=`${CB}-${AB}`,r0=class{constructor(e){this.code=e,this.message=`${Zue} ${KT} (reason: ${e})`}name="TaskAbortError";message},WT=(e,t)=>{if(typeof e!="function")throw new TypeError(rs(32))},Cy=()=>{},EB=(e,t=Cy)=>(e.catch(t),e),MB=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Uu=e=>{if(e.aborted)throw new r0(e.reason)};function kB(e,t){let n=Cy;return new Promise((r,i)=>{const o=()=>i(new r0(e.reason));if(e.aborted){o();return}n=MB(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Cy})}var ede=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof r0?"cancelled":"rejected",error:n}}finally{t?.()}},Ay=e=>t=>EB(kB(e,t).then(n=>(Uu(e),n))),OB=e=>{const t=Ay(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:pf}=Object,hR={},i0="listenerMiddleware",tde=(e,t)=>{const n=r=>MB(e,()=>r.abort(e.reason));return(r,i)=>{WT(r);const o=new AbortController;n(o);const l=ede(async()=>{Uu(e),Uu(o.signal);const u=await r({pause:Ay(o.signal),delay:OB(o.signal),signal:o.signal});return Uu(o.signal),u},()=>o.abort(Que));return i?.autoJoin&&t.push(l.catch(Cy)),{result:Ay(e)(l),cancel(){o.abort(Xue)}}}},nde=(e,t)=>{const n=async(r,i)=>{Uu(t);let o=()=>{};const u=[new Promise((h,m)=>{let p=e({predicate:r,effect:(g,b)=>{b.unsubscribe(),h([g,b.getState(),b.getOriginalState()])}});o=()=>{p(),m()}})];i!=null&&u.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await kB(t,Promise.race(u));return Uu(t),h}finally{o()}};return(r,i)=>EB(n(r,i))},RB=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Rs(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(rs(21));return WT(o),{predicate:i,type:t,effect:o}},DB=pf(e=>{const{type:t,predicate:n,effect:r}=RB(e);return{id:Fue(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(rs(22))}}},{withTypes:()=>DB}),mR=(e,t)=>{const{type:n,effect:r,predicate:i}=RB(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},sj=e=>{e.pending.forEach(t=>{t.abort(aj)})},rde=(e,t)=>()=>{for(const n of t.keys())sj(n);e.clear()},pR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},IB=pf(Rs(`${i0}/add`),{withTypes:()=>IB}),ide=Rs(`${i0}/removeAll`),LB=pf(Rs(`${i0}/remove`),{withTypes:()=>LB}),ade=(...e)=>{console.error(`${i0}/error`,...e)},wp=(e={})=>{const t=new Map,n=new Map,r=_=>{const N=n.get(_)??0;n.set(_,N+1)},i=_=>{const N=n.get(_)??1;N===1?n.delete(_):n.set(_,N-1)},{extra:o,onError:l=ade}=e;WT(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),N=>{_.unsubscribe(),N?.cancelActive&&sj(_)}),h=_=>{const N=mR(t,_)??DB(_);return u(N)};pf(h,{withTypes:()=>h});const m=_=>{const N=mR(t,_);return N&&(N.unsubscribe(),_.cancelActive&&sj(N)),!!N};pf(m,{withTypes:()=>m});const p=async(_,N,S,T)=>{const C=new AbortController,M=nde(h,C.signal),E=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(N,pf({},S,{getOriginalState:T,condition:(k,R)=>M(k,R).then(Boolean),take:M,delay:OB(C.signal),pause:Ay(C.signal),extra:o,signal:C.signal,fork:tde(C.signal,E),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((k,R,I)=>{k!==C&&(k.abort(aj),I.delete(k))})},cancel:()=>{C.abort(aj),_.pending.delete(C)},throwIfCancelled:()=>{Uu(C.signal)}})))}catch(k){k instanceof r0||pR(l,k,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(Jue),i(_),_.pending.delete(C)}},g=rde(t,n);return{middleware:_=>N=>S=>{if(!fB(S))return N(S);if(IB.match(S))return h(S.payload);if(ide.match(S)){g();return}if(LB.match(S))return m(S.payload);let T=_.getState();const C=()=>{if(T===hR)throw new Error(rs(23));return T};let M;try{if(M=N(S),t.size>0){const E=_.getState(),k=Array.from(t.values());for(const R of k){let I=!1;try{I=R.predicate(S,E,T)}catch(D){I=!1,pR(l,D,{raisedBy:"predicate"})}I&&p(R,S,_,C)}}}finally{T=hR}return M},startListening:h,stopListening:m,clearListeners:g}};function rs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sde={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zB=Ba({name:"chartLayout",initialState:sde,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ode,setLayout:lde,setChartSize:cde,setScale:ude}=zB.actions,dde=zB.reducer;function $B(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function pn(e){return Number.isFinite(e)}function Wo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){fde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fde(e,t,n){return(t=hde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hde(e){var t=mde(e,"string");return typeof t=="symbol"?t:t+""}function mde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t,n){return Ur(e)||Ur(t)?n:Ko(t)?Ef(e,t,n):typeof t=="function"?t(e):n}var pde=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&jt(e[o]))return sf(sf({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&jt(e[l]))return sf(sf({},e),{},{[l]:e[l]+(i||0)})}return e},Zo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",FB=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},BB=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:h,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:_}=e;if(!l)return null;var N=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/N:0;if(S=_==="angleAxis"&&o&&o.length>=2?Ps(o[0]-o[1])*2*S:S,g||b){var T=(g||b||[]).map((C,M)=>{var E=r?r.indexOf(C):C,k=l.map(E);return pn(k)?{coordinate:k+S,value:C,offset:S,index:M}:null}).filter(Ia);return T}return h&&m?m.map((C,M)=>{var E=l.map(C);return pn(E)?{coordinate:E+S,value:C,index:M,offset:S}:null}).filter(Ia):l.ticks&&p!=null?l.ticks(p).map((C,M)=>{var E=l.map(C);return pn(E)?{coordinate:E+S,value:C,index:M,offset:S}:null}).filter(Ia):l.domain().map((C,M)=>{var E=l.map(C);return pn(E)?{coordinate:E+S,value:r?r[C]:C,index:M,offset:S}:null}).filter(Ia)},gde=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var h=e[u],m=h?.[i];if(m!=null){var p=m[1],g=m[0],b=qo(p)?g:p;b>=0?(m[0]=o,o+=b,m[1]=o):(m[0]=l,l+=b,m[1]=l)}}}},vde=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],h=u?.[i];if(h!=null){var m=qo(h[1])?h[0]:h[1];m>=0?(h[0]=o,o+=m,h[1]=o):(h[0]=0,h[1]=0)}}}},yde={sign:gde,expand:Wle,none:Qu,silhouette:Gle,wiggle:Yle,positive:vde},xde=(e,t,n)=>{var r,i=(r=yde[n])!==null&&r!==void 0?r:Qu,o=Kle().keys(t).value((u,h)=>Number(Xr(u,h,0))).order(Y_).offset(i),l=o(e);return l.forEach((u,h)=>{u.forEach((m,p)=>{var g=Xr(e[p],t[h],0);Array.isArray(g)&&g.length===2&&jt(g[0])&&jt(g[1])&&(m[0]=g[0],m[1]=g[1])})}),l};function bde(e){return e==null?void 0:String(e)}function Ey(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ur(i[t.dataKey])){var u=GF(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var h=Xr(i,Ur(l)?t.dataKey:l),m=t.scale.map(h);return jt(m)?m:null}var wde=e=>{var t=e.flat(2).filter(jt);return[Math.min(...t),Math.max(...t)]},Sde=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_de=(e,t,n)=>{if(e!=null)return Sde(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((h,m)=>{var p=$B(m,t,n),g=wde(p);return!pn(g[0])||!pn(g[1])?h:[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},vR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,My=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Yx(t,p=>p.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var h=i[l],m=i[l-1];o=Math.min((h?.coordinate||0)-(m?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function xR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return sf(sf({},t),{},{dataKey:n,payload:r,value:i,name:o})}function a0(e,t){if(e)return String(e);if(typeof t=="string")return t}var jde=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Nde=(e,t)=>t==="centric"?e.angle:e.radius,Rl=e=>e.layout.width,Dl=e=>e.layout.height,Tde=e=>e.layout.scale,UB=e=>e.layout.margin,s0=Ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),o0=Ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Pde="data-recharts-item-index",VB="data-recharts-item-id",Sp=60;function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(n),!0).forEach(function(r){Cde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cde(e,t,n){return(t=Ade(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ade(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mde=e=>e.brush.height;function kde(e){var t=o0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sp;return n+i}return n},0)}function Ode(e){var t=o0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sp;return n+i}return n},0)}function Rde(e){var t=s0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Dde(e){var t=s0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hi=Ce([Rl,Dl,UB,Mde,kde,Ode,Rde,Dde,cB,cue],(e,t,n,r,i,o,l,u,h,m)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=dv(dv({},g),p),_=b.bottom;b.bottom+=r,b=pde(b,h,m);var N=e-b.left-b.right,S=t-b.top-b.bottom;return dv(dv({brushBottom:_},b),{},{width:Math.max(N,0),height:Math.max(S,0)})}),Ide=Ce(Hi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),HB=Ce(Rl,Dl,(e,t)=>({x:0,y:0,width:e,height:t})),Lde=v.createContext(null),aa=()=>v.useContext(Lde)!=null,l0=e=>e.brush,c0=Ce([l0,Hi,UB],(e,t,n)=>({height:e.height,x:jt(e.x)?e.x:t.left,y:jt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:jt(e.width)?e.width:t.width})),eS={},tS={},nS={},wR;function zde(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{m&&p(),S()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},N=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{N(),l=void 0,u=null},T=()=>{p()},C=function(...M){if(i?.aborted)return;l=this,u=M;const E=b==null;_(),h&&E&&p()};return C.schedule=_,C.cancel=S,C.flush=T,i?.addEventListener("abort",S,{once:!0}),C}e.debounce=t})(nS)),nS}var SR;function $de(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zde();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:h}=o,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let p,g=null;const b=t.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:m}),_=function(...S){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(p=r.apply(this,S),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,S),p)},N=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=N,_}e.debounce=n})(tS)),tS}var _R;function Fde(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$de();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(eS)),eS}var rS,jR;function Bde(){return jR||(jR=1,rS=Fde().throttle),rS}var Ude=Bde();const Vde=mo(Ude);var ky=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Lo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},qB=(e,t,n)=>{var{width:r=Lo.width,height:i=Lo.height,aspect:o,maxHeight:l}=n,u=Ju(r)?e:Number(r),h=Ju(i)?t:Number(i);return o&&o>0&&(u?h=u/o:h&&(u=h*o),l&&h!=null&&h>l&&(h=l)),{calculatedWidth:u,calculatedHeight:h}},Hde={width:0,height:0,overflow:"visible"},qde={width:0,overflowX:"visible"},Kde={height:0,overflowY:"visible"},Wde={},Gde=e=>{var{width:t,height:n}=e,r=Ju(t),i=Ju(n);return r&&i?Hde:r?qde:i?Kde:Wde};function Yde(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=Lo.width,o=Lo.height):i===void 0?i=r&&r>0?void 0:Lo.width:o===void 0&&(o=r&&r>0?void 0:Lo.height),{width:i,height:o}}function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oj.apply(null,arguments)}function NR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(n),!0).forEach(function(r){Zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zde(e,t,n){return(t=Xde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xde(e){var t=Qde(e,"string");return typeof t=="symbol"?t:t+""}function Qde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KB=v.createContext(Lo.initialDimension);function Jde(e){return Wo(e.width)&&Wo(e.height)}function WB(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return Jde(i)?v.createElement(KB.Provider,{value:i},t):null}var GT=()=>v.useContext(KB),efe=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Lo.initialDimension,width:i,height:o,minWidth:l=Lo.minWidth,minHeight:u,maxHeight:h,children:m,debounce:p=Lo.debounce,id:g,className:b,onResize:_,style:N={}}=e,S=v.useRef(null),T=v.useRef();T.current=_,v.useImperativeHandle(t,()=>S.current);var[C,M]=v.useState({containerWidth:r.width,containerHeight:r.height}),E=v.useCallback((F,Y)=>{M(ne=>{var W=Math.round(F),Z=Math.round(Y);return ne.containerWidth===W&&ne.containerHeight===Z?ne:{containerWidth:W,containerHeight:Z}})},[]);v.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return eh;var F=Z=>{var re,ce=Z[0];if(ce!=null){var{width:fe,height:K}=ce.contentRect;E(fe,K),(re=T.current)===null||re===void 0||re.call(T,fe,K)}};p>0&&(F=Vde(F,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver(F),{width:ne,height:W}=S.current.getBoundingClientRect();return E(ne,W),Y.observe(S.current),()=>{Y.disconnect()}},[E,p]);var{containerWidth:k,containerHeight:R}=C;ky(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:D}=qB(k,R,{width:i,height:o,aspect:n,maxHeight:h});return ky(I!=null&&I>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,i,o,l,u,n),v.createElement("div",{id:g?"".concat(g):void 0,className:zn("recharts-responsive-container",b),style:TR(TR({},N),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:h}),ref:S},v.createElement("div",{style:Gde({width:i,height:o})},v.createElement(WB,{width:I,height:D},m)))}),tfe=v.forwardRef((e,t)=>{var n=GT();if(Wo(n.width)&&Wo(n.height))return e.children;var{width:r,height:i}=Yde({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=qB(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return jt(o)&&jt(l)?v.createElement(WB,{width:o,height:l},e.children):v.createElement(efe,oj({},e,{width:r,height:i,ref:t}))});function YT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var _p=()=>{var e,t=aa(),n=Ot(Ide),r=Ot(c0),i=(e=Ot(l0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},nfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GB=()=>{var e;return(e=Ot(Hi))!==null&&e!==void 0?e:nfe},YB=()=>Ot(Rl),ZB=()=>Ot(Dl),xr=e=>e.layout.layoutType,th=()=>Ot(xr),ZT=()=>{var e=th();if(e==="horizontal"||e==="vertical")return e},XB=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},rfe=()=>{var e=th();return e!==void 0},jp=e=>{var t=Qr(),n=aa(),{width:r,height:i}=e,o=GT(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),v.useEffect(()=>{!n&&Wo(l)&&Wo(u)&&t(cde({width:l,height:u}))},[t,n,l,u]),null},QB=Symbol.for("immer-nothing"),PR=Symbol.for("immer-draftable"),as=Symbol.for("immer-state");function eo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vm=Object.getPrototypeOf;function kf(e){return!!e&&!!e[as]}function td(e){return e?JB(e)||Array.isArray(e)||!!e[PR]||!!e.constructor?.[PR]||Np(e)||d0(e):!1}var ife=Object.prototype.constructor.toString(),CR=new WeakMap;function JB(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=CR.get(n);return r===void 0&&(r=Function.toString.call(n),CR.set(n,r)),r===ife}function Oy(e,t,n=!0){u0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function u0(e){const t=e[as];return t?t.type_:Array.isArray(e)?1:Np(e)?2:d0(e)?3:0}function lj(e,t){return u0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function e8(e,t,n){const r=u0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function afe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Np(e){return e instanceof Map}function d0(e){return e instanceof Set}function Pu(e){return e.copy_||e.base_}function cj(e,t){if(Np(e))return new Map(e);if(d0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=JB(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[as];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Vm(e),r)}else{const r=Vm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function XT(e,t=!1){return f0(e)||kf(e)||!td(e)||(u0(e)>1&&Object.defineProperties(e,{set:fv,add:fv,clear:fv,delete:fv}),Object.freeze(e),t&&Object.values(e).forEach(n=>XT(n,!0))),e}function sfe(){eo(2)}var fv={value:sfe};function f0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ofe={};function nd(e){const t=ofe[e];return t||eo(0,e),t}var Hm;function t8(){return Hm}function lfe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AR(e,t){t&&(nd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uj(e){dj(e),e.drafts_.forEach(cfe),e.drafts_=null}function dj(e){e===Hm&&(Hm=e.parent_)}function ER(e){return Hm=lfe(Hm,e)}function cfe(e){const t=e[as];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[as].modified_&&(uj(t),eo(4)),td(e)&&(e=Ry(t,e),t.parent_||Dy(t,e)),t.patches_&&nd("Patches").generateReplacementPatches_(n[as].base_,e,t.patches_,t.inversePatches_)):e=Ry(t,n,[]),uj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==QB?e:void 0}function Ry(e,t,n){if(f0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[as];if(!i)return Oy(t,(o,l)=>kR(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Dy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Oy(l,(h,m)=>kR(e,i,o,h,m,n,u),r),Dy(e,o,!1),n&&e.patches_&&nd("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function kR(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=f0(i);if(!(u&&!l)){if(kf(i)){const h=o&&t&&t.type_!==3&&!lj(t.assigned_,r)?o.concat(r):void 0,m=Ry(e,i,h);if(e8(n,r,m),kf(m))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(td(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Ry(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Np(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Dy(e,i)}}}function Dy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XT(t,n)}function ufe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:t8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=QT;n&&(i=[r],o=qm);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var QT={get(e,t){if(t===as)return e;const n=Pu(e);if(!lj(n,t))return dfe(e,n,t);const r=n[t];return e.finalized_||!td(r)?r:r===iS(e.base_,t)?(aS(e),e.copy_[t]=hj(r,e)):r},has(e,t){return t in Pu(e)},ownKeys(e){return Reflect.ownKeys(Pu(e))},set(e,t,n){const r=n8(Pu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=iS(Pu(e),t),o=i?.[as];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(afe(n,i)&&(n!==void 0||lj(e.base_,t)))return!0;aS(e),fj(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return iS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,aS(e),fj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){eo(11)},getPrototypeOf(e){return Vm(e.base_)},setPrototypeOf(){eo(12)}},qm={};Oy(QT,(e,t)=>{qm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qm.deleteProperty=function(e,t){return qm.set.call(this,e,t,void 0)};qm.set=function(e,t,n){return QT.set.call(this,e[0],t,n,e[0])};function iS(e,t){const n=e[as];return(n?Pu(n):e)[t]}function dfe(e,t,n){const r=n8(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function n8(e,t){if(!(t in e))return;let n=Vm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Vm(n)}}function fj(e){e.modified_||(e.modified_=!0,e.parent_&&fj(e.parent_))}function aS(e){e.copy_||(e.copy_=cj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ffe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(h=o,...m){return l.produce(h,p=>n.call(this,p,...m))}}typeof n!="function"&&eo(6),r!==void 0&&typeof r!="function"&&eo(7);let i;if(td(t)){const o=ER(this),l=hj(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?uj(o):dj(o)}return AR(o,r),MR(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===QB&&(i=void 0),this.autoFreeze_&&XT(i,!0),r){const o=[],l=[];nd("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else eo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,h=>t(h,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){td(e)||eo(8),kf(e)&&(e=hfe(e));const t=ER(this),n=hj(e,void 0);return n[as].isManual_=!0,dj(t),n}finishDraft(e,t){const n=e&&e[as];(!n||!n.isManual_)&&eo(9);const{scope_:r}=n;return AR(r,t),MR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=nd("Patches").applyPatches_;return kf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function hj(e,t){const n=Np(e)?nd("MapSet").proxyMap_(e,t):d0(e)?nd("MapSet").proxySet_(e,t):ufe(e,t);return(t?t.scope_:t8()).drafts_.push(n),n}function hfe(e){return kf(e)||eo(10,e),r8(e)}function r8(e){if(!td(e)||f0(e))return e;const t=e[as];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cj(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cj(e,!0);return Oy(n,(i,o)=>{e8(n,i,r8(o))},r),t&&(t.finalized_=!1),n}var mfe=new ffe;mfe.produce;var pfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i8=Ba({name:"legend",initialState:pfe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:vr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=lo(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:vr()},removeLegendPayload:{reducer(e,t){var n=lo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:vr()}}}),{setLegendSize:w2e,setLegendSettings:S2e,addLegendPayload:gfe,replaceLegendPayload:vfe,removeLegendPayload:yfe}=i8.actions,xfe=i8.reducer;function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mj.apply(null,arguments)}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){bfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bfe(e,t,n){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wfe(e){var t=Sfe(e,"string");return typeof t=="symbol"?t:t+""}function Sfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _fe(e){return Array.isArray(e)&&Ko(e[0])&&Ko(e[1])?e.join(" ~ "):e}var Wd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},jfe=e=>{var{separator:t=Wd.separator,contentStyle:n,itemStyle:r,labelStyle:i=Wd.labelStyle,payload:o,formatter:l,itemSorter:u,wrapperClassName:h,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=Wd.accessibilityLayer}=e,_=()=>{if(o&&o.length){var R={padding:0,margin:0},I=(u?Yx(o,u):o).map((D,F)=>{if(D.type==="none")return null;var Y=D.formatter||l||_fe,{value:ne,name:W}=D,Z=ne,re=W;if(Y){var ce=Y(ne,W,D,F,o);if(Array.isArray(ce))[Z,re]=ce;else if(ce!=null)Z=ce;else return null}var fe=em(em({},Wd.itemStyle),{},{color:D.color||Wd.itemStyle.color},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:fe},Ko(re)?v.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Ko(re)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},Z),v.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:R},I)}return null},N=em(em({},Wd.contentStyle),n),S=em({margin:0},i),T=!Ur(p),C=T?p:"",M=zn("recharts-default-tooltip",h),E=zn("recharts-tooltip-label",m);T&&g&&o!==void 0&&o!==null&&(C=g(p,o));var k=b?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",mj({className:M,style:N},k),v.createElement("p",{className:E,style:S},v.isValidElement(C)?C:"".concat(C)),_())},tm="recharts-tooltip-wrapper",Nfe={visibility:"hidden"};function Tfe(e){var{coordinate:t,translateX:n,translateY:r}=e;return zn(tm,{["".concat(tm,"-right")]:jt(n)&&t&&jt(t.x)&&n>=t.x,["".concat(tm,"-left")]:jt(n)&&t&&jt(t.x)&&n<t.x,["".concat(tm,"-bottom")]:jt(r)&&t&&jt(t.y)&&r>=t.y,["".concat(tm,"-top")]:jt(r)&&t&&jt(t.y)&&r<t.y})}function RR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:h,viewBoxDimension:m}=e;if(o&&jt(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var b=h[r];if(b==null)return 0;if(l[r]){var _=p,N=b;return _<N?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var S=g+u,T=b+m;return S>T?Math.max(p,b):Math.max(g,b)}function Pfe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Cfe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:l,tooltipBox:u,useTranslate3d:h,viewBox:m}=e,p,g,b;return u.height>0&&u.width>0&&n?(g=RR({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:l,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),b=RR({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:l,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),p=Pfe({translateX:g,translateY:b,useTranslate3d:h})):p=Nfe,{cssProperties:p,cssClasses:Tfe({translateX:g,translateY:b,coordinate:n})}}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){pj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pj(e,t,n){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Afe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mfe extends v.PureComponent{constructor(){super(...arguments),pj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:h,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:N,lastBoundingBox:S,innerRef:T,hasPortalFromProps:C}=this.props,M=typeof m=="number"?m:m.x,E=typeof m=="number"?m:m.y,{cssClasses:k,cssProperties:R}=Cfe({allowEscapeViewBox:n,coordinate:l,offsetLeft:M,offsetTop:E,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:_}),I=C?{}:hv(hv({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=hv(hv({},I),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},N);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:D,ref:T},o)}}var a8=()=>{var e;return(e=Ot(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gj.apply(null,arguments)}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){kfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kfe(e,t,n){return(t=Ofe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ofe(e){var t=Rfe(e,"string");return typeof t=="symbol"?t:t+""}function Rfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zR={curveBasisClosed:Dle,curveBasisOpen:Ile,curveBasis:Rle,curveBumpX:ble,curveBumpY:wle,curveLinearClosed:Lle,curveLinear:Wx,curveMonotoneX:zle,curveMonotoneY:$le,curveNatural:Fle,curveStep:Ble,curveStepAfter:Vle,curveStepBefore:Ule},Iy=e=>pn(e.x)&&pn(e.y),$R=e=>e.base!=null&&Iy(e.base)&&Iy(e),nm=e=>e.x,rm=e=>e.y,Dfe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(xp(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=zR["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return zR[n]||Wx},FR={connectNulls:!1,type:"linear"},Ife=e=>{var{type:t=FR.type,points:n=[],baseLine:r,layout:i,connectNulls:o=FR.connectNulls}=e,l=Dfe(t,i),u=o?n.filter(Iy):n;if(Array.isArray(r)){var h,m=n.map((N,S)=>LR(LR({},N),{},{base:r[S]}));i==="vertical"?h=av().y(rm).x1(nm).x0(N=>N.base.x):h=av().x(nm).y1(rm).y0(N=>N.base.y);var p=h.defined($R).curve(l),g=o?m.filter($R):m;return p(g)}var b;i==="vertical"&&jt(r)?b=av().y(rm).x1(nm).x0(r):jt(r)?b=av().x(nm).y1(rm).y0(r):b=DF().x(nm).y(rm);var _=b.defined(Iy).curve(l);return _(u)},gf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=th();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?Ife(l):r;return v.createElement("path",gj({},is(e),zT(e),{className:zn("recharts-curve",t),d:u===null?void 0:u,ref:i}))},Lfe=["x","y","top","left","width","height","className"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vj.apply(null,arguments)}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){$fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $fe(e,t,n){return(t=Ffe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ffe(e){var t=Bfe(e,"string");return typeof t=="symbol"?t:t+""}function Bfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ufe(e,t){if(e==null)return{};var n,r,i=Vfe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hfe=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),qfe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,h=Ufe(e,Lfe),m=zfe({x:t,y:n,top:r,left:i,width:o,height:l},h);return!jt(t)||!jt(n)||!jt(o)||!jt(l)||!jt(r)||!jt(i)?null:v.createElement("path",vj({},va(m),{className:zn("recharts-cross",u),d:Hfe(t,n,o,l,r,i)}))};function Kfe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){Wfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wfe(e,t,n){return(t=Gfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gfe(e){var t=Yfe(e,"string");return typeof t=="symbol"?t:t+""}function Yfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zfe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),s8=(e,t,n)=>e.map(r=>"".concat(Zfe(r)," ").concat(t,"ms ").concat(n)).join(","),Xfe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Km=(e,t)=>Object.keys(t).reduce((n,r)=>VR(VR({},n),{},{[r]:e(r,t[r])}),{});function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){Qfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qfe(e,t,n){return(t=Jfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jfe(e){var t=ehe(e,"string");return typeof t=="symbol"?t:t+""}function ehe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly=(e,t,n)=>e+(t-e)*n,yj=e=>{var{from:t,to:n}=e;return t!==n},o8=(e,t,n)=>{var r=Km((i,o)=>{if(yj(o)){var[l,u]=e(o.from,o.to,o.velocity);return di(di({},o),{},{from:l,velocity:u})}return o},t);return n<1?Km((i,o)=>yj(o)&&r[i]!=null?di(di({},o),{},{velocity:Ly(o.velocity,r[i].velocity,n),from:Ly(o.from,r[i].from,n)}):o,t):o8(e,r,n-1)};function the(e,t,n,r,i,o){var l,u=r.reduce((b,_)=>di(di({},b),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),h=()=>Km((b,_)=>_.from,u),m=()=>!Object.values(u).filter(yj).length,p=null,g=b=>{l||(l=b);var _=b-l,N=_/n.dt;u=o8(n,u,N),i(di(di(di({},e),t),h())),l=b,m()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function nhe(e,t,n,r,i,o,l){var u=null,h=i.reduce((g,b)=>{var _=e[b],N=t[b];return _==null||N==null?g:di(di({},g),{},{[b]:[_,N]})},{}),m,p=g=>{m||(m=g);var b=(g-m)/r,_=Km((S,T)=>Ly(...T,n(b)),h);if(o(di(di(di({},e),t),_)),b<1)u=l.setTimeout(p);else{var N=Km((S,T)=>Ly(...T,n(1)),h);o(di(di(di({},e),t),N))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const rhe=(e,t,n,r,i,o)=>{var l=Xfe(e,t);return n==null?()=>(i(di(di({},e),t)),()=>{}):n.isStepper===!0?the(e,t,n,l,i,o):nhe(e,t,n,r,l,i,o)};var zy=1e-4,l8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],c8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),qR=(e,t)=>n=>{var r=l8(e,t);return c8(r,n)},ihe=(e,t)=>n=>{var r=l8(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return c8(i,n)},ahe=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},she=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=ahe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},ohe=(e,t,n,r)=>{var i=qR(e,n),o=qR(t,r),l=ihe(e,n),u=m=>m>1?1:m<0?0:m,h=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var _=i(g)-p,N=l(g);if(Math.abs(_-p)<zy||N<zy)return o(g);g=u(g-_/N)}return o(g)};return h.isStepper=!1,h},KR=function(){return ohe(...she(...arguments))},lhe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,h)=>{var m=-(l-u)*n,p=h*r,g=h+(m-p)*i/1e3,b=h*i/1e3+l;return Math.abs(b-u)<zy&&Math.abs(g)<zy?[u,0]:[b,g]};return o.isStepper=!0,o.dt=i,o},che=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KR(e);case"spring":return lhe();default:if(e.split("(")[0]==="cubic-bezier")return KR(e)}return typeof e=="function"?e:null};function uhe(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[h,...m]=u;if(typeof h=="number"){i=e.setTimeout(o.bind(null,m),h);return}o(h),i=e.setTimeout(o.bind(null,m));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class dhe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function fhe(){return uhe(new dhe)}var hhe=v.createContext(fhe);function mhe(e,t){var n=v.useContext(hhe);return v.useMemo(()=>t??n(e),[e,t,n])}var phe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Tp={isSsr:phe()},ghe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WR={t:0},sS={t:1};function h0(e){var t=ia(e,ghe),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:h,children:m}=t,p=n==="auto"?!Tp.isSsr:n,g=mhe(t.animationId,t.animationManager),[b,_]=v.useState(p?WR:sS),N=v.useRef(null);return v.useEffect(()=>{p||_(sS)},[p]),v.useEffect(()=>{if(!p||!r)return eh;var S=rhe(WR,sS,che(o),i,_,g.getTimeoutController()),T=()=>{N.current=S()};return g.start([h,l,T,i,u]),()=>{g.stop(),N.current&&N.current(),u()}},[p,r,i,o,l,h,u,g]),m(b.t)}function m0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef($m(t)),r=v.useRef(e);return r.current!==e&&(n.current=$m(t),r.current=e),n.current}var vhe=["radius"],yhe=["radius"],GR,YR,ZR,XR,QR,JR,eD,tD,nD,rD;function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(r){xhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xhe(e,t,n){return(t=bhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bhe(e){var t=whe(e,"string");return typeof t=="symbol"?t:t+""}function whe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(null,arguments)}function sD(e,t){if(e==null)return{};var n,r,i=She(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function She(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var oD=(e,t,n,r,i)=>{var o=Ac(n),l=Ac(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),h=l>=0?1:-1,m=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,g;if(u>0&&Array.isArray(i)){for(var b=[0,0,0,0],_=0,N=4;_<N;_++){var S,T=(S=i[_])!==null&&S!==void 0?S:0;b[_]=T>u?u:T}g=Br(GR||(GR=Mo(["M",",",""])),e,t+h*b[0]),b[0]>0&&(g+=Br(YR||(YR=Mo(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,e+m*b[0],t)),g+=Br(ZR||(ZR=Mo(["L ",",",""])),e+n-m*b[1],t),b[1]>0&&(g+=Br(XR||(XR=Mo(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,e+n,t+h*b[1])),g+=Br(QR||(QR=Mo(["L ",",",""])),e+n,t+r-h*b[2]),b[2]>0&&(g+=Br(JR||(JR=Mo(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,e+n-m*b[2],t+r)),g+=Br(eD||(eD=Mo(["L ",",",""])),e+m*b[3],t+r),b[3]>0&&(g+=Br(tD||(tD=Mo(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,e,t+r-h*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);g=Br(nD||(nD=Mo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+h*C,C,C,p,e+m*C,t,e+n-m*C,t,C,C,p,e+n,t+h*C,e+n,t+r-h*C,C,C,p,e+n-m*C,t+r,e+m*C,t+r,C,C,p,e,t+r-h*C)}else g=Br(rD||(rD=Mo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},lD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u8=e=>{var t=ia(e,lD),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:l,width:u,height:h,radius:m,className:p}=t,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:N,isUpdateAnimationActive:S}=t,T=v.useRef(u),C=v.useRef(h),M=v.useRef(o),E=v.useRef(l),k=v.useMemo(()=>({x:o,y:l,width:u,height:h,radius:m}),[o,l,u,h,m]),R=m0(k,"rectangle-");if(o!==+o||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var I=zn("recharts-rectangle",p);if(!S){var D=va(t),{radius:F}=D,Y=sD(D,vhe);return v.createElement("path",$y({},Y,{x:Ac(o),y:Ac(l),width:Ac(u),height:Ac(h),radius:typeof m=="number"?m:void 0,className:I,d:oD(o,l,u,h,m)}))}var ne=T.current,W=C.current,Z=M.current,re=E.current,ce="0px ".concat(r===-1?1:r,"px"),fe="".concat(r,"px 0px"),K=s8(["strokeDasharray"],b,typeof g=="string"?g:lD.animationEasing);return v.createElement(h0,{animationId:R,key:R,canBegin:r>0,duration:b,easing:g,isActive:S,begin:_},Q=>{var H=hi(ne,u,Q),X=hi(W,h,Q),$=hi(Z,o,Q),G=hi(re,l,Q);n.current&&(T.current=H,C.current=X,M.current=$,E.current=G);var Ne;N?Q>0?Ne={transition:K,strokeDasharray:fe}:Ne={strokeDasharray:ce}:Ne={strokeDasharray:fe};var de=va(t),{radius:q}=de,ae=sD(de,yhe);return v.createElement("path",$y({},ae,{radius:typeof m=="number"?m:void 0,className:I,d:oD($,G,H,X,m),ref:n,style:aD(aD({},Ne),t.style)}))})};function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){_he(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _he(e,t,n){return(t=jhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jhe(e){var t=Nhe(e,"string");return typeof t=="symbol"?t:t+""}function Nhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fy=Math.PI/180,The=e=>e*180/Math.PI,Bi=(e,t,n,r)=>({x:e+Math.cos(-Fy*r)*n,y:t+Math.sin(-Fy*r)*n}),Phe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Che=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},Ahe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=Che({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,h=Math.acos(u);return r>o&&(h=2*Math.PI-h),{radius:l,angle:The(h),angleInRadian:h}},Ehe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},Mhe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},khe=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=Ahe({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:h,endAngle:m}=Ehe(t),p=o,g;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}return g?uD(uD({},t),{},{radius:i,angle:Mhe(p,t)}):null};function d8(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Bi(t,n,r,i),u=Bi(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var dD,fD,hD,mD,pD,gD,vD;function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xj.apply(null,arguments)}function Du(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ohe=(e,t)=>{var n=Ps(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},mv=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:h}=e,m=u*(l?1:-1)+r,p=Math.asin(u/m)/Fy,g=h?i:i+o*p,b=Bi(t,n,m,g),_=Bi(t,n,r,g),N=h?i-o*p:i,S=Bi(t,n,m*Math.cos(p*Fy),N);return{center:b,circleTangency:_,lineTangency:S,theta:p}},f8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=Ohe(o,l),h=o+u,m=Bi(t,n,i,o),p=Bi(t,n,i,h),g=Br(dD||(dD=Du(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(o>h),p.x,p.y);if(r>0){var b=Bi(t,n,r,o),_=Bi(t,n,r,h);g+=Br(fD||(fD=Du(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(o<=h),b.x,b.y)}else g+=Br(hD||(hD=Du(["L ",","," Z"])),t,n);return g},Rhe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:m}=e,p=Ps(m-h),{circleTangency:g,lineTangency:b,theta:_}=mv({cx:t,cy:n,radius:i,angle:h,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:N,lineTangency:S,theta:T}=mv({cx:t,cy:n,radius:i,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:u}),C=u?Math.abs(h-m):Math.abs(h-m)-_-T;if(C<0)return l?Br(mD||(mD=Du(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,o,o,o*2,o,o,-o*2):f8({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:m});var M=Br(pD||(pD=Du(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,o,o,+(p<0),g.x,g.y,i,i,+(C>180),+(p<0),N.x,N.y,o,o,+(p<0),S.x,S.y);if(r>0){var{circleTangency:E,lineTangency:k,theta:R}=mv({cx:t,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:I,lineTangency:D,theta:F}=mv({cx:t,cy:n,radius:r,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),Y=u?Math.abs(h-m):Math.abs(h-m)-R-F;if(Y<0&&o===0)return"".concat(M,"L").concat(t,",").concat(n,"Z");M+=Br(gD||(gD=Du(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,o,o,+(p<0),I.x,I.y,r,r,+(Y>180),+(p>0),E.x,E.y,o,o,+(p<0),k.x,k.y)}else M+=Br(vD||(vD=Du(["L",",","Z"])),t,n);return M},Dhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},h8=e=>{var t=ia(e,Dhe),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:m,endAngle:p,className:g}=t;if(o<i||m===p)return null;var b=zn("recharts-sector",g),_=o-i,N=Bc(l,_,0,!0),S;return N>0&&Math.abs(m-p)<360?S=Rhe({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,_/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:m,endAngle:p}):S=f8({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:m,endAngle:p}),v.createElement("path",xj({},va(t),{className:b,d:S}))};function Ihe(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(ZF(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,h=Bi(r,i,o,u),m=Bi(r,i,l,u);return[{x:h.x,y:h.y},{x:m.x,y:m.y}]}return d8(t)}}var oS={},lS={},cS={},yD;function Lhe(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oB();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(cS)),cS}var xD;function zhe(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lhe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(lS)),lS}var bD;function $he(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lB(),n=zhe();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),h=new Array(u);for(let m=0;m<u;m++)h[m]=i,i+=l;return h}e.range=r})(oS)),oS}var uS,wD;function Fhe(){return wD||(wD=1,uS=$he().range),uS}var Bhe=Fhe();const m8=mo(Bhe);function Rc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uhe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JT(e){let t,n,r;e.length!==2?(t=Rc,n=(u,h)=>Rc(e(u),h),r=(u,h)=>e(u)-h):(t=e===Rc||e===Uhe?e:Vhe,n=e,r=e);function i(u,h,m=0,p=u.length){if(m<p){if(t(h,h)!==0)return p;do{const g=m+p>>>1;n(u[g],h)<0?m=g+1:p=g}while(m<p)}return m}function o(u,h,m=0,p=u.length){if(m<p){if(t(h,h)!==0)return p;do{const g=m+p>>>1;n(u[g],h)<=0?m=g+1:p=g}while(m<p)}return m}function l(u,h,m=0,p=u.length){const g=i(u,h,m,p-1);return g>m&&r(u[g-1],h)>-r(u[g],h)?g-1:g}return{left:i,center:l,right:o}}function Vhe(){return 0}function p8(e){return e===null?NaN:+e}function*Hhe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const qhe=JT(Rc),Pp=qhe.right;JT(p8).center;class SD extends Map{constructor(t,n=Ghe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(_D(this,t))}has(t){return super.has(_D(this,t))}set(t,n){return super.set(Khe(this,t),n)}delete(t){return super.delete(Whe(this,t))}}function _D({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Khe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Whe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ghe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Yhe(e=Rc){if(e===Rc)return g8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function g8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Zhe=Math.sqrt(50),Xhe=Math.sqrt(10),Qhe=Math.sqrt(2);function By(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Zhe?10:o>=Xhe?5:o>=Qhe?2:1;let u,h,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(e*m),h=Math.round(t*m),u/m<e&&++u,h/m>t&&--h,m=-m):(m=Math.pow(10,i)*l,u=Math.round(e/m),h=Math.round(t/m),u*m<e&&++u,h*m>t&&--h),h<u&&.5<=n&&n<2?By(e,t,n*2):[u,h,m]}function bj(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?By(t,e,n):By(e,t,n);if(!(o>=i))return[];const u=o-i+1,h=new Array(u);if(r)if(l<0)for(let m=0;m<u;++m)h[m]=(o-m)/-l;else for(let m=0;m<u;++m)h[m]=(o-m)*l;else if(l<0)for(let m=0;m<u;++m)h[m]=(i+m)/-l;else for(let m=0;m<u;++m)h[m]=(i+m)*l;return h}function wj(e,t,n){return t=+t,e=+e,n=+n,By(e,t,n)[2]}function Sj(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?wj(t,e,n):wj(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function jD(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ND(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function v8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?g8:Yhe(i);r>n;){if(r-n>600){const h=r-n+1,m=t-n+1,p=Math.log(h),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(h-g)/h)*(m-h/2<0?-1:1),_=Math.max(n,Math.floor(t-m*g/h+b)),N=Math.min(r,Math.floor(t+(h-m)*g/h+b));v8(e,t,_,N,i)}const o=e[t];let l=n,u=r;for(im(e,n,t),i(e[r],o)>0&&im(e,n,r);l<u;){for(im(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?im(e,n,u):(++u,im(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function im(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Jhe(e,t,n){if(e=Float64Array.from(Hhe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return ND(e);if(t>=1)return jD(e);var r,i=(r-1)*t,o=Math.floor(i),l=jD(v8(e,o).subarray(0,o+1)),u=ND(e.subarray(o+1));return l+(u-l)*(i-o)}}function eme(e,t,n=p8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function tme(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Is(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Il(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _j=Symbol("implicit");function e2(){var e=new SD,t=[],n=[],r=_j;function i(o){let l=e.get(o);if(l===void 0){if(r!==_j)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new SD;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return e2(t,n).unknown(r)},Is.apply(i,arguments),i}function t2(){var e=e2().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,h=0,m=0,p=.5;delete e.unknown;function g(){var b=t().length,_=i<r,N=_?i:r,S=_?r:i;o=(S-N)/Math.max(1,b-h+m*2),u&&(o=Math.floor(o)),N+=(S-N-o*(b-h))*p,l=o*(1-h),u&&(N=Math.round(N),l=Math.round(l));var T=tme(b).map(function(C){return N+o*C});return n(_?T.reverse():T)}return e.domain=function(b){return arguments.length?(t(b),g()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(b){return arguments.length?(u=!!b,g()):u},e.padding=function(b){return arguments.length?(h=Math.min(1,m=+b),g()):h},e.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),g()):h},e.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},e.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},e.copy=function(){return t2(t(),[r,i]).round(u).paddingInner(h).paddingOuter(m).align(p)},Is.apply(g(),arguments)}function y8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return y8(t())},e}function nme(){return y8(t2.apply(null,arguments).paddingInner(1))}function n2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function x8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cp(){}var Wm=.7,Uy=1/Wm,vf="\\s*([+-]?\\d+)\\s*",Gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rme=/^#([0-9a-f]{3,8})$/,ime=new RegExp(`^rgb\\(${vf},${vf},${vf}\\)$`),ame=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),sme=new RegExp(`^rgba\\(${vf},${vf},${vf},${Gm}\\)$`),ome=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${Gm}\\)$`),lme=new RegExp(`^hsl\\(${Gm},${Uo},${Uo}\\)$`),cme=new RegExp(`^hsla\\(${Gm},${Uo},${Uo},${Gm}\\)$`),TD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n2(Cp,Ym,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PD,formatHex:PD,formatHex8:ume,formatHsl:dme,formatRgb:CD,toString:CD});function PD(){return this.rgb().formatHex()}function ume(){return this.rgb().formatHex8()}function dme(){return b8(this).formatHsl()}function CD(){return this.rgb().formatRgb()}function Ym(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rme.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?AD(t):n===3?new La(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ime.exec(e))?new La(t[1],t[2],t[3],1):(t=ame.exec(e))?new La(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sme.exec(e))?pv(t[1],t[2],t[3],t[4]):(t=ome.exec(e))?pv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lme.exec(e))?kD(t[1],t[2]/100,t[3]/100,1):(t=cme.exec(e))?kD(t[1],t[2]/100,t[3]/100,t[4]):TD.hasOwnProperty(e)?AD(TD[e]):e==="transparent"?new La(NaN,NaN,NaN,0):null}function AD(e){return new La(e>>16&255,e>>8&255,e&255,1)}function pv(e,t,n,r){return r<=0&&(e=t=n=NaN),new La(e,t,n,r)}function fme(e){return e instanceof Cp||(e=Ym(e)),e?(e=e.rgb(),new La(e.r,e.g,e.b,e.opacity)):new La}function jj(e,t,n,r){return arguments.length===1?fme(e):new La(e,t,n,r??1)}function La(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}n2(La,jj,x8(Cp,{brighter(e){return e=e==null?Uy:Math.pow(Uy,e),new La(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wm:Math.pow(Wm,e),new La(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new La(Vu(this.r),Vu(this.g),Vu(this.b),Vy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ED,formatHex:ED,formatHex8:hme,formatRgb:MD,toString:MD}));function ED(){return`#${Iu(this.r)}${Iu(this.g)}${Iu(this.b)}`}function hme(){return`#${Iu(this.r)}${Iu(this.g)}${Iu(this.b)}${Iu((isNaN(this.opacity)?1:this.opacity)*255)}`}function MD(){const e=Vy(this.opacity);return`${e===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${e===1?")":`, ${e})`}`}function Vy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Iu(e){return e=Vu(e),(e<16?"0":"")+e.toString(16)}function kD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new to(e,t,n,r)}function b8(e){if(e instanceof to)return new to(e.h,e.s,e.l,e.opacity);if(e instanceof Cp||(e=Ym(e)),!e)return new to;if(e instanceof to)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,h=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=h<.5?o+i:2-o-i,l*=60):u=h>0&&h<1?0:l,new to(l,u,h,e.opacity)}function mme(e,t,n,r){return arguments.length===1?b8(e):new to(e,t,n,r??1)}function to(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}n2(to,mme,x8(Cp,{brighter(e){return e=e==null?Uy:Math.pow(Uy,e),new to(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wm:Math.pow(Wm,e),new to(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new La(dS(e>=240?e-240:e+120,i,r),dS(e,i,r),dS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new to(OD(this.h),gv(this.s),gv(this.l),Vy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vy(this.opacity);return`${e===1?"hsl(":"hsla("}${OD(this.h)}, ${gv(this.s)*100}%, ${gv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OD(e){return e=(e||0)%360,e<0?e+360:e}function gv(e){return Math.max(0,Math.min(1,e||0))}function dS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const r2=e=>()=>e;function pme(e,t){return function(n){return e+n*t}}function gme(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vme(e){return(e=+e)==1?w8:function(t,n){return n-t?gme(t,n,e):r2(isNaN(t)?n:t)}}function w8(e,t){var n=t-e;return n?pme(e,n):r2(isNaN(e)?t:e)}const RD=(function e(t){var n=vme(t);function r(i,o){var l=n((i=jj(i)).r,(o=jj(o)).r),u=n(i.g,o.g),h=n(i.b,o.b),m=w8(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=h(p),i.opacity=m(p),i+""}}return r.gamma=e,r})(1);function yme(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function xme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bme(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=nh(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function wme(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Sme(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Nj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fS=new RegExp(Nj.source,"g");function _me(e){return function(){return e}}function jme(e){return function(t){return e(t)+""}}function Nme(e,t){var n=Nj.lastIndex=fS.lastIndex=0,r,i,o,l=-1,u=[],h=[];for(e=e+"",t=t+"";(r=Nj.exec(e))&&(i=fS.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,h.push({i:l,x:Hy(r,i)})),n=fS.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?h[0]?jme(h[0].x):_me(t):(t=h.length,function(m){for(var p=0,g;p<t;++p)u[(g=h[p]).i]=g.x(m);return u.join("")})}function nh(e,t){var n=typeof t,r;return t==null||n==="boolean"?r2(t):(n==="number"?Hy:n==="string"?(r=Ym(t))?(t=r,RD):Nme:t instanceof Ym?RD:t instanceof Date?wme:xme(t)?yme:Array.isArray(t)?bme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Sme:Hy)(e,t)}function i2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Tme(e,t){t===void 0&&(t=e,e=nh);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function Pme(e){return function(){return e}}function qy(e){return+e}var DD=[0,1];function ga(e){return e}function Tj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Pme(isNaN(t)?NaN:.5)}function Cme(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ame(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Tj(i,r),o=n(l,o)):(r=Tj(r,i),o=n(o,l)),function(u){return o(r(u))}}function Eme(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Tj(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var h=Pp(e,u,1,r)-1;return o[h](i[h](u))}}function Ap(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function p0(){var e=DD,t=DD,n=nh,r,i,o,l=ga,u,h,m;function p(){var b=Math.min(e.length,t.length);return l!==ga&&(l=Cme(e[0],e[b-1])),u=b>2?Eme:Ame,h=m=null,g}function g(b){return b==null||isNaN(b=+b)?o:(h||(h=u(e.map(r),t,n)))(r(l(b)))}return g.invert=function(b){return l(i((m||(m=u(t,e.map(r),Hy)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,qy),p()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),p()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),n=i2,p()},g.clamp=function(b){return arguments.length?(l=b?!0:ga,p()):l!==ga},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(o=b,g):o},function(b,_){return r=b,i=_,p()}}function a2(){return p0()(ga,ga)}function Mme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ky(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Of(e){return e=Ky(Math.abs(e)),e?e[1]:NaN}function kme(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],h=0;i>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),o.push(n.substring(i-=u,i+u)),!((h+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Ome(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Rme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(e){if(!(t=Rme.exec(e)))throw new Error("invalid format: "+e);var t;return new s2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zm.prototype=s2.prototype;function s2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}s2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dme(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Wy;function Ime(e,t){var n=Ky(e,t);if(!n)return Wy=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Wy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ky(e,Math.max(0,t+o-1))[0]}function ID(e,t){var n=Ky(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ID(e*100,t),r:ID,s:Ime,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zD(e){return e}var $D=Array.prototype.map,FD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lme(e){var t=e.grouping===void 0||e.thousands===void 0?zD:kme($D.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?zD:Ome($D.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(g,b){g=Zm(g);var _=g.fill,N=g.align,S=g.sign,T=g.symbol,C=g.zero,M=g.width,E=g.comma,k=g.precision,R=g.trim,I=g.type;I==="n"?(E=!0,I="g"):LD[I]||(k===void 0&&(k=12),R=!0,I="g"),(C||_==="0"&&N==="=")&&(C=!0,_="0",N="=");var D=(b&&b.prefix!==void 0?b.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),F=(T==="$"?r:/[%p]/.test(I)?l:"")+(b&&b.suffix!==void 0?b.suffix:""),Y=LD[I],ne=/[defgprs%]/.test(I);k=k===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function W(Z){var re=D,ce=F,fe,K,Q;if(I==="c")ce=Y(Z)+ce,Z="";else{Z=+Z;var H=Z<0||1/Z<0;if(Z=isNaN(Z)?h:Y(Math.abs(Z),k),R&&(Z=Dme(Z)),H&&+Z==0&&S!=="+"&&(H=!1),re=(H?S==="("?S:u:S==="-"||S==="("?"":S)+re,ce=(I==="s"&&!isNaN(Z)&&Wy!==void 0?FD[8+Wy/3]:"")+ce+(H&&S==="("?")":""),ne){for(fe=-1,K=Z.length;++fe<K;)if(Q=Z.charCodeAt(fe),48>Q||Q>57){ce=(Q===46?i+Z.slice(fe+1):Z.slice(fe))+ce,Z=Z.slice(0,fe);break}}}E&&!C&&(Z=t(Z,1/0));var X=re.length+Z.length+ce.length,$=X<M?new Array(M-X+1).join(_):"";switch(E&&C&&(Z=t($+Z,$.length?M-ce.length:1/0),$=""),N){case"<":Z=re+Z+ce+$;break;case"=":Z=re+$+Z+ce;break;case"^":Z=$.slice(0,X=$.length>>1)+re+Z+ce+$.slice(X);break;default:Z=$+re+Z+ce;break}return o(Z)}return W.toString=function(){return g+""},W}function p(g,b){var _=Math.max(-8,Math.min(8,Math.floor(Of(b)/3)))*3,N=Math.pow(10,-_),S=m((g=Zm(g),g.type="f",g),{suffix:FD[8+_/3]});return function(T){return S(N*T)}}return{format:m,formatPrefix:p}}var vv,o2,S8;zme({thousands:",",grouping:[3],currency:["$",""]});function zme(e){return vv=Lme(e),o2=vv.format,S8=vv.formatPrefix,vv}function $me(e){return Math.max(0,-Of(Math.abs(e)))}function Fme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Of(t)/3)))*3-Of(Math.abs(e)))}function Bme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Of(t)-Of(e))+1}function _8(e,t,n,r){var i=Sj(e,t,n),o;switch(r=Zm(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Fme(i,l))&&(r.precision=o),S8(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Bme(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$me(i))&&(r.precision=o-(r.type==="%")*2);break}}return o2(r)}function Xc(e){var t=e.domain;return e.ticks=function(n){var r=t();return bj(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return _8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],h,m,p=10;for(u<l&&(m=l,l=u,u=m,m=i,i=o,o=m);p-- >0;){if(m=wj(l,u,n),m===h)return r[i]=l,r[o]=u,t(r);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;h=m}return e},e}function j8(){var e=a2();return e.copy=function(){return Ap(e,j8())},Is.apply(e,arguments),Xc(e)}function N8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,qy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return N8(e).unknown(t)},e=arguments.length?Array.from(e,qy):[0,1],Xc(n)}function T8(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function BD(e){return Math.log(e)}function UD(e){return Math.exp(e)}function Ume(e){return-Math.log(-e)}function Vme(e){return-Math.exp(-e)}function Hme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qme(e){return e===10?Hme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Kme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VD(e){return(t,n)=>-e(-t,n)}function l2(e){const t=e(BD,UD),n=t.domain;let r=10,i,o;function l(){return i=Kme(r),o=qme(r),n()[0]<0?(i=VD(i),o=VD(o),e(Ume,Vme)):e(BD,UD),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const h=n();let m=h[0],p=h[h.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=i(m),_=i(p),N,S;const T=u==null?10:+u;let C=[];if(!(r%1)&&_-b<T){if(b=Math.floor(b),_=Math.ceil(_),m>0){for(;b<=_;++b)for(N=1;N<r;++N)if(S=b<0?N/o(-b):N*o(b),!(S<m)){if(S>p)break;C.push(S)}}else for(;b<=_;++b)for(N=r-1;N>=1;--N)if(S=b>0?N/o(-b):N*o(b),!(S<m)){if(S>p)break;C.push(S)}C.length*2<T&&(C=bj(m,p,T))}else C=bj(b,_,Math.min(_-b,T)).map(o);return g?C.reverse():C},t.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Zm(h)).precision==null&&(h.trim=!0),h=o2(h)),u===1/0)return h;const m=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=m?h(p):""}},t.nice=()=>n(T8(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function P8(){const e=l2(p0()).domain([1,10]);return e.copy=()=>Ap(e,P8()).base(e.base()),Is.apply(e,arguments),e}function HD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function c2(e){var t=1,n=e(HD(t),qD(t));return n.constant=function(r){return arguments.length?e(HD(t=+r),qD(t)):t},Xc(n)}function C8(){var e=c2(p0());return e.copy=function(){return Ap(e,C8()).constant(e.constant())},Is.apply(e,arguments)}function KD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Wme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gme(e){return e<0?-e*e:e*e}function u2(e){var t=e(ga,ga),n=1;function r(){return n===1?e(ga,ga):n===.5?e(Wme,Gme):e(KD(n),KD(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xc(t)}function d2(){var e=u2(p0());return e.copy=function(){return Ap(e,d2()).exponent(e.exponent())},Is.apply(e,arguments),e}function Yme(){return d2.apply(null,arguments).exponent(.5)}function WD(e){return Math.sign(e)*e*e}function Zme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function A8(){var e=a2(),t=[0,1],n=!1,r;function i(o){var l=Zme(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(WD(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,qy)).map(WD)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return A8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Is.apply(i,arguments),Xc(i)}function E8(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=eme(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[Pp(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Rc),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return E8().domain(e).range(t).unknown(r)},Is.apply(o,arguments)}function M8(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(h){return h!=null&&h<=h?i[Pp(r,h,0,n)]:o}function u(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return l}return l.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,u()):[e,t]},l.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,u()):i.slice()},l.invertExtent=function(h){var m=i.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return M8().domain([e,t]).range(i).unknown(o)},Is.apply(Xc(l),arguments)}function k8(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Pp(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return k8().domain(e).range(t).unknown(n)},Is.apply(i,arguments)}const hS=new Date,mS=new Date;function mi(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const h=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return h;let m;do h.push(m=new Date(+o)),t(o,u),e(o);while(m<o&&o<l);return h},i.filter=o=>mi(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(hS.setTime(+o),mS.setTime(+l),e(hS),e(mS),Math.floor(n(hS,mS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Gy=mi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Gy);Gy.range;const xl=1e3,Cs=xl*60,bl=Cs*60,Pl=bl*24,f2=Pl*7,GD=Pl*30,pS=Pl*365,Lu=mi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getUTCSeconds());Lu.range;const h2=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xl)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getMinutes());h2.range;const m2=mi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCMinutes());m2.range;const p2=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xl-e.getMinutes()*Cs)},(e,t)=>{e.setTime(+e+t*bl)},(e,t)=>(t-e)/bl,e=>e.getHours());p2.range;const g2=mi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bl)},(e,t)=>(t-e)/bl,e=>e.getUTCHours());g2.range;const Ep=mi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cs)/Pl,e=>e.getDate()-1);Ep.range;const g0=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pl,e=>e.getUTCDate()-1);g0.range;const O8=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pl,e=>Math.floor(e/Pl));O8.range;function ud(e){return mi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cs)/f2)}const v0=ud(0),Yy=ud(1),Xme=ud(2),Qme=ud(3),Rf=ud(4),Jme=ud(5),epe=ud(6);v0.range;Yy.range;Xme.range;Qme.range;Rf.range;Jme.range;epe.range;function dd(e){return mi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/f2)}const y0=dd(0),Zy=dd(1),tpe=dd(2),npe=dd(3),Df=dd(4),rpe=dd(5),ipe=dd(6);y0.range;Zy.range;tpe.range;npe.range;Df.range;rpe.range;ipe.range;const v2=mi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());v2.range;const y2=mi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());y2.range;const Cl=mi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Cl.range;const Al=mi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Al.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Al.range;function R8(e,t,n,r,i,o){const l=[[Lu,1,xl],[Lu,5,5*xl],[Lu,15,15*xl],[Lu,30,30*xl],[o,1,Cs],[o,5,5*Cs],[o,15,15*Cs],[o,30,30*Cs],[i,1,bl],[i,3,3*bl],[i,6,6*bl],[i,12,12*bl],[r,1,Pl],[r,2,2*Pl],[n,1,f2],[t,1,GD],[t,3,3*GD],[e,1,pS]];function u(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const _=g&&typeof g.range=="function"?g:h(m,p,g),N=_?_.range(m,+p+1):[];return b?N.reverse():N}function h(m,p,g){const b=Math.abs(p-m)/g,_=JT(([,,T])=>T).right(l,b);if(_===l.length)return e.every(Sj(m/pS,p/pS,g));if(_===0)return Gy.every(Math.max(Sj(m,p,g),1));const[N,S]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return N.every(S)}return[u,h]}const[ape,spe]=R8(Al,y2,y0,O8,g2,m2),[ope,lpe]=R8(Cl,v2,v0,Ep,p2,h2);function gS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function am(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cpe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,h=e.shortMonths,m=sm(i),p=om(i),g=sm(o),b=om(o),_=sm(l),N=om(l),S=sm(u),T=om(u),C=sm(h),M=om(h),E={a:Q,A:H,b:X,B:$,c:null,d:eI,e:eI,f:kpe,g:Upe,G:Hpe,H:Ape,I:Epe,j:Mpe,L:D8,m:Ope,M:Rpe,p:G,q:Ne,Q:rI,s:iI,S:Dpe,u:Ipe,U:Lpe,V:zpe,w:$pe,W:Fpe,x:null,X:null,y:Bpe,Y:Vpe,Z:qpe,"%":nI},k={a:de,A:q,b:ae,B:be,c:null,d:tI,e:tI,f:Ype,g:age,G:oge,H:Kpe,I:Wpe,j:Gpe,L:L8,m:Zpe,M:Xpe,p:Ae,q:ke,Q:rI,s:iI,S:Qpe,u:Jpe,U:ege,V:tge,w:nge,W:rge,x:null,X:null,y:ige,Y:sge,Z:lge,"%":nI},R={a:ne,A:W,b:Z,B:re,c:ce,d:QD,e:QD,f:Npe,g:XD,G:ZD,H:JD,I:JD,j:wpe,L:jpe,m:bpe,M:Spe,p:Y,q:xpe,Q:Ppe,s:Cpe,S:_pe,u:mpe,U:ppe,V:gpe,w:hpe,W:vpe,x:fe,X:K,y:XD,Y:ZD,Z:ype,"%":Tpe};E.x=I(n,E),E.X=I(r,E),E.c=I(t,E),k.x=I(n,k),k.X=I(r,k),k.c=I(t,k);function I(ie,ge){return function(Me){var ve=[],pe=-1,Ye=0,vt=ie.length,Rt,Wt,gn;for(Me instanceof Date||(Me=new Date(+Me));++pe<vt;)ie.charCodeAt(pe)===37&&(ve.push(ie.slice(Ye,pe)),(Wt=YD[Rt=ie.charAt(++pe)])!=null?Rt=ie.charAt(++pe):Wt=Rt==="e"?" ":"0",(gn=ge[Rt])&&(Rt=gn(Me,Wt)),ve.push(Rt),Ye=pe+1);return ve.push(ie.slice(Ye,pe)),ve.join("")}}function D(ie,ge){return function(Me){var ve=am(1900,void 0,1),pe=F(ve,ie,Me+="",0),Ye,vt;if(pe!=Me.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(ge&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ye=vS(am(ve.y,0,1)),vt=Ye.getUTCDay(),Ye=vt>4||vt===0?Zy.ceil(Ye):Zy(Ye),Ye=g0.offset(Ye,(ve.V-1)*7),ve.y=Ye.getUTCFullYear(),ve.m=Ye.getUTCMonth(),ve.d=Ye.getUTCDate()+(ve.w+6)%7):(Ye=gS(am(ve.y,0,1)),vt=Ye.getDay(),Ye=vt>4||vt===0?Yy.ceil(Ye):Yy(Ye),Ye=Ep.offset(Ye,(ve.V-1)*7),ve.y=Ye.getFullYear(),ve.m=Ye.getMonth(),ve.d=Ye.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),vt="Z"in ve?vS(am(ve.y,0,1)).getUTCDay():gS(am(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(vt+5)%7:ve.w+ve.U*7-(vt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,vS(ve)):gS(ve)}}function F(ie,ge,Me,ve){for(var pe=0,Ye=ge.length,vt=Me.length,Rt,Wt;pe<Ye;){if(ve>=vt)return-1;if(Rt=ge.charCodeAt(pe++),Rt===37){if(Rt=ge.charAt(pe++),Wt=R[Rt in YD?ge.charAt(pe++):Rt],!Wt||(ve=Wt(ie,Me,ve))<0)return-1}else if(Rt!=Me.charCodeAt(ve++))return-1}return ve}function Y(ie,ge,Me){var ve=m.exec(ge.slice(Me));return ve?(ie.p=p.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function ne(ie,ge,Me){var ve=_.exec(ge.slice(Me));return ve?(ie.w=N.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function W(ie,ge,Me){var ve=g.exec(ge.slice(Me));return ve?(ie.w=b.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function Z(ie,ge,Me){var ve=C.exec(ge.slice(Me));return ve?(ie.m=M.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function re(ie,ge,Me){var ve=S.exec(ge.slice(Me));return ve?(ie.m=T.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function ce(ie,ge,Me){return F(ie,t,ge,Me)}function fe(ie,ge,Me){return F(ie,n,ge,Me)}function K(ie,ge,Me){return F(ie,r,ge,Me)}function Q(ie){return l[ie.getDay()]}function H(ie){return o[ie.getDay()]}function X(ie){return h[ie.getMonth()]}function $(ie){return u[ie.getMonth()]}function G(ie){return i[+(ie.getHours()>=12)]}function Ne(ie){return 1+~~(ie.getMonth()/3)}function de(ie){return l[ie.getUTCDay()]}function q(ie){return o[ie.getUTCDay()]}function ae(ie){return h[ie.getUTCMonth()]}function be(ie){return u[ie.getUTCMonth()]}function Ae(ie){return i[+(ie.getUTCHours()>=12)]}function ke(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ge=I(ie+="",E);return ge.toString=function(){return ie},ge},parse:function(ie){var ge=D(ie+="",!1);return ge.toString=function(){return ie},ge},utcFormat:function(ie){var ge=I(ie+="",k);return ge.toString=function(){return ie},ge},utcParse:function(ie){var ge=D(ie+="",!0);return ge.toString=function(){return ie},ge}}}var YD={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,upe=/^%/,dpe=/[\\^$*+?|[\]().{}]/g;function Cn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function fpe(e){return e.replace(dpe,"\\$&")}function sm(e){return new RegExp("^(?:"+e.map(fpe).join("|")+")","i")}function om(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hpe(e,t,n){var r=Ci.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mpe(e,t,n){var r=Ci.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ppe(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gpe(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vpe(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ZD(e,t,n){var r=Ci.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function XD(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ype(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xpe(e,t,n){var r=Ci.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function bpe(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QD(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wpe(e,t,n){var r=Ci.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function JD(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Spe(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _pe(e,t,n){var r=Ci.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jpe(e,t,n){var r=Ci.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Npe(e,t,n){var r=Ci.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tpe(e,t,n){var r=upe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ppe(e,t,n){var r=Ci.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cpe(e,t,n){var r=Ci.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eI(e,t){return Cn(e.getDate(),t,2)}function Ape(e,t){return Cn(e.getHours(),t,2)}function Epe(e,t){return Cn(e.getHours()%12||12,t,2)}function Mpe(e,t){return Cn(1+Ep.count(Cl(e),e),t,3)}function D8(e,t){return Cn(e.getMilliseconds(),t,3)}function kpe(e,t){return D8(e,t)+"000"}function Ope(e,t){return Cn(e.getMonth()+1,t,2)}function Rpe(e,t){return Cn(e.getMinutes(),t,2)}function Dpe(e,t){return Cn(e.getSeconds(),t,2)}function Ipe(e){var t=e.getDay();return t===0?7:t}function Lpe(e,t){return Cn(v0.count(Cl(e)-1,e),t,2)}function I8(e){var t=e.getDay();return t>=4||t===0?Rf(e):Rf.ceil(e)}function zpe(e,t){return e=I8(e),Cn(Rf.count(Cl(e),e)+(Cl(e).getDay()===4),t,2)}function $pe(e){return e.getDay()}function Fpe(e,t){return Cn(Yy.count(Cl(e)-1,e),t,2)}function Bpe(e,t){return Cn(e.getFullYear()%100,t,2)}function Upe(e,t){return e=I8(e),Cn(e.getFullYear()%100,t,2)}function Vpe(e,t){return Cn(e.getFullYear()%1e4,t,4)}function Hpe(e,t){var n=e.getDay();return e=n>=4||n===0?Rf(e):Rf.ceil(e),Cn(e.getFullYear()%1e4,t,4)}function qpe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cn(t/60|0,"0",2)+Cn(t%60,"0",2)}function tI(e,t){return Cn(e.getUTCDate(),t,2)}function Kpe(e,t){return Cn(e.getUTCHours(),t,2)}function Wpe(e,t){return Cn(e.getUTCHours()%12||12,t,2)}function Gpe(e,t){return Cn(1+g0.count(Al(e),e),t,3)}function L8(e,t){return Cn(e.getUTCMilliseconds(),t,3)}function Ype(e,t){return L8(e,t)+"000"}function Zpe(e,t){return Cn(e.getUTCMonth()+1,t,2)}function Xpe(e,t){return Cn(e.getUTCMinutes(),t,2)}function Qpe(e,t){return Cn(e.getUTCSeconds(),t,2)}function Jpe(e){var t=e.getUTCDay();return t===0?7:t}function ege(e,t){return Cn(y0.count(Al(e)-1,e),t,2)}function z8(e){var t=e.getUTCDay();return t>=4||t===0?Df(e):Df.ceil(e)}function tge(e,t){return e=z8(e),Cn(Df.count(Al(e),e)+(Al(e).getUTCDay()===4),t,2)}function nge(e){return e.getUTCDay()}function rge(e,t){return Cn(Zy.count(Al(e)-1,e),t,2)}function ige(e,t){return Cn(e.getUTCFullYear()%100,t,2)}function age(e,t){return e=z8(e),Cn(e.getUTCFullYear()%100,t,2)}function sge(e,t){return Cn(e.getUTCFullYear()%1e4,t,4)}function oge(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Df(e):Df.ceil(e),Cn(e.getUTCFullYear()%1e4,t,4)}function lge(){return"+0000"}function nI(){return"%"}function rI(e){return+e}function iI(e){return Math.floor(+e/1e3)}var Gd,$8,F8;cge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cge(e){return Gd=cpe(e),$8=Gd.format,Gd.parse,F8=Gd.utcFormat,Gd.utcParse,Gd}function uge(e){return new Date(e)}function dge(e){return e instanceof Date?+e:+new Date(+e)}function x2(e,t,n,r,i,o,l,u,h,m){var p=a2(),g=p.invert,b=p.domain,_=m(".%L"),N=m(":%S"),S=m("%I:%M"),T=m("%I %p"),C=m("%a %d"),M=m("%b %d"),E=m("%B"),k=m("%Y");function R(I){return(h(I)<I?_:u(I)<I?N:l(I)<I?S:o(I)<I?T:r(I)<I?i(I)<I?C:M:n(I)<I?E:k)(I)}return p.invert=function(I){return new Date(g(I))},p.domain=function(I){return arguments.length?b(Array.from(I,dge)):b().map(uge)},p.ticks=function(I){var D=b();return e(D[0],D[D.length-1],I??10)},p.tickFormat=function(I,D){return D==null?R:m(D)},p.nice=function(I){var D=b();return(!I||typeof I.range!="function")&&(I=t(D[0],D[D.length-1],I??10)),I?b(T8(D,I)):p},p.copy=function(){return Ap(p,x2(e,t,n,r,i,o,l,u,h,m))},p}function fge(){return Is.apply(x2(ope,lpe,Cl,v2,v0,Ep,p2,h2,Lu,$8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hge(){return Is.apply(x2(ape,spe,Al,y2,y0,g0,g2,m2,Lu,F8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x0(){var e=0,t=1,n,r,i,o,l=ga,u=!1,h;function m(g){return g==null||isNaN(g=+g)?h:l(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(l=g,m):l};function p(g){return function(b){var _,N;return arguments.length?([_,N]=b,l=g(_,N),m):[l(0),l(1)]}}return m.range=p(nh),m.rangeRound=p(i2),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),m}}function Qc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function B8(){var e=Xc(x0()(ga));return e.copy=function(){return Qc(e,B8())},Il.apply(e,arguments)}function U8(){var e=l2(x0()).domain([1,10]);return e.copy=function(){return Qc(e,U8()).base(e.base())},Il.apply(e,arguments)}function V8(){var e=c2(x0());return e.copy=function(){return Qc(e,V8()).constant(e.constant())},Il.apply(e,arguments)}function b2(){var e=u2(x0());return e.copy=function(){return Qc(e,b2()).exponent(e.exponent())},Il.apply(e,arguments)}function mge(){return b2.apply(null,arguments).exponent(.5)}function H8(){var e=[],t=ga;function n(r){if(r!=null&&!isNaN(r=+r))return t((Pp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Rc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Jhe(e,o/r))},n.copy=function(){return H8(t).domain(e)},Il.apply(n,arguments)}function b0(){var e=0,t=.5,n=1,r=1,i,o,l,u,h,m=ga,p,g=!1,b;function _(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-o)*(r*S<r*o?u:h),m(g?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([e,t,n]=S,i=p(e=+e),o=p(t=+t),l=p(n=+n),u=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,_):[e,t,n]},_.clamp=function(S){return arguments.length?(g=!!S,_):g},_.interpolator=function(S){return arguments.length?(m=S,_):m};function N(S){return function(T){var C,M,E;return arguments.length?([C,M,E]=T,m=Tme(S,[C,M,E]),_):[m(0),m(.5),m(1)]}}return _.range=N(nh),_.rangeRound=N(i2),_.unknown=function(S){return arguments.length?(b=S,_):b},function(S){return p=S,i=S(e),o=S(t),l=S(n),u=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,_}}function q8(){var e=Xc(b0()(ga));return e.copy=function(){return Qc(e,q8())},Il.apply(e,arguments)}function K8(){var e=l2(b0()).domain([.1,1,10]);return e.copy=function(){return Qc(e,K8()).base(e.base())},Il.apply(e,arguments)}function W8(){var e=c2(b0());return e.copy=function(){return Qc(e,W8()).constant(e.constant())},Il.apply(e,arguments)}function w2(){var e=u2(b0());return e.copy=function(){return Qc(e,w2()).exponent(e.exponent())},Il.apply(e,arguments)}function pge(){return w2.apply(null,arguments).exponent(.5)}const pm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t2,scaleDiverging:q8,scaleDivergingLog:K8,scaleDivergingPow:w2,scaleDivergingSqrt:pge,scaleDivergingSymlog:W8,scaleIdentity:N8,scaleImplicit:_j,scaleLinear:j8,scaleLog:P8,scaleOrdinal:e2,scalePoint:nme,scalePow:d2,scaleQuantile:E8,scaleQuantize:M8,scaleRadial:A8,scaleSequential:B8,scaleSequentialLog:U8,scaleSequentialPow:b2,scaleSequentialQuantile:H8,scaleSequentialSqrt:mge,scaleSequentialSymlog:V8,scaleSqrt:Yme,scaleSymlog:C8,scaleThreshold:k8,scaleTime:fge,scaleUtc:hge,tickFormat:_8},Symbol.toStringTag,{value:"Module"}));var Ll=e=>e.chartData,G8=Ce([Ll],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),S2=(e,t,n,r)=>r?G8(e):Ll(e),gge=(e,t,n)=>n?G8(e):Ll(e);function El(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(pn(t)&&pn(n))return!0}return!1}function aI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Y8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(pn(n))i=n;else if(typeof n=="function")return;if(pn(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(El(l))return l}}function vge(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(El(r))return aI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(jt(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[0]))}catch{}else if(typeof i=="string"&&vR.test(i)){var h=vR.exec(i);if(h==null||h[1]==null||t==null)l=void 0;else{var m=+h[1];l=t[0]-m}}else l=t?.[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(jt(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t?.[1]))}catch{}else if(typeof o=="string"&&yR.test(o)){var p=yR.exec(o);if(p==null||p[1]==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t?.[1];var b=[l,u];if(El(b))return t==null?b:aI(b,t,n)}}}var rh=1e9,yge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},j2,yr=!0,Ds="[DecimalError] ",Hu=Ds+"Invalid argument: ",_2=Ds+"Exponent out of range: ",ih=Math.floor,Cu=Math.pow,xge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,es,Ti=1e7,cr=7,Z8=9007199254740991,Xy=ih(Z8/cr),pt={};pt.absoluteValue=pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pt.comparedTo=pt.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*cr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};pt.dividedBy=pt.div=function(e){return wl(this,new this.constructor(e))};pt.dividedToIntegerBy=pt.idiv=function(e){var t=this,n=t.constructor;return Qn(wl(t,new n(e),0,1),n.precision)};pt.equals=pt.eq=function(e){return!this.cmp(e)};pt.exponent=function(){return ri(this)};pt.greaterThan=pt.gt=function(e){return this.cmp(e)>0};pt.greaterThanOrEqualTo=pt.gte=function(e){return this.cmp(e)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(e){return this.cmp(e)<0};pt.lessThanOrEqualTo=pt.lte=function(e){return this.cmp(e)<1};pt.logarithm=pt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(es))throw Error(Ds+"NaN");if(n.s<1)throw Error(Ds+(n.s?"NaN":"-Infinity"));return n.eq(es)?new r(0):(yr=!1,t=wl(Xm(n,o),Xm(e,o),o),yr=!0,Qn(t,i))};pt.minus=pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?J8(t,e):X8(t,(e.s=-e.s,e))};pt.modulo=pt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ds+"NaN");return n.s?(yr=!1,t=wl(n,e,0,1).times(e),yr=!0,n.minus(t)):Qn(new r(n),i)};pt.naturalExponential=pt.exp=function(){return Q8(this)};pt.naturalLogarithm=pt.ln=function(){return Xm(this)};pt.negated=pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pt.plus=pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?X8(t,e):J8(t,(e.s=-e.s,e))};pt.precision=pt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hu+e);if(t=ri(i)+1,r=i.d.length-1,n=r*cr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};pt.squareRoot=pt.sqrt=function(){var e,t,n,r,i,o,l,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(Ds+"NaN")}for(e=ri(u),yr=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=zo(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ih((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=l=n+3;;)if(o=r,r=o.plus(wl(u,o,l+2)).times(.5),zo(o.d).slice(0,l)===(t=zo(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Qn(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return yr=!0,Qn(r,n)};pt.times=pt.mul=function(e){var t,n,r,i,o,l,u,h,m,p=this,g=p.constructor,b=p.d,_=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,h=b.length,m=_.length,h<m&&(o=b,b=_,_=o,l=h,h=m,m=l),o=[],l=h+m,r=l;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,i=h+r;i>r;)u=o[i]+_[r]*b[i-r-1]+t,o[i--]=u%Ti|0,t=u/Ti|0;o[i]=(o[i]+t)%Ti|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,yr?Qn(e,g.precision):e};pt.toDecimalPlaces=pt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Go(e,0,rh),t===void 0?t=r.rounding:Go(t,0,8),Qn(n,e+ri(n)+1,t))};pt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=rd(r,!0):(Go(e,0,rh),t===void 0?t=i.rounding:Go(t,0,8),r=Qn(new i(r),e+1,t),n=rd(r,!0,e+1)),n};pt.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?rd(i):(Go(e,0,rh),t===void 0?t=o.rounding:Go(t,0,8),r=Qn(new o(i),e+ri(i)+1,t),n=rd(r.abs(),!1,e+ri(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pt.toInteger=pt.toint=function(){var e=this,t=e.constructor;return Qn(new t(e),ri(e)+1,t.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(e){var t,n,r,i,o,l,u=this,h=u.constructor,m=12,p=+(e=new h(e));if(!e.s)return new h(es);if(u=new h(u),!u.s){if(e.s<1)throw Error(Ds+"Infinity");return u}if(u.eq(es))return u;if(r=h.precision,e.eq(es))return Qn(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=p<0?-p:p)<=Z8){for(i=new h(es),t=Math.ceil(r/cr+4),yr=!1;n%2&&(i=i.times(u),oI(i.d,t)),n=ih(n/2),n!==0;)u=u.times(u),oI(u.d,t);return yr=!0,e.s<0?new h(es).div(i):Qn(i,r)}}else if(o<0)throw Error(Ds+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,yr=!1,i=e.times(Xm(u,r+m)),yr=!0,i=Q8(i),i.s=o,i};pt.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=ri(i),r=rd(i,n<=o.toExpNeg||n>=o.toExpPos)):(Go(e,1,rh),t===void 0?t=o.rounding:Go(t,0,8),i=Qn(new o(i),e,t),n=ri(i),r=rd(i,e<=n||n<=o.toExpNeg,e)),r};pt.toSignificantDigits=pt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Go(e,1,rh),t===void 0?t=r.rounding:Go(t,0,8)),Qn(new r(n),e,t)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ri(e),n=e.constructor;return rd(e,t<=n.toExpNeg||t>=n.toExpPos)};function X8(e,t){var n,r,i,o,l,u,h,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),yr?Qn(t,g):t;if(h=e.d,m=t.d,l=e.e,i=t.e,h=h.slice(),o=l-i,o){for(o<0?(r=h,o=-o,u=m.length):(r=m,i=l,u=h.length),l=Math.ceil(g/cr),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=h.length,o=m.length,u-o<0&&(o=u,r=m,m=h,h=r),n=0;o;)n=(h[--o]=h[o]+m[o]+n)/Ti|0,h[o]%=Ti;for(n&&(h.unshift(n),++i),u=h.length;h[--u]==0;)h.pop();return t.d=h,t.e=i,yr?Qn(t,g):t}function Go(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hu+e)}function zo(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=cr-r.length,n&&(o+=Sc(n)),o+=r;l=e[t],r=l+"",n=cr-r.length,n&&(o+=Sc(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var wl=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Ti|0,l=o/Ti|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,h;if(o!=l)h=o>l?1:-1;else for(u=h=0;u<o;u++)if(r[u]!=i[u]){h=r[u]>i[u]?1:-1;break}return h}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Ti+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,h,m,p,g,b,_,N,S,T,C,M,E,k,R,I,D,F,Y=r.constructor,ne=r.s==i.s?1:-1,W=r.d,Z=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(Ds+"Division by zero");for(h=r.e-i.e,D=Z.length,R=W.length,_=new Y(ne),N=_.d=[],m=0;Z[m]==(W[m]||0);)++m;if(Z[m]>(W[m]||0)&&--h,o==null?M=o=Y.precision:l?M=o+(ri(r)-ri(i))+1:M=o,M<0)return new Y(0);if(M=M/cr+2|0,m=0,D==1)for(p=0,Z=Z[0],M++;(m<R||p)&&M--;m++)E=p*Ti+(W[m]||0),N[m]=E/Z|0,p=E%Z|0;else{for(p=Ti/(Z[0]+1)|0,p>1&&(Z=e(Z,p),W=e(W,p),D=Z.length,R=W.length),k=D,S=W.slice(0,D),T=S.length;T<D;)S[T++]=0;F=Z.slice(),F.unshift(0),I=Z[0],Z[1]>=Ti/2&&++I;do p=0,u=t(Z,S,D,T),u<0?(C=S[0],D!=T&&(C=C*Ti+(S[1]||0)),p=C/I|0,p>1?(p>=Ti&&(p=Ti-1),g=e(Z,p),b=g.length,T=S.length,u=t(g,S,b,T),u==1&&(p--,n(g,D<b?F:Z,b))):(p==0&&(u=p=1),g=Z.slice()),b=g.length,b<T&&g.unshift(0),n(S,g,T),u==-1&&(T=S.length,u=t(Z,S,D,T),u<1&&(p++,n(S,D<T?F:Z,T))),T=S.length):u===0&&(p++,S=[0]),N[m++]=p,u&&S[0]?S[T++]=W[k]||0:(S=[W[k]],T=1);while((k++<R||S[0]!==void 0)&&M--)}return N[0]||N.shift(),_.e=h,Qn(_,l?o+ri(_)+1:o)}})();function Q8(e,t){var n,r,i,o,l,u,h=0,m=0,p=e.constructor,g=p.precision;if(ri(e)>16)throw Error(_2+ri(e));if(!e.s)return new p(es);for(yr=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(r=Math.log(Cu(2,m))/Math.LN10*2+5|0,u+=r,n=i=o=new p(es),p.precision=u;;){if(i=Qn(i.times(e),u),n=n.times(++h),l=o.plus(wl(i,n,u)),zo(l.d).slice(0,u)===zo(o.d).slice(0,u)){for(;m--;)o=Qn(o.times(o),u);return p.precision=g,t==null?(yr=!0,Qn(o,g)):o}o=l}}function ri(e){for(var t=e.e*cr,n=e.d[0];n>=10;n/=10)t++;return t}function yS(e,t,n){if(t>e.LN10.sd())throw yr=!0,n&&(e.precision=n),Error(Ds+"LN10 precision limit exceeded");return Qn(new e(e.LN10),t)}function Sc(e){for(var t="";e--;)t+="0";return t}function Xm(e,t){var n,r,i,o,l,u,h,m,p,g=1,b=10,_=e,N=_.d,S=_.constructor,T=S.precision;if(_.s<1)throw Error(Ds+(_.s?"NaN":"-Infinity"));if(_.eq(es))return new S(0);if(t==null?(yr=!1,m=T):m=t,_.eq(10))return t==null&&(yr=!0),yS(S,m);if(m+=b,S.precision=m,n=zo(N),r=n.charAt(0),o=ri(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=zo(_.d),r=n.charAt(0),g++;o=ri(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return h=yS(S,m+2,T).times(o+""),_=Xm(new S(r+"."+n.slice(1)),m-b).plus(h),S.precision=T,t==null?(yr=!0,Qn(_,T)):_;for(u=l=_=wl(_.minus(es),_.plus(es),m),p=Qn(_.times(_),m),i=3;;){if(l=Qn(l.times(p),m),h=u.plus(wl(l,new S(i),m)),zo(h.d).slice(0,m)===zo(u.d).slice(0,m))return u=u.times(2),o!==0&&(u=u.plus(yS(S,m+2,T).times(o+""))),u=wl(u,new S(g),m),S.precision=T,t==null?(yr=!0,Qn(u,T)):u;u=h,i+=2}}function sI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ih(n/cr),e.d=[],r=(n+1)%cr,n<0&&(r+=cr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=cr;r<i;)e.d.push(+t.slice(r,r+=cr));t=t.slice(r),r=cr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),yr&&(e.e>Xy||e.e<-Xy))throw Error(_2+n)}else e.s=0,e.e=0,e.d=[0];return e}function Qn(e,t,n){var r,i,o,l,u,h,m,p,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=cr,i=t,m=g[p=0];else{if(p=Math.ceil((r+1)/cr),o=g.length,p>=o)return e;for(m=o=g[p],l=1;o>=10;o/=10)l++;r%=cr,i=r-cr+l}if(n!==void 0&&(o=Cu(10,l-i-1),u=m/o%10|0,h=t<0||g[p+1]!==void 0||m%o,h=n<4?(u||h)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||h||n==6&&(r>0?i>0?m/Cu(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return h?(o=ri(e),g.length=1,t=t-o-1,g[0]=Cu(10,(cr-t%cr)%cr),e.e=ih(-t/cr)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=Cu(10,cr-r),g[p]=i>0?(m/Cu(10,l-i)%Cu(10,i)|0)*o:0),h)for(;;)if(p==0){(g[0]+=o)==Ti&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=Ti)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(yr&&(e.e>Xy||e.e<-Xy))throw Error(_2+ri(e));return e}function J8(e,t){var n,r,i,o,l,u,h,m,p,g,b=e.constructor,_=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),yr?Qn(t,_):t;if(h=e.d,g=t.d,r=t.e,m=e.e,h=h.slice(),l=m-r,l){for(p=l<0,p?(n=h,l=-l,u=g.length):(n=g,r=m,u=h.length),i=Math.max(Math.ceil(_/cr),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=h.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(h[i]!=g[i]){p=h[i]<g[i];break}l=0}for(p&&(n=h,h=g,g=n,t.s=-t.s),u=h.length,i=g.length-u;i>0;--i)h[u++]=0;for(i=g.length;i>l;){if(h[--i]<g[i]){for(o=i;o&&h[--o]===0;)h[o]=Ti-1;--h[o],h[i]+=Ti}h[i]-=g[i]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,yr?Qn(t,_):t):new b(0)}function rd(e,t,n){var r,i=ri(e),o=zo(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Sc(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Sc(-i-1)+o,n&&(r=n-l)>0&&(o+=Sc(r))):i>=l?(o+=Sc(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Sc(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Sc(r))),e.s<0?"-"+o:o}function oI(e,t){if(e.length>t)return e.length=t,!0}function e9(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Hu+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return sI(l,o.toString())}else if(typeof o!="string")throw Error(Hu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,xge.test(o))sI(l,o);else throw Error(Hu+o)}if(i.prototype=pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e9,i.config=i.set=bge,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function bge(e){if(!e||typeof e!="object")throw Error(Ds+"Object expected");var t,n,r,i=["precision",1,rh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ih(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Hu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hu+n+": "+r);return this}var j2=e9(yge);es=new j2(1);const Un=j2;function t9(e){var t;return e===0?t=1:t=Math.floor(new Un(e).abs().log(10).toNumber())+1,t}function n9(e,t,n){for(var r=new Un(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var r9=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},i9=(e,t,n)=>{if(e.lte(0))return new Un(0);var r=t9(e.toNumber()),i=new Un(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Un(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=u.mul(i);return t?new Un(h.toNumber()):new Un(Math.ceil(h.toNumber()))},wge=(e,t,n)=>{var r=new Un(1),i=new Un(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Un(10).pow(t9(e)-1),i=new Un(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Un(Math.floor(e)))}else e===0?i=new Un(Math.floor((t-1)/2)):n||(i=new Un(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],h=0;h<t;h++)u.push(i.add(new Un(h-l).mul(r)).toNumber());return u},a9=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var l=i9(new Un(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Un(0):(u=new Un(t).add(n).div(2),u=u.sub(new Un(u).mod(l)));var h=Math.ceil(u.sub(t).div(l).toNumber()),m=Math.ceil(new Un(n).sub(u).div(l).toNumber()),p=h+m+1;return p>r?a9(t,n,r,i,o+1):(p<r&&(m=n>0?m+(r-p):m,h=n>0?h:h+(r-p)),{step:l,tickMin:u.sub(new Un(h).mul(l)),tickMax:u.add(new Un(m).mul(l))})},Sge=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,h]=r9([n,r]);if(u===-1/0||h===1/0){var m=h===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),h];return n>r?m.reverse():m}if(u===h)return wge(u,i,o);var{step:p,tickMin:g,tickMax:b}=a9(u,h,l,o,0),_=n9(g,b.add(new Un(.1).mul(p)),p);return n>r?_.reverse():_},_ge=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=r9([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(n,2),m=i9(new Un(u).sub(l).div(h-1),o,0),p=[...n9(new Un(l),new Un(u),m),u];return o===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},jge=e=>e.rootProps.barCategoryGap,w0=e=>e.rootProps.stackOffset,s9=e=>e.rootProps.reverseStackOrder,N2=e=>e.options.chartName,T2=e=>e.rootProps.syncId,o9=e=>e.rootProps.syncMethod,P2=e=>e.options.eventEmitter,Nge=e=>e.rootProps.baseValue,Ui={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ju={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ko={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},S0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function _0(e,t,n){if(n!=="auto")return n;if(e!=null)return Zo(e,t)?"category":"number"}function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(r){Tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tge(e,t,n){return(t=Pge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pge(e){var t=Cge(e,"string");return typeof t=="symbol"?t:t+""}function Cge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cI={allowDataOverflow:ju.allowDataOverflow,allowDecimals:ju.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ju.angleAxisId,includeHidden:!1,name:void 0,reversed:ju.reversed,scale:ju.scale,tick:ju.tick,tickCount:void 0,ticks:void 0,type:ju.type,unit:void 0},uI={allowDataOverflow:ko.allowDataOverflow,allowDecimals:ko.allowDecimals,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.radiusAxisId,includeHidden:ko.includeHidden,name:void 0,reversed:ko.reversed,scale:ko.scale,tick:ko.tick,tickCount:ko.tickCount,ticks:void 0,type:ko.type,unit:void 0},Age=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},C2=Ce([Age,XB],(e,t)=>{var n;if(e!=null)return e;var r=(n=_0(t,"angleAxis",cI.type))!==null&&n!==void 0?n:"category";return Qy(Qy({},cI),{},{type:r})}),Ege=(e,t)=>e.polarAxis.radiusAxis[t],A2=Ce([Ege,XB],(e,t)=>{var n;if(e!=null)return e;var r=(n=_0(t,"radiusAxis",uI.type))!==null&&n!==void 0?n:"category";return Qy(Qy({},uI),{},{type:r})}),j0=e=>e.polarOptions,E2=Ce([Rl,Dl,Hi],Phe),l9=Ce([j0,E2],(e,t)=>{if(e!=null)return Bc(e.innerRadius,t,0)}),c9=Ce([j0,E2],(e,t)=>{if(e!=null)return Bc(e.outerRadius,t,t*.8)}),Mge=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},u9=Ce([j0],Mge);Ce([C2,u9],S0);var d9=Ce([E2,l9,c9],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ce([A2,d9],S0);var f9=Ce([xr,j0,l9,c9,Rl,Dl],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:h,endAngle:m}=t;return{cx:Bc(l,i,i/2),cy:Bc(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:m,clockWise:!1}}}),Ai=(e,t)=>t,N0=(e,t,n)=>n;function M2(e){return e?.id}function h9(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var h,m=(h=u.data)!==null&&h!==void 0?h:r;if(!(m==null||m.length===0)){var p=M2(u);m.forEach((g,b)=>{var _=o==null||i?b:String(Xr(g,o,null)),N=Xr(g,u.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[p]:N}),l.set(_,S)})}}),Array.from(l.values())}function k2(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var T0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function P0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kge(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ei=e=>{var t=xr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ah=e=>e.tooltip.settings.axisId;function Oge(e){if(e in pm)return pm[e]();var t="scale".concat(xp(e));if(t in pm)return pm[t]()}function dI(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function l(){return o.apply(this,arguments)}return l.toString=function(){return o.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var l=i[0],u=i[1];return l<=u?o>=l&&o<=u:o>=u&&o<=l},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,l)=>{var u=e(o);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var h=e.bandwidth();switch(l.position){case"middle":u+=h/2;break;case"end":u+=h;break}}return u}}}}function fI(e,t,n){if(typeof e=="function")return dI(e.copy().domain(t).range(n));if(e!=null){var r=Oge(e);if(r!=null)return r.domain(t).range(n),dI(r)}}var Rge=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!El(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];pn(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){Dge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dge(e,t,n){return(t=Ige(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ige(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pj=[0,"auto"],ji={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},m9=(e,t)=>e.cartesianAxis.xAxis[t],zl=(e,t)=>{var n=m9(e,t);return n??ji},Ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Pj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sp},p9=(e,t)=>e.cartesianAxis.yAxis[t],$l=(e,t)=>{var n=p9(e,t);return n??Ni},g9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},O2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??g9},xa=(e,t,n)=>{switch(t){case"xAxis":return zl(e,n);case"yAxis":return $l(e,n);case"zAxis":return O2(e,n);case"angleAxis":return C2(e,n);case"radiusAxis":return A2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zge=(e,t,n)=>{switch(t){case"xAxis":return zl(e,n);case"yAxis":return $l(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mp=(e,t,n)=>{switch(t){case"xAxis":return zl(e,n);case"yAxis":return $l(e,n);case"angleAxis":return C2(e,n);case"radiusAxis":return A2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},v9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function y9(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var R2=e=>e.graphicalItems.cartesianItems,$ge=Ce([Ai,N0],y9),x9=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),kp=Ce([R2,xa,$ge],x9,{memoizeOptions:{resultEqualityCheck:P0}}),b9=Ce([kp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(k2)),w9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Fge=Ce([kp],w9),S9=e=>e.map(t=>t.data).filter(Boolean).flat(1),Bge=Ce([kp],S9,{memoizeOptions:{resultEqualityCheck:P0}}),_9=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},D2=Ce([Bge,S2],_9),j9=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Xr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Xr(i,r)}))):e.map(r=>({value:r})),C0=Ce([D2,xa,kp],j9);function N9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $v(e){if(Ko(e)||e instanceof Date){var t=Number(e);if(pn(t))return t}}function mI(e){if(Array.isArray(e)){var t=[$v(e[0]),$v(e[1])];return El(t)?t:void 0}var n=$v(e);if(n!=null)return[n,n]}function Ml(e){return e.map($v).filter(Ia)}function Uge(e,t,n){return!n||typeof t!="number"||qo(t)?[]:n.length?Ml(n.flatMap(r=>{var i=Xr(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!pn(o)||!pn(l)))return[t-o,t+l]})):[]}var pi=e=>{var t=Ei(e),n=ah(e);return Mp(e,t,n)},Op=Ce([pi],e=>e?.dataKey),Vge=Ce([b9,S2,pi],h9),T9=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var h=l[u.stackId];return h==null&&(h=[]),h.push(u),l[u.stackId]=h,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,h]=l,m=r?[...h].reverse():h,p=m.map(M2);return[u,{stackedData:xde(e,p,n),graphicalItems:m}]}))},P9=Ce([Vge,b9,w0,s9],T9),C9=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=_de(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Hge=Ce([xa],e=>e.allowDataOverflow),I2=e=>{var t;if(e==null||!("domain"in e))return Pj;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ml(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Pj},A9=Ce([xa],I2),E9=Ce([A9,Hge],Y8),qge=Ce([P9,Ll,Ai,E9],C9,{memoizeOptions:{resultEqualityCheck:T0}}),L2=e=>e.errorBars,Kge=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>N9(n,r)),ex=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},M9=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(h=>{var m,p,g=(m=r[h.id])===null||m===void 0?void 0:m.filter(C=>N9(i,C)),b=Xr(u,(p=t.dataKey)!==null&&p!==void 0?p:h.dataKey),_=Uge(u,b,g);if(_.length>=2){var N=Math.min(..._),S=Math.max(..._);(o==null||N<o)&&(o=N),(l==null||S>l)&&(l=S)}var T=mI(b);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var h=mI(Xr(u,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),pn(o)&&pn(l))return[o,l]},Wge=Ce([D2,xa,Fge,L2,Ai],M9,{memoizeOptions:{resultEqualityCheck:T0}});function Gge(e){var{value:t}=e;if(Ko(t)||t instanceof Date)return t}var Yge=(e,t,n)=>{var r=e.map(Gge).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&WF(r))?m8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},k9=e=>e.referenceElements.dots,sh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Zge=Ce([k9,Ai,N0],sh),O9=e=>e.referenceElements.areas,Xge=Ce([O9,Ai,N0],sh),R9=e=>e.referenceElements.lines,Qge=Ce([R9,Ai,N0],sh),D9=(e,t)=>{if(e!=null){var n=Ml(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Jge=Ce(Zge,Ai,D9),I9=(e,t)=>{if(e!=null){var n=Ml(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},eve=Ce([Xge,Ai],I9);function tve(e){var t;if(e.x!=null)return Ml([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ml(n)}function nve(e){var t;if(e.y!=null)return Ml([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ml(n)}var L9=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?tve(r):nve(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rve=Ce([Qge,Ai],L9),ive=Ce(Jge,rve,eve,(e,t,n)=>ex(e,n,t)),z9=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var h=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",m=h?ex(r,o,i):ex(o,i);return vge(t,m,e.allowDataOverflow)},ave=Ce([xa,A9,E9,qge,Wge,ive,xr,Ai],z9,{memoizeOptions:{resultEqualityCheck:T0}}),sve=[0,1],$9=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:h}=e,m=Zo(t,o);if(m&&u==null){var p;return m8(0,(p=n?.length)!==null&&p!==void 0?p:0)}return h==="category"?Yge(r,e,m):i==="expand"?sve:l}},z2=Ce([xa,xr,D2,C0,w0,Ai,ave],$9);function ove(e){return e in pm}var F9=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(xp(r));return ove(o)?o:"point"}}},oh=Ce([xa,v9,N2],F9);function $2(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?fI(e.scale,n,r):fI(t,n,r)}var B9=(e,t,n)=>{var r=I2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&El(e))return Sge(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&El(e))return _ge(e,t.tickCount,t.allowDecimals)}},F2=Ce([z2,Mp,oh],B9),U9=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&El(t)&&Array.isArray(n)&&n.length>0){var i,o,l=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,h=t[1],m=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(l,u),Math.max(h,m)]}return t},lve=Ce([xa,z2,F2,Ai],U9),cve=Ce(C0,xa,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ml(e.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var h=r[u],m=r[u+1];if(!(h==null||m==null)){var p=m-h;n=Math.min(n,p)}}return n/l}}),V9=Ce(cve,xr,jge,Hi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!pn(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Bc(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),uve=(e,t,n)=>{var r=zl(e,t);return r==null||typeof r.padding!="string"?0:V9(e,"xAxis",t,n,r.padding)},dve=(e,t,n)=>{var r=$l(e,t);return r==null||typeof r.padding!="string"?0:V9(e,"yAxis",t,n,r.padding)},fve=Ce(zl,uve,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),hve=Ce($l,dve,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),mve=Ce([Hi,fve,c0,l0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),pve=Ce([Hi,xr,hve,c0,l0,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Rp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return mve(e,n,r);case"yAxis":return pve(e,n,r);case"zAxis":return(i=O2(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return u9(e);case"radiusAxis":return d9(e,n);default:return}},H9=Ce([xa,Rp],S0),gve=Ce([oh,lve],Rge),A0=Ce([xa,oh,gve,H9],$2);Ce([kp,L2,Ai],Kge);function q9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var E0=(e,t)=>t,M0=(e,t,n)=>n,vve=Ce(s0,E0,M0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(q9)),yve=Ce(o0,E0,M0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(q9)),K9=(e,t)=>({width:e.width,height:t.height}),xve=(e,t)=>{var n=typeof t.width=="number"?t.width:Sp;return{width:n,height:e.height}},bve=Ce(Hi,zl,K9),wve=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Sve=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},_ve=Ce(Dl,Hi,vve,E0,M0,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var h=K9(t,u);l==null&&(l=wve(t,r,e));var m=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(m)*h.height,l+=(m?-1:1)*h.height}),o}),jve=Ce(Rl,Hi,yve,E0,M0,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var h=xve(t,u);l==null&&(l=Sve(t,r,e));var m=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(m)*h.width,l+=(m?-1:1)*h.width}),o}),Nve=(e,t)=>{var n=zl(e,t);if(n!=null)return _ve(e,n.orientation,n.mirror)},Tve=Ce([Hi,zl,Nve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Pve=(e,t)=>{var n=$l(e,t);if(n!=null)return jve(e,n.orientation,n.mirror)},Cve=Ce([Hi,$l,Pve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Ave=Ce(Hi,$l,(e,t)=>{var n=typeof t.width=="number"?t.width:Sp;return{width:n,height:e.height}}),W9=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Zo(e,r),h=t.map(m=>m.value);if(l&&u&&o==="category"&&i&&WF(h))return h}},B2=Ce([xr,C0,xa,Ai],W9),G9=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Zo(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},U2=Ce([xr,C0,Mp,Ai],G9),pI=Ce([xr,zge,oh,A0,B2,U2,Rp,F2,Ai],(e,t,n,r,i,o,l,u,h)=>{if(t!=null){var m=Zo(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Eve=(e,t,n,r,i,o,l,u,h)=>{if(!(t==null||r==null)){var m=Zo(e,h),{type:p,ticks:g,tickCount:b}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=p==="category"&&r.bandwidth?r.bandwidth()/_:0;N=h==="angleAxis"&&o!=null&&o.length>=2?Ps(o[0]-o[1])*2*N:N;var S=g||i;return S?S.map((T,C)=>{var M=l?l.indexOf(T):T,E=r.map(M);return pn(E)?{index:C,coordinate:E+N,value:T,offset:N}:null}).filter(Ia):m&&u?u.map((T,C)=>{var M=r.map(T);return pn(M)?{coordinate:M+N,value:T,index:C,offset:N}:null}).filter(Ia):r.ticks?r.ticks(b).map((T,C)=>{var M=r.map(T);return pn(M)?{coordinate:M+N,value:T,index:C,offset:N}:null}).filter(Ia):r.domain().map((T,C)=>{var M=r.map(T);return pn(M)?{coordinate:M+N,value:l?l[T]:T,index:C,offset:N}:null}).filter(Ia)}},Y9=Ce([xr,Mp,oh,A0,F2,Rp,B2,U2,Ai],Eve),Mve=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Zo(e,l),{tickCount:h}=t,m=0;return m=l==="angleAxis"&&r?.length>=2?Ps(r[0]-r[1])*2*m:m,u&&o?o.map((p,g)=>{var b=n.map(p);return pn(b)?{coordinate:b+m,value:p,index:g,offset:m}:null}).filter(Ia):n.ticks?n.ticks(h).map((p,g)=>{var b=n.map(p);return pn(b)?{coordinate:b+m,value:p,index:g,offset:m}:null}).filter(Ia):n.domain().map((p,g)=>{var b=n.map(p);return pn(b)?{coordinate:b+m,value:i?i[p]:p,index:g,offset:m}:null}).filter(Ia)}},k0=Ce([xr,Mp,A0,Rp,B2,U2,Ai],Mve),O0=Ce(xa,A0,(e,t)=>{if(!(e==null||t==null))return Jy(Jy({},e),{},{scale:t})}),kve=Ce([xa,oh,z2,H9],$2),Ove=Ce((e,t,n)=>O2(e,n),kve,(e,t)=>{if(!(e==null||t==null))return Jy(Jy({},e),{},{scale:t})}),Rve=Ce([xr,s0,o0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z9=e=>e.options.defaultTooltipEventType,X9=e=>e.options.validateTooltipEventTypes;function Q9(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function V2(e,t){var n=Z9(e),r=X9(e);return Q9(t,n,r)}function Dve(e){return Ot(t=>V2(t,e))}var J9=(e,t)=>{var n,r=Number(t);if(!(qo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Ive=e=>e.tooltip.settings,Tc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Lve={itemInteraction:{click:Tc,hover:Tc},axisInteraction:{click:Tc,hover:Tc},keyboardInteraction:Tc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},eU=Ba({name:"tooltip",initialState:Lve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:vr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=lo(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:vr()},removeTooltipEntrySettings:{reducer(e,t){var n=lo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:vr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:zve,replaceTooltipEntrySettings:$ve,removeTooltipEntrySettings:Fve,setTooltipSettingsState:Bve,setActiveMouseOverItemIndex:tU,mouseLeaveItem:Uve,mouseLeaveChart:nU,setActiveClickItemIndex:Vve,setMouseOverAxisIndex:rU,setMouseClickAxisIndex:Hve,setSyncInteraction:Cj,setKeyboardInteraction:Aj}=eU.actions,qve=eU.reducer;function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){Kve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kve(e,t,n){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wve(e){var t=Gve(e,"string");return typeof t=="symbol"?t:t+""}function Gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yve(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Zve(e){return e.index!=null}var iU=(e,t,n,r)=>{if(t==null)return Tc;var i=Yve(e,t,n);if(i==null)return Tc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Zve(i)){if(o)return yv(yv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return yv(yv({},Tc),{},{coordinate:i.coordinate})};function Xve(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Qve(e,t){var n=Xve(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function Jve(e,t,n){if(n==null||t==null)return!0;var r=Xr(e,t);return r==null||!El(n)?!0:Qve(r,n)}var H2=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var o=Number(i);if(!pn(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var h=Math.max(l,Math.min(o,u)),m=t[h];return m==null||Jve(m,n,r)?String(h):null},aU=(e,t,n,r,i,o,l)=>{if(o!=null){var u=l[0],h=u?.getPosition(o);if(h!=null)return h;var m=i?.[Number(o)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:m.coordinate}}},sU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},oU=e=>e.options.tooltipPayloadSearcher,lh=e=>e.tooltip;function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){eye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eye(e,t,n){return(t=tye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tye(e){var t=nye(e,"string");return typeof t=="symbol"?t:t+""}function nye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rye(e,t){return e??t}var lU=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:h,dataStartIndex:m,dataEndIndex:p}=n,g=[];return e.reduce((b,_)=>{var N,{dataDefinedOnItem:S,settings:T}=_,C=rye(S,u),M=Array.isArray(C)?$B(C,m,p):C,E=(N=T?.dataKey)!==null&&N!==void 0?N:r,k=T?.nameKey,R;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?R=GF(M,r,i):R=o(M,t,h,k),Array.isArray(R))R.forEach(D=>{var F=yI(yI({},T),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});b.push(xR({tooltipEntrySettings:F,dataKey:D.dataKey,payload:D.payload,value:Xr(D.payload,D.dataKey),name:D.name}))});else{var I;b.push(xR({tooltipEntrySettings:T,dataKey:E,payload:R,value:Xr(R,E),name:(I=Xr(R,k))!==null&&I!==void 0?I:T?.name}))}return b},g)}},q2=Ce([pi,v9,N2],F9),iye=Ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),aye=Ce([Ei,ah],y9),ch=Ce([iye,pi,aye],x9,{memoizeOptions:{resultEqualityCheck:P0}}),sye=Ce([ch],e=>e.filter(k2)),oye=Ce([ch],S9,{memoizeOptions:{resultEqualityCheck:P0}}),uh=Ce([oye,Ll],_9),lye=Ce([sye,Ll,pi],h9),K2=Ce([uh,pi,ch],j9),cU=Ce([pi],I2),cye=Ce([pi],e=>e.allowDataOverflow),uU=Ce([cU,cye],Y8),uye=Ce([ch],e=>e.filter(k2)),dye=Ce([lye,uye,w0,s9],T9),fye=Ce([dye,Ll,Ei,uU],C9),hye=Ce([ch],w9),mye=Ce([uh,pi,hye,L2,Ei],M9,{memoizeOptions:{resultEqualityCheck:T0}}),pye=Ce([k9,Ei,ah],sh),gye=Ce([pye,Ei],D9),vye=Ce([O9,Ei,ah],sh),yye=Ce([vye,Ei],I9),xye=Ce([R9,Ei,ah],sh),bye=Ce([xye,Ei],L9),wye=Ce([gye,bye,yye],ex),Sye=Ce([pi,cU,uU,fye,mye,wye,xr,Ei],z9),Dp=Ce([pi,xr,uh,K2,w0,Ei,Sye],$9),_ye=Ce([Dp,pi,q2],B9),jye=Ce([pi,Dp,_ye,Ei],U9),dU=e=>{var t=Ei(e),n=ah(e),r=!1;return Rp(e,t,n,r)},fU=Ce([pi,dU],S0),hU=Ce([pi,q2,jye,fU],$2),Nye=Ce([xr,K2,pi,Ei],W9),Tye=Ce([xr,K2,pi,Ei],G9),Pye=(e,t,n,r,i,o,l,u)=>{if(t){var{type:h}=t,m=Zo(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Ps(i[0]-i[1])*2*g:g,m&&l?l.map((b,_)=>{var N=r.map(b);return pn(N)?{coordinate:N+g,value:b,index:_,offset:g}:null}).filter(Ia):r.domain().map((b,_)=>{var N=r.map(b);return pn(N)?{coordinate:N+g,value:o?o[b]:b,index:_,offset:g}:null}).filter(Ia)}}},Fl=Ce([xr,pi,q2,hU,dU,Nye,Tye,Ei],Pye),W2=Ce([Z9,X9,Ive],(e,t,n)=>Q9(n.shared,e,t)),mU=e=>e.tooltip.settings.trigger,G2=e=>e.tooltip.settings.defaultIndex,Ip=Ce([lh,W2,mU,G2],iU),If=Ce([Ip,uh,Op,Dp],H2),pU=Ce([Fl,If],J9),Cye=Ce([Ip],e=>{if(e)return e.dataKey});Ce([Ip],e=>{if(e)return e.graphicalItemId});var gU=Ce([lh,W2,mU,G2],sU),Aye=Ce([Rl,Dl,xr,Hi,Fl,G2,gU],aU),Eye=Ce([Ip,Aye],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Mye=Ce([Ip],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),kye=Ce([gU,If,Ll,Op,pU,oU,W2],lU),Oye=Ce([kye],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){Rye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rye(e,t,n){return(t=Dye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dye(e){var t=Iye(e,"string");return typeof t=="symbol"?t:t+""}function Iye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lye=()=>Ot(pi),zye=()=>{var e=Lye(),t=Ot(Fl),n=Ot(hU);return My(!e||!n?void 0:bI(bI({},e),{},{scale:n}),t)};function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){$ye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ye(e,t,n){return(t=Fye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fye(e){var t=Bye(e,"string");return typeof t=="symbol"?t:t+""}function Bye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uye=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Vye=(e,t,n,r)=>{var i=t.find(m=>m&&m.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return Yd(Yd(Yd({},r),Bi(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:h}=r;return Yd(Yd(Yd({},r),Bi(r.cx,r.cy,u,h)),{},{angle:h,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Hye(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var vU=(e,t,n,r,i)=>{var o,l=(o=t?.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var h,m,p,g,b,_=u>0?(h=n[u-1])===null||h===void 0?void 0:h.coordinate:(m=n[l-1])===null||m===void 0?void 0:m.coordinate,N=(p=n[u])===null||p===void 0?void 0:p.coordinate,S=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,T=void 0;if(!(_==null||N==null||S==null))if(Ps(N-_)!==Ps(S-N)){var C=[];if(Ps(S-N)===Ps(i[1]-i[0])){T=S;var M=N+i[1]-i[0];C[0]=Math.min(M,(M+_)/2),C[1]=Math.max(M,(M+_)/2)}else{T=_;var E=S+i[1]-i[0];C[0]=Math.min(N,(E+N)/2),C[1]=Math.max(N,(E+N)/2)}var k=[Math.min(N,(T+N)/2),Math.max(N,(T+N)/2)];if(e>k[0]&&e<=k[1]||e>=C[0]&&e<=C[1]){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}else{var I=Math.min(_,S),D=Math.max(_,S);if(e>(I+N)/2&&e<=(D+N)/2){var F;return(F=n[u])===null||F===void 0?void 0:F.index}}}else if(t)for(var Y=0;Y<l;Y++){var ne=t[Y];if(ne!=null){var W=t[Y+1],Z=t[Y-1];if(Y===0&&W!=null&&e<=(ne.coordinate+W.coordinate)/2||Y===l-1&&Z!=null&&e>(ne.coordinate+Z.coordinate)/2||Y>0&&Y<l-1&&Z!=null&&W!=null&&e>(ne.coordinate+Z.coordinate)/2&&e<=(ne.coordinate+W.coordinate)/2)return ne.index}}return-1},yU=()=>Ot(N2),Y2=(e,t)=>t,xU=(e,t,n)=>n,Z2=(e,t,n,r)=>r,qye=Ce(Fl,e=>Yx(e,t=>t.coordinate)),X2=Ce([lh,Y2,xU,Z2],iU),Q2=Ce([X2,uh,Op,Dp],H2),Kye=(e,t,n)=>{if(t!=null){var r=lh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},bU=Ce([lh,Y2,xU,Z2],sU),tx=Ce([Rl,Dl,xr,Hi,Fl,Z2,bU],aU),Wye=Ce([X2,tx],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),wU=Ce([Fl,Q2],J9),Gye=Ce([bU,Q2,Ll,Op,wU,oU,Y2],lU),Yye=Ce([X2,Q2],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Zye=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&Hye(e,l)){var u=jde(e,t),h=vU(u,o,i,n,r),m=Uye(t,i,h,e);return{activeIndex:String(h),activeCoordinate:m}}},Xye=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=khe(e,n);if(u){var h=Nde(u,t),m=vU(h,l,o,r,i),p=Vye(t,o,m,u);return{activeIndex:String(m),activeCoordinate:p}}}},Qye=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Zye(e,t,r,i,o,l,u):Xye(e,t,n,r,i,o,l)},Jye=Ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),exe=Ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ui)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kge}});function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){txe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function txe(e,t,n){return(t=nxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nxe(e){var t=rxe(e,"string");return typeof t=="symbol"?t:t+""}function rxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ixe={},axe={zIndexMap:Object.values(Ui).reduce((e,t)=>_I(_I({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ixe)},sxe=new Set(Object.values(Ui));function oxe(e){return sxe.has(e)}var SU=Ba({name:"zIndex",initialState:axe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:vr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!oxe(n)&&delete e.zIndexMap[n])},prepare:vr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:vr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:vr()}}}),{registerZIndexPortal:lxe,unregisterZIndexPortal:cxe,registerZIndexPortalElement:uxe,unregisterZIndexPortalElement:dxe}=SU.actions,fxe=SU.reducer;function vo(e){var{zIndex:t,children:n}=e,r=rfe(),i=r&&t!==void 0&&t!==0,o=aa(),l=Qr();v.useLayoutEffect(()=>i?(l(lxe({zIndex:t})),()=>{l(cxe({zIndex:t}))}):eh,[l,t,i]);var u=Ot(h=>Jye(h,t,o));return i?u?Vc.createPortal(n,u):null:n}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ej.apply(null,arguments)}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){hxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hxe(e,t,n){return(t=mxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mxe(e){var t=pxe(e,"string");return typeof t=="symbol"?t:t+""}function pxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function vxe(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:h,tooltipEventType:m,chartName:p}=e,g=n,b=r,_=i;if(!h||!g||p!=="ScatterChart"&&m!=="axis")return null;var N,S,T;if(p==="ScatterChart")N=g,S=qfe,T=Ui.cursorLine;else if(p==="BarChart")N=Kfe(u,g,o,l),S=u8,T=Ui.cursorRectangle;else if(u==="radial"&&ZF(g)){var{cx:C,cy:M,radius:E,startAngle:k,endAngle:R}=d8(g);N={cx:C,cy:M,startAngle:k,endAngle:R,innerRadius:E,outerRadius:E},S=h8,T=Ui.cursorLine}else N={points:Ihe(u,g,o)},S=gf,T=Ui.cursorLine;var I=typeof h=="object"&&"className"in h?h.className:void 0,D=xv(xv(xv(xv({stroke:"#ccc",pointerEvents:"none"},o),N),yp(h)),{},{payload:b,payloadIndex:_,className:zn("recharts-tooltip-cursor",I)});return v.createElement(vo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},v.createElement(gxe,{cursor:h,cursorComp:S,cursorProps:D}))}function yxe(e){var t=zye(),n=GB(),r=th(),i=yU();return t==null||n==null||r==null||i==null?null:v.createElement(vxe,Ej({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var _U=v.createContext(null),xxe=()=>v.useContext(_U),xS={exports:{}},NI;function bxe(){return NI||(NI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,m,p){this.fn=h,this.context=m,this.once=p||!1}function o(h,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||h,b),N=n?n+m:m;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],_]:h._events[N].push(_):(h._events[N]=_,h._eventsCount++),h}function l(h,m){--h._eventsCount===0?h._events=new r:delete h._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)t.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,N=new Array(_);b<_;b++)N[b]=g[b].fn;return N},u.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,p,g,b,_,N){var S=n?n+m:m;if(!this._events[S])return!1;var T=this._events[S],C=arguments.length,M,E;if(T.fn){switch(T.once&&this.removeListener(m,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,g),!0;case 4:return T.fn.call(T.context,p,g,b),!0;case 5:return T.fn.call(T.context,p,g,b,_),!0;case 6:return T.fn.call(T.context,p,g,b,_,N),!0}for(E=1,M=new Array(C-1);E<C;E++)M[E-1]=arguments[E];T.fn.apply(T.context,M)}else{var k=T.length,R;for(E=0;E<k;E++)switch(T[E].once&&this.removeListener(m,T[E].fn,void 0,!0),C){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,p);break;case 3:T[E].fn.call(T[E].context,p,g);break;case 4:T[E].fn.call(T[E].context,p,g,b);break;default:if(!M)for(R=1,M=new Array(C-1);R<C;R++)M[R-1]=arguments[R];T[E].fn.apply(T[E].context,M)}}return!0},u.prototype.on=function(m,p,g){return o(this,m,p,g,!1)},u.prototype.once=function(m,p,g){return o(this,m,p,g,!0)},u.prototype.removeListener=function(m,p,g,b){var _=n?n+m:m;if(!this._events[_])return this;if(!p)return l(this,_),this;var N=this._events[_];if(N.fn)N.fn===p&&(!b||N.once)&&(!g||N.context===g)&&l(this,_);else{for(var S=0,T=[],C=N.length;S<C;S++)(N[S].fn!==p||b&&!N[S].once||g&&N[S].context!==g)&&T.push(N[S]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(xS)),xS.exports}var wxe=bxe();const Sxe=mo(wxe);var Qm=new Sxe,Mj="recharts.syncEvent.tooltip",TI="recharts.syncEvent.brush",jU=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!qo(n))return e[n]}},_xe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},NU=Ba({name:"options",initialState:_xe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jxe=NU.reducer,{createEventEmitter:Nxe}=NU.actions;function Txe(e){return e.tooltip.syncInteraction}var Pxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TU=Ba({name:"chartData",initialState:Pxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:PI,setDataStartEndIndexes:Cxe,setComputedData:_2e}=TU.actions,Axe=TU.reducer,Exe=["x","y"];function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){Mxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mxe(e,t,n){return(t=kxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kxe(e){var t=Oxe(e,"string");return typeof t=="symbol"?t:t+""}function Oxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rxe(e,t){if(e==null)return{};var n,r,i=Dxe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ixe(){var e=Ot(T2),t=Ot(P2),n=Qr(),r=Ot(o9),i=Ot(Fl),o=th(),l=_p(),u=Ot(h=>h.rootProps.className);v.useEffect(()=>{if(e==null)return eh;var h=(m,p,g)=>{if(t!==g&&e===m){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:N,y:S}=_,T=Rxe(_,Exe),{x:C,y:M,width:E,height:k}=p.payload.sourceViewBox,R=Zd(Zd({},T),{},{x:l.x+(E?(N-C)/E:0)*l.width,y:l.y+(k?(S-M)/k:0)*l.height});n(Zd(Zd({},p),{},{payload:Zd(Zd({},p.payload),{},{coordinate:R})}))}else n(p);return}if(i!=null){var I;if(typeof r=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},F=r(i,D);I=i[F]}else r==="value"&&(I=i.find(K=>String(K.value)===p.payload.label));var{coordinate:Y}=p.payload;if(I==null||p.payload.active===!1||Y==null||l==null){n(Cj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ne,y:W}=Y,Z=Math.min(ne,l.x+l.width),re=Math.min(W,l.y+l.height),ce={x:o==="horizontal"?I.coordinate:Z,y:o==="horizontal"?re:I.coordinate},fe=Cj({active:p.payload.active,coordinate:ce,dataKey:p.payload.dataKey,index:String(I.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(fe)}}};return Qm.on(Mj,h),()=>{Qm.off(Mj,h)}},[u,n,t,e,r,i,o,l])}function Lxe(){var e=Ot(T2),t=Ot(P2),n=Qr();v.useEffect(()=>{if(e==null)return eh;var r=(i,o,l)=>{t!==l&&e===i&&n(Cxe(o))};return Qm.on(TI,r),()=>{Qm.off(TI,r)}},[n,t,e])}function zxe(){var e=Qr();v.useEffect(()=>{e(Nxe())},[e]),Ixe(),Lxe()}function $xe(e,t,n,r,i,o){var l=Ot(_=>Kye(_,e,t)),u=Ot(P2),h=Ot(T2),m=Ot(o9),p=Ot(Txe),g=p?.active,b=_p();v.useEffect(()=>{if(!g&&h!=null&&u!=null){var _=Cj({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Qm.emit(Mj,h,_,u)}},[g,n,l,i,r,u,h,m,o,b])}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){Fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fxe(e,t,n){return(t=Bxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bxe(e){var t=Uxe(e,"string");return typeof t=="symbol"?t:t+""}function Uxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vxe(e){return e.dataKey}function Hxe(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(jfe,t)}var MI=[],qxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kI(e){var t,n,r=ia(e,qxe),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:h,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:N,useTranslate3d:S,wrapperStyle:T,cursor:C,shared:M,trigger:E,defaultIndex:k,portal:R,axisId:I}=r,D=Qr(),F=typeof k=="number"?String(k):k;v.useEffect(()=>{D(Bve({shared:M,trigger:E,axisId:I,active:i,defaultIndex:F}))},[D,M,E,I,i,F]);var Y=_p(),ne=a8(),W=Dve(M),{activeIndex:Z,isActive:re}=(t=Ot(Ae=>Yye(Ae,W,E,F)))!==null&&t!==void 0?t:{},ce=Ot(Ae=>Gye(Ae,W,E,F)),fe=Ot(Ae=>wU(Ae,W,E,F)),K=Ot(Ae=>Wye(Ae,W,E,F)),Q=ce,H=xxe(),X=(n=i??re)!==null&&n!==void 0?n:!1,[$,G]=due([Q,X]),Ne=W==="axis"?fe:void 0;$xe(W,E,K,Ne,Z,X);var de=R??H;if(de==null||Y==null||W==null)return null;var q=Q??MI;X||(q=MI),m&&q.length&&(q=$ce(q.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),b,Vxe));var ae=q.length>0,be=v.createElement(Mfe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:X,coordinate:K,hasPayload:ae,offset:g,position:_,reverseDirection:N,useTranslate3d:S,viewBox:Y,wrapperStyle:T,lastBoundingBox:$,innerRef:G,hasPortalFromProps:!!R},Hxe(h,EI(EI({},r),{},{payload:q,label:Ne,active:X,activeIndex:Z,coordinate:K,accessibilityLayer:ne})));return v.createElement(v.Fragment,null,Vc.createPortal(be,de),X&&v.createElement(yxe,{cursor:C,tooltipEventType:W,coordinate:K,payload:q,index:Z}))}var J2=e=>null;J2.displayName="Cell";function Kxe(e,t,n){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wxe(e){var t=Gxe(e,"string");return typeof t=="symbol"?t:t+""}function Gxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yxe{constructor(t){Kxe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){Xxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xxe(e,t,n){return(t=Qxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qxe(e){var t=Jxe(e,"string");return typeof t=="symbol"?t:t+""}function Jxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e0e={cacheSize:2e3,enableCache:!0},PU=Zxe({},e0e),RI=new Yxe(PU.cacheSize),t0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DI="recharts_measurement_span";function n0e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var II=(e,t)=>{try{var n=document.getElementById(DI);n||(n=document.createElement("span"),n.setAttribute("id",DI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,t0e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Tm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tp.isSsr)return{width:0,height:0};if(!PU.enableCache)return II(t,n);var r=n0e(t,n),i=RI.get(r);if(i)return i;var o=II(t,n);return RI.set(r,o),o},CU;function r0e(e,t,n){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0e(e){var t=a0e(e,"string");return typeof t=="symbol"?t:t+""}function a0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,o0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,l0e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},c0e=["cm","mm","pt","pc","in","Q","px"];function u0e(e){return c0e.includes(e)}var of="NaN";function d0e(e,t){return e*l0e[t]}class Fi{static parse(t){var n,[,r,i]=(n=o0e.exec(t))!==null&&n!==void 0?n:[];return r==null?Fi.NaN:new Fi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qo(t)&&(this.unit=""),n!==""&&!s0e.test(n)&&(this.num=NaN,this.unit=""),u0e(n)&&(this.num=d0e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fi(NaN,""):new Fi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qo(this.num)}}CU=Fi;r0e(Fi,"NaN",new CU(NaN,""));function AU(e){if(e==null||e.includes(of))return of;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=LI.exec(t))!==null&&n!==void 0?n:[],l=Fi.parse(r??""),u=Fi.parse(o??""),h=i==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return of;t=t.replace(LI,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,p,g,b]=(m=zI.exec(t))!==null&&m!==void 0?m:[],_=Fi.parse(p??""),N=Fi.parse(b??""),S=g==="+"?_.add(N):_.subtract(N);if(S.isNaN())return of;t=t.replace(zI,S.toString())}return t}var $I=/\(([^()]*)\)/;function f0e(e){for(var t=e,n;(n=$I.exec(t))!=null;){var[,r]=n;t=t.replace($I,AU(r))}return t}function h0e(e){var t=e.replace(/\s+/g,"");return t=f0e(t),t=AU(t),t}function m0e(e){try{return h0e(e)}catch{return of}}function bS(e){var t=m0e(e.slice(5,-1));return t===of?"":t}var p0e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],g0e=["dx","dy","angle","className","breakAll"];function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj.apply(null,arguments)}function FI(e,t){if(e==null)return{};var n,r,i=v0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EU=/[ \f\n\r\t\v\u2028\u2029]+/,MU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ur(t)||(n?i=t.toString().split(""):i=t.toString().split(EU));var o=i.map(u=>({word:u,width:Tm(u,r).width})),l=n?0:Tm("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function y0e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var kU=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,h=i[i.length-1];if(h&&u!=null&&(t==null||r||h.width+u+n<Number(t)))h.words.push(l),h.width+=u+n;else{var m={words:[l],width:u};i.push(m)}return i},[]),OU=e=>e.reduce((t,n)=>t.width>n.width?t:n),x0e="",BI=(e,t,n,r,i,o,l,u)=>{var h=e.slice(0,t),m=MU({breakAll:n,style:r,children:h+x0e});if(!m)return[!1,[]];var p=kU(m.wordsWithComputedWidth,o,l,u),g=p.length>i||OU(p).width>Number(o);return[g,p]},b0e=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:h}=e,m=jt(o),p=String(l),g=kU(t,r,n,i);if(!m||i)return g;var b=g.length>o||OU(g).width>Number(r);if(!b)return g;for(var _=0,N=p.length-1,S=0,T;_<=N&&S<=p.length-1;){var C=Math.floor((_+N)/2),M=C-1,[E,k]=BI(p,M,h,u,o,r,n,i),[R]=BI(p,C,h,u,o,r,n,i);if(!E&&!R&&(_=C+1),E&&R&&(N=C-1),!E&&R){T=k;break}S++}return T||g},UI=e=>{var t=Ur(e)?[]:e.toString().split(EU);return[{words:t,width:void 0}]},w0e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Tp.isSsr){var u,h,m=MU({breakAll:o,children:r,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;u=p,h=g}else return UI(r);return b0e({breakAll:o,children:r,maxLines:l,style:i},u,h,t,!!n)}return UI(r)},RU="#808080",S0e={angle:0,breakAll:!1,capHeight:"0.71em",fill:RU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eP=v.forwardRef((e,t)=>{var n=ia(e,S0e),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:h,textAnchor:m,verticalAnchor:p}=n,g=FI(n,p0e),b=v.useMemo(()=>w0e({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:_,dy:N,angle:S,className:T,breakAll:C}=g,M=FI(g,g0e);if(!Ko(r)||!Ko(i)||b.length===0)return null;var E=Number(r)+(jt(_)?_:0),k=Number(i)+(jt(N)?N:0);if(!pn(E)||!pn(k))return null;var R;switch(p){case"start":R=bS("calc(".concat(l,")"));break;case"middle":R=bS("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:R=bS("calc(".concat(b.length-1," * -").concat(o,")"));break}var I=[],D=b[0];if(h&&D!=null){var F=D.width,{width:Y}=g;I.push("scale(".concat(jt(Y)&&jt(F)?Y/F:1,")"))}return S&&I.push("rotate(".concat(S,", ").concat(E,", ").concat(k,")")),I.length&&(M.transform=I.join(" ")),v.createElement("text",kj({},va(M),{ref:t,x:E,y:k,className:zn("recharts-text",T),textAnchor:m,fill:u.includes("url")?RU:u}),b.map((ne,W)=>{var Z=ne.words.join(C?"":" ");return v.createElement("tspan",{x:E,dy:W===0?R:o,key:"".concat(Z,"-").concat(W)},Z)}))});eP.displayName="Text";function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){_0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _0e(e,t,n){return(t=j0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j0e(e){var t=N0e(e,"string");return typeof t=="symbol"?t:t+""}function N0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T0e=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:l,height:u,upperWidth:h,lowerWidth:m}=YT(t),p=o,g=o+(h-m)/2,b=(p+g)/2,_=(h+m)/2,N=p+h/2,S=u>=0?1:-1,T=S*r,C=S>0?"end":"start",M=S>0?"start":"end",E=h>=0?1:-1,k=E*r,R=E>0?"end":"start",I=E>0?"start":"end",D=i;if(n==="top"){var F={x:p+h/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:C};return D&&(F.height=Math.max(l-D.y,0),F.width=h),F}if(n==="bottom"){var Y={x:g+m/2,y:l+u+T,horizontalAnchor:"middle",verticalAnchor:M};return D&&(Y.height=Math.max(D.y+D.height-(l+u),0),Y.width=m),Y}if(n==="left"){var ne={x:b-k,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"};return D&&(ne.width=Math.max(ne.x-D.x,0),ne.height=u),ne}if(n==="right"){var W={x:b+_+k,y:l+u/2,horizontalAnchor:I,verticalAnchor:"middle"};return D&&(W.width=Math.max(D.x+D.width-W.x,0),W.height=u),W}var Z=D?{width:_,height:u}:{};return n==="insideLeft"?Oo({x:b+k,y:l+u/2,horizontalAnchor:I,verticalAnchor:"middle"},Z):n==="insideRight"?Oo({x:b+_-k,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"},Z):n==="insideTop"?Oo({x:p+h/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:M},Z):n==="insideBottom"?Oo({x:g+m/2,y:l+u-T,horizontalAnchor:"middle",verticalAnchor:C},Z):n==="insideTopLeft"?Oo({x:p+k,y:l+T,horizontalAnchor:I,verticalAnchor:M},Z):n==="insideTopRight"?Oo({x:p+h-k,y:l+T,horizontalAnchor:R,verticalAnchor:M},Z):n==="insideBottomLeft"?Oo({x:g+k,y:l+u-T,horizontalAnchor:I,verticalAnchor:C},Z):n==="insideBottomRight"?Oo({x:g+m-k,y:l+u-T,horizontalAnchor:R,verticalAnchor:C},Z):n&&typeof n=="object"&&(jt(n.x)||Ju(n.x))&&(jt(n.y)||Ju(n.y))?Oo({x:o+Bc(n.x,_),y:l+Bc(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},Z):Oo({x:N,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Z)},P0e=["labelRef"],C0e=["content"];function HI(e,t){if(e==null)return{};var n,r,i=A0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){E0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0e(e,t,n){return(t=M0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M0e(e){var t=k0e(e,"string");return typeof t=="symbol"?t:t+""}function k0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(null,arguments)}var DU=v.createContext(null),O0e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,h=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return v.createElement(DU.Provider,{value:h},u)},IU=()=>{var e=v.useContext(DU),t=_p();return e||(t?YT(t):void 0)},R0e=v.createContext(null),D0e=()=>{var e=v.useContext(R0e),t=Ot(f9);return e||t},I0e=e=>{var{value:t,formatter:n}=e,r=Ur(e.children)?t:e.children;return typeof n=="function"?n(r):r},tP=e=>e!=null&&typeof e=="function",L0e=(e,t)=>{var n=Ps(t-e),r=Math.min(Math.abs(t-e),360);return n*r},z0e=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:h,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,N=(m+p)/2,S=L0e(g,b),T=S>=0?1:-1,C,M;switch(t){case"insideStart":C=g+T*o,M=_;break;case"insideEnd":C=b-T*o,M=!_;break;case"end":C=b+T*o,M=_;break;default:throw new Error("Unsupported position ".concat(t))}M=S<=0?M:!M;var E=Bi(u,h,N,C),k=Bi(u,h,N,C+(M?1:-1)*359),R="M".concat(E.x,",").concat(E.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(M?0:1,`,
    `).concat(k.x,",").concat(k.y),I=Ur(e.id)?$m("recharts-radial-line-"):e.id;return v.createElement("text",yl({},r,{dominantBaseline:"central",className:zn("recharts-radial-bar-label",l)}),v.createElement("defs",null,v.createElement("path",{id:I,d:R})),v.createElement("textPath",{xlinkHref:"#".concat(I)},n))},$0e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:h}=e,m=(u+h)/2;if(n==="outside"){var{x:p,y:g}=Bi(r,i,l+t,m);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(o+l)/2,{x:_,y:N}=Bi(r,i,b,m);return{x:_,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Fv=e=>e!=null&&"cx"in e&&jt(e.cx),F0e={angle:0,offset:5,zIndex:Ui.label,position:"middle",textBreakAll:!1};function B0e(e){if(!Fv(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function _c(e){var t=ia(e,F0e),{viewBox:n,parentViewBox:r,position:i,value:o,children:l,content:u,className:h="",textBreakAll:m,labelRef:p}=t,g=D0e(),b=IU(),_=i==="center"?b:g??b,N,S,T;n==null?N=_:Fv(n)?N=n:N=YT(n);var C=B0e(N);if(!N||Ur(o)&&Ur(l)&&!v.isValidElement(u)&&typeof u!="function")return null;var M=gm(gm({},t),{},{viewBox:N});if(v.isValidElement(u)){var{labelRef:E}=M,k=HI(M,P0e);return v.cloneElement(u,k)}if(typeof u=="function"){var{content:R}=M,I=HI(M,C0e);if(S=v.createElement(u,I),v.isValidElement(S))return S}else S=I0e(t);var D=va(t);if(Fv(N)){if(i==="insideStart"||i==="insideEnd"||i==="end")return z0e(t,i,S,D,N);T=$0e(N,t.offset,t.position)}else{if(!C)return null;var F=T0e({viewBox:C,position:i,offset:t.offset,parentViewBox:Fv(r)?void 0:r});T=gm(gm({x:F.x,y:F.y,textAnchor:F.horizontalAnchor,verticalAnchor:F.verticalAnchor},F.width!==void 0?{width:F.width}:{}),F.height!==void 0?{height:F.height}:{})}return v.createElement(vo,{zIndex:t.zIndex},v.createElement(eP,yl({ref:p,className:zn("recharts-label",h)},D,T,{textAnchor:y0e(D.textAnchor)?D.textAnchor:T.textAnchor,breakAll:m}),S))}_c.displayName="Label";var U0e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(_c,yl({key:"label-implicit"},r)):Ko(e)?v.createElement(_c,yl({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===_c?v.cloneElement(e,gm({key:"label-implicit"},r)):v.createElement(_c,yl({key:"label-implicit",content:e},r)):tP(e)?v.createElement(_c,yl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(_c,yl({},e,{key:"label-implicit"},r)):null};function V0e(e){var{label:t,labelRef:n}=e,r=IU();return U0e(t,r,n)||null}var wS={},SS={},KI;function H0e(){return KI||(KI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(SS)),SS}var _S={},WI;function q0e(){return WI||(WI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(_S)),_S}var GI;function K0e(){return GI||(GI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H0e(),n=q0e(),r=$T();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(wS)),wS}var jS,YI;function W0e(){return YI||(YI=1,jS=K0e().last),jS}var G0e=W0e();const Y0e=mo(G0e);var Z0e=["valueAccessor"],X0e=["dataKey","clockWise","id","textBreakAll","zIndex"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(null,arguments)}function ZI(e,t){if(e==null)return{};var n,r,i=Q0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J0e=e=>Array.isArray(e.value)?Y0e(e.value):e.value,LU=v.createContext(void 0),zU=LU.Provider,$U=v.createContext(void 0);$U.Provider;function ebe(){return v.useContext(LU)}function tbe(){return v.useContext($U)}function Bv(e){var{valueAccessor:t=J0e}=e,n=ZI(e,Z0e),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,h=ZI(n,X0e),m=ebe(),p=tbe(),g=m||p;return!g||!g.length?null:v.createElement(vo,{zIndex:u??Ui.label},v.createElement(na,{className:"recharts-label-list"},g.map((b,_)=>{var N,S=Ur(r)?t(b,_):Xr(b.payload,r),T=Ur(o)?{}:{id:"".concat(o,"-").concat(_)};return v.createElement(_c,nx({key:"label-".concat(_)},va(b),h,T,{fill:(N=n.fill)!==null&&N!==void 0?N:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}Bv.displayName="LabelList";function FU(e){var{label:t}=e;return t?t===!0?v.createElement(Bv,{key:"labelList-implicit"}):v.isValidElement(t)||tP(t)?v.createElement(Bv,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Bv,nx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oj.apply(null,arguments)}var BU=e=>{var{cx:t,cy:n,r,className:i}=e,o=zn("recharts-dot",i);return jt(t)&&jt(n)&&jt(r)?v.createElement("circle",Oj({},is(e),zT(e),{className:o,cx:t,cy:n,r})):null},nbe={radiusAxis:{},angleAxis:{}},UU=Ba({name:"polarAxis",initialState:nbe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:j2e,removeRadiusAxis:N2e,addAngleAxis:T2e,removeAngleAxis:P2e}=UU.actions,rbe=UU.reducer;function ibe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var NS={exports:{}},Wn={};var XI;function abe(){if(XI)return Wn;XI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function N(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case e:switch(S=S.type,S){case n:case i:case r:case h:case m:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case o:return S;default:return T}}case t:return T}}}return Wn.ContextConsumer=o,Wn.ContextProvider=l,Wn.Element=e,Wn.ForwardRef=u,Wn.Fragment=n,Wn.Lazy=g,Wn.Memo=p,Wn.Portal=t,Wn.Profiler=i,Wn.StrictMode=r,Wn.Suspense=h,Wn.SuspenseList=m,Wn.isContextConsumer=function(S){return N(S)===o},Wn.isContextProvider=function(S){return N(S)===l},Wn.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},Wn.isForwardRef=function(S){return N(S)===u},Wn.isFragment=function(S){return N(S)===n},Wn.isLazy=function(S){return N(S)===g},Wn.isMemo=function(S){return N(S)===p},Wn.isPortal=function(S){return N(S)===t},Wn.isProfiler=function(S){return N(S)===i},Wn.isStrictMode=function(S){return N(S)===r},Wn.isSuspense=function(S){return N(S)===h},Wn.isSuspenseList=function(S){return N(S)===m},Wn.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===h||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===o||S.$$typeof===u||S.$$typeof===_||S.getModuleId!==void 0)},Wn.typeOf=N,Wn}var QI;function sbe(){return QI||(QI=1,NS.exports=abe()),NS.exports}var obe=sbe(),JI=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",e5=null,TS=null,VU=e=>{if(e===e5&&Array.isArray(TS))return TS;var t=[];return v.Children.forEach(e,n=>{Ur(n)||(obe.isFragment(n)?t=t.concat(VU(n.props.children)):t.push(n))}),TS=t,e5=e,t};function lbe(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>JI(i)):r=[JI(t)],VU(e).forEach(i=>{var o=Ef(i,"type.displayName")||Ef(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var HU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,PS={},t5;function cbe(){return t5||(t5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(PS)),PS}var CS,n5;function ube(){return n5||(n5=1,CS=cbe().isPlainObject),CS}var dbe=ube();const fbe=mo(dbe);var r5,i5,a5,s5,o5;function l5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(n),!0).forEach(function(r){hbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hbe(e,t,n){return(t=mbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mbe(e){var t=pbe(e,"string");return typeof t=="symbol"?t:t+""}function pbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rx.apply(null,arguments)}function lm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u5=(e,t,n,r,i)=>{var o=n-r,l;return l=Br(r5||(r5=lm(["M ",",",""])),e,t),l+=Br(i5||(i5=lm(["L ",",",""])),e+n,t),l+=Br(a5||(a5=lm(["L ",",",""])),e+n-o/2,t+i),l+=Br(s5||(s5=lm(["L ",",",""])),e+n-o/2-r,t+i),l+=Br(o5||(o5=lm(["L ",","," Z"])),e,t),l},gbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vbe=e=>{var t=ia(e,gbe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:h,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=t,b=v.useRef(null),[_,N]=v.useState(-1),S=v.useRef(i),T=v.useRef(o),C=v.useRef(l),M=v.useRef(n),E=v.useRef(r),k=m0(e,"trapezoid-");if(v.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ce=b.current.getTotalLength();ce&&N(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var R=zn("recharts-trapezoid",u);if(!g)return v.createElement("g",null,v.createElement("path",rx({},va(t),{className:R,d:u5(n,r,i,o,l)})));var I=S.current,D=T.current,F=C.current,Y=M.current,ne=E.current,W="0px ".concat(_===-1?1:_,"px"),Z="".concat(_,"px 0px"),re=s8(["strokeDasharray"],m,h);return v.createElement(h0,{animationId:k,key:k,canBegin:_>0,duration:m,easing:h,isActive:g,begin:p},ce=>{var fe=hi(I,i,ce),K=hi(D,o,ce),Q=hi(F,l,ce),H=hi(Y,n,ce),X=hi(ne,r,ce);b.current&&(S.current=fe,T.current=K,C.current=Q,M.current=H,E.current=X);var $=ce>0?{transition:re,strokeDasharray:Z}:{strokeDasharray:W};return v.createElement("path",rx({},va(t),{className:R,d:u5(H,X,fe,K,Q),ref:b,style:c5(c5({},$),t.style)}))})},ybe=["option","shapeType","activeClassName"];function xbe(e,t){if(e==null)return{};var n,r,i=bbe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(n),!0).forEach(function(r){wbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wbe(e,t,n){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=_be(e,"string");return typeof t=="symbol"?t:t+""}function _be(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jbe(e,t){return ix(ix({},t),e)}function Nbe(e,t){return e==="symbols"}function f5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(u8,n);case"trapezoid":return v.createElement(vbe,n);case"sector":return v.createElement(h8,n);case"symbols":if(Nbe(t))return v.createElement(LT,n);break;case"curve":return v.createElement(gf,n);default:return null}}function Tbe(e){return v.isValidElement(e)?e.props:e}function h5(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=xbe(e,ybe),o;if(v.isValidElement(t))o=v.cloneElement(t,ix(ix({},i),Tbe(t)));else if(typeof t=="function")o=t(i,i.index);else if(fbe(t)&&typeof t!="boolean"){var l=jbe(t,i);o=v.createElement(f5,{shapeType:n,elementProps:l})}else{var u=i;o=v.createElement(f5,{shapeType:n,elementProps:u})}return i.isActive?v.createElement(na,{className:r},o):o}var Pbe=(e,t,n)=>{var r=Qr();return(i,o)=>l=>{e?.(i,o,l),r(tU({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Cbe=e=>{var t=Qr();return(n,r)=>i=>{e?.(n,r,i),t(Uve())}},Abe=(e,t,n)=>{var r=Qr();return(i,o)=>l=>{e?.(i,o,l),r(Vve({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function qU(e){var{tooltipEntrySettings:t}=e,n=Qr(),r=aa(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(zve(t)):i.current!==t&&n($ve({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(Fve(i.current)),i.current=null)},[n]),null}function KU(e){var{legendPayload:t}=e,n=Qr(),r=aa(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(gfe(t)):i.current!==t&&n(vfe({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(yfe(i.current)),i.current=null)},[n]),null}var AS,Ebe=()=>{var[e]=v.useState(()=>$m("uid-"));return e},Mbe=(AS=np.useId)!==null&&AS!==void 0?AS:Ebe;function kbe(e,t){var n=Mbe();return t||(e?"".concat(e,"-").concat(n):n)}var Obe=v.createContext(void 0),WU=e=>{var{id:t,type:n,children:r}=e,i=kbe("recharts-".concat(n),t);return v.createElement(Obe.Provider,{value:i},r(i))},Rbe={cartesianItems:[],polarItems:[]},GU=Ba({name:"graphicalItems",initialState:Rbe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:vr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=lo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:vr()},removeCartesianGraphicalItem:{reducer(e,t){var n=lo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:vr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:vr()},removePolarGraphicalItem:{reducer(e,t){var n=lo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:vr()}}}),{addCartesianGraphicalItem:Dbe,replaceCartesianGraphicalItem:Ibe,removeCartesianGraphicalItem:Lbe,addPolarGraphicalItem:C2e,removePolarGraphicalItem:A2e}=GU.actions,zbe=GU.reducer,$be=e=>{var t=Qr(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Dbe(e)):n.current!==e&&t(Ibe({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(Lbe(n.current)),n.current=null)},[t]),null},YU=v.memo($be),Fbe=["points"];function m5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ES(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(n),!0).forEach(function(r){Bbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bbe(e,t,n){return(t=Ube(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ube(e){var t=Vbe(e,"string");return typeof t=="symbol"?t:t+""}function Vbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ax.apply(null,arguments)}function Hbe(e,t){if(e==null)return{};var n,r,i=qbe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kbe(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=zn(r,typeof t!="boolean"?t.className:""),o=n??{},{points:l}=o,u=Hbe(o,Fbe);return v.createElement(BU,ax({},u,{className:i}))}function Wbe(e,t){return e==null?!1:t?!0:e.length===1}function Gbe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:h,zIndex:m=Ui.scatter}=e;if(!Wbe(t,n))return null;var p=HU(n),g=cle(n),b=t.map((N,S)=>{var T,C,M=ES(ES(ES({r:3},l),g),{},{index:S,cx:(T=N.x)!==null&&T!==void 0?T:void 0,cy:(C=N.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return v.createElement(Kbe,{key:"dot-".concat(S),option:n,dotProps:M,className:i})}),_={};return u&&h!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(h,")")),v.createElement(vo,{zIndex:m},v.createElement(na,ax({className:r},_),b))}function p5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(n),!0).forEach(function(r){Ybe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ybe(e,t,n){return(t=Zbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zbe(e){var t=Xbe(e,"string");return typeof t=="symbol"?t:t+""}function Xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZU=0,Qbe={xAxis:{},yAxis:{},zAxis:{}},XU=Ba({name:"cartesianAxis",initialState:Qbe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:vr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:vr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:vr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:vr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:vr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:vr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:vr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:vr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:vr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((o=l[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...l,r].slice(-3);e.yAxis[n]=g5(g5({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:Jbe,replaceXAxis:ewe,removeXAxis:twe,addYAxis:nwe,replaceYAxis:rwe,removeYAxis:iwe,addZAxis:E2e,replaceZAxis:M2e,removeZAxis:k2e,updateYAxisWidth:awe}=XU.actions,swe=XU.reducer,owe=Ce([Hi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),lwe=Ce([owe,Rl,Dl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),nP=()=>Ot(lwe),cwe=()=>Ot(Oye);function v5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(n),!0).forEach(function(r){uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uwe(e,t,n){return(t=dwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dwe(e){var t=fwe(e,"string");return typeof t=="symbol"?t:t+""}function fwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hwe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=MS(MS(MS({},u),yp(i)),zT(i)),m;return v.isValidElement(i)?m=v.cloneElement(i,h):typeof i=="function"?m=i(h):m=v.createElement(BU,h),v.createElement(na,{className:"recharts-active-dot",clipPath:l},m)};function y5(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=Ui.activeDot}=e,u=Ot(If),h=cwe();if(t==null||h==null)return null;var m=t.find(p=>h.includes(p.payload));return Ur(m)?null:v.createElement(vo,{zIndex:l},v.createElement(hwe,{point:m,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var mwe=e=>{var{chartData:t}=e,n=Qr(),r=aa();return v.useEffect(()=>r?()=>{}:(n(PI(t)),()=>{n(PI(void 0))}),[t,n,r]),null},x5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QU=Ba({name:"brush",initialState:x5,reducers:{setBrushSettings(e,t){return t.payload==null?x5:t.payload}}}),{setBrushSettings:O2e}=QU.actions,pwe=QU.reducer;function gwe(e){return(e%180+180)%180}var vwe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=gwe(i),l=o*Math.PI/180,u=Math.atan(r/n),h=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},ywe={dots:[],areas:[],lines:[]},JU=Ba({name:"referenceElements",initialState:ywe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=lo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=lo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=lo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:R2e,removeDot:D2e,addArea:I2e,removeArea:L2e,addLine:z2e,removeLine:$2e}=JU.actions,xwe=JU.reducer,bwe=v.createContext(void 0),wwe=e=>{var{children:t}=e,[n]=v.useState("".concat($m("recharts"),"-clip")),r=nP();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return v.createElement(bwe.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function e7(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Swe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return vwe(r,n)}function _we(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function Jm(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function jwe(e,t){return e7(e,t+1)}function Nwe(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,h=0,m=1,p=l,g=function(){var N=r?.[h];if(N===void 0)return{v:e7(r,m)};var S=h,T,C=()=>(T===void 0&&(T=n(N,S)),T),M=N.coordinate,E=h===0||Jm(e,M,C,p,u);E||(h=0,p=l,m+=1),E&&(p=M+e*(C()/2+i),h+=m)},b;m<=o.length;)if(b=g(),b)return b.v;return[]}function Twe(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:h}=t,m=1;m<=l;m++){for(var p=(l-1)%m,g=u,b=!0,_=function(){var k=r[S];if(k==null)return 0;var R=S,I,D=()=>(I===void 0&&(I=n(k,R)),I),F=k.coordinate,Y=S===p||Jm(e,F,D,g,h);if(!Y)return b=!1,1;Y&&(g=F+e*(D()/2+i))},N,S=p;S<l&&(N=_(),!(N!==0&&N===1));S+=m);if(b){for(var T=[],C=p;C<l;C+=m){var M=r[C];M!=null&&T.push(M)}return T}}return[]}function b5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(n),!0).forEach(function(r){Pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pwe(e,t,n){return(t=Cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cwe(e){var t=Awe(e,"string");return typeof t=="symbol"?t:t+""}function Awe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ewe(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:h}=t,m=function(b){var _=o[b];if(_==null)return 1;var N=_,S,T=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var C=e*(N.coordinate+e*T()/2-h);o[b]=N=Qi(Qi({},N),{},{tickCoord:C>0?N.coordinate-C*e:N.coordinate})}else o[b]=N=Qi(Qi({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var M=Jm(e,N.tickCoord,T,u,h);M&&(h=N.tickCoord-e*(T()/2+i),o[b]=Qi(Qi({},N),{},{isShow:!0}))}},p=l-1;p>=0;p--)m(p);return o}function Mwe(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:h,end:m}=t;if(o){var p=r[u-1];if(p!=null){var g=n(p,u-1),b=e*(p.coordinate+e*g/2-m);if(l[u-1]=p=Qi(Qi({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate}),p.tickCoord!=null){var _=Jm(e,p.tickCoord,()=>g,h,m);_&&(m=p.tickCoord-e*(g/2+i),l[u-1]=Qi(Qi({},p),{},{isShow:!0}))}}}for(var N=o?u-1:u,S=function(M){var E=l[M];if(E==null)return 1;var k=E,R,I=()=>(R===void 0&&(R=n(E,M)),R);if(M===0){var D=e*(k.coordinate-e*I()/2-h);l[M]=k=Qi(Qi({},k),{},{tickCoord:D<0?k.coordinate-D*e:k.coordinate})}else l[M]=k=Qi(Qi({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var F=Jm(e,k.tickCoord,I,h,m);F&&(h=k.tickCoord+e*(I()/2+i),l[M]=Qi(Qi({},k),{},{isShow:!0}))}},T=0;T<N;T++)S(T);return l}function rP(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:h,tickFormatter:m,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(jt(h)||Tp.isSsr){var b;return(b=jwe(i,jt(h)?h:0))!==null&&b!==void 0?b:[]}var _=[],N=u==="top"||u==="bottom"?"width":"height",S=p&&N==="width"?Tm(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(R,I)=>{var D=typeof m=="function"?m(R.value,I):R.value;return N==="width"?Swe(Tm(D,{fontSize:t,letterSpacing:n}),S,g):Tm(D,{fontSize:t,letterSpacing:n})[N]},C=i[0],M=i[1],E=i.length>=2&&C!=null&&M!=null?Ps(M.coordinate-C.coordinate):1,k=_we(o,E,N);return h==="equidistantPreserveStart"?Nwe(E,k,T,i,l):h==="equidistantPreserveEnd"?Twe(E,k,T,i,l):(h==="preserveStart"||h==="preserveStartEnd"?_=Mwe(E,k,T,i,l,h==="preserveStartEnd"):_=Ewe(E,k,T,i,l),_.filter(R=>R.isShow))}var kwe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,h=i+o,m=l+h+u+(n?r:0);return Math.round(m)}return 0},Owe=["axisLine","width","height","className","hide","ticks","axisType"];function Rwe(e,t){if(e==null)return{};var n,r,i=Dwe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(null,arguments)}function w5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(n),!0).forEach(function(r){Iwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iwe(e,t,n){return(t=Lwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lwe(e){var t=zwe(e,"string");return typeof t=="symbol"?t:t+""}function zwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ui.axis};function $we(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:h}=e;if(!u)return null;var m=$r($r($r({},h),is(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);m=$r($r({},m),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);m=$r($r({},m),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return v.createElement("line",id({},m,{className:zn("recharts-cartesian-axis-line",Ef(u,"className"))}))}function Fwe(e,t,n,r,i,o,l,u,h){var m,p,g,b,_,N,S=u?-1:1,T=e.tickSize||l,C=jt(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=p=e.coordinate,b=n+ +!u*i,g=b-S*T,N=g-S*h,_=C;break;case"left":g=b=e.coordinate,p=t+ +!u*r,m=p-S*T,_=m-S*h,N=C;break;case"right":g=b=e.coordinate,p=t+ +u*r,m=p+S*T,_=m+S*h,N=C;break;default:m=p=e.coordinate,b=n+ +u*i,g=b+S*T,N=g+S*h,_=C;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:_,y:N}}}function Bwe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Uwe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Vwe(e){var{option:t,tickProps:n,value:r}=e,i,o=zn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,$r($r({},n),{},{className:o}));else if(typeof t=="function")i=t($r($r({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=zn(l,ibe(t))),i=v.createElement(eP,id({},n,{className:l}),r)}return i}var Hwe=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:h,tickTextProps:m,orientation:p,mirror:g,x:b,y:_,width:N,height:S,tickSize:T,tickMargin:C,fontSize:M,letterSpacing:E,getTicksConfig:k,events:R,axisType:I}=e,D=rP($r($r({},k),{},{ticks:n}),M,E),F=Bwe(p,g),Y=Uwe(p,g),ne=is(k),W=yp(r),Z={};typeof i=="object"&&(Z=i);var re=$r($r({},ne),{},{fill:"none"},Z),ce=D.map(Q=>$r({entry:Q},Fwe(Q,b,_,N,S,p,T,g,C))),fe=ce.map(Q=>{var{entry:H,line:X}=Q;return v.createElement(na,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&v.createElement("line",id({},re,X,{className:zn("recharts-cartesian-axis-tick-line",Ef(i,"className"))})))}),K=ce.map((Q,H)=>{var X,$,{entry:G,tick:Ne}=Q,de=$r($r($r($r({verticalAnchor:Y},ne),{},{textAnchor:F,stroke:"none",fill:o},Ne),{},{index:H,payload:G,visibleTicksCount:D.length,tickFormatter:l,padding:h},m),{},{angle:(X=($=m?.angle)!==null&&$!==void 0?$:ne.angle)!==null&&X!==void 0?X:0}),q=$r($r({},de),W);return v.createElement(na,id({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},XF(R,G,H)),r&&v.createElement(Vwe,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(G.value,H):G.value).concat(u||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},K.length>0&&v.createElement(vo,{zIndex:Ui.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},K)),fe.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},fe))}),qwe=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:h}=e,m=Rwe(e,Owe),[p,g]=v.useState(""),[b,_]=v.useState(""),N=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return kwe({ticks:N.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=v.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=C;var M=C[0];if(M){var E=window.getComputedStyle(M),k=E.fontSize,R=E.letterSpacing;(k!==p||R!==b)&&(g(k),_(R))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(vo,{zIndex:e.zIndex},v.createElement(na,{className:zn("recharts-cartesian-axis",o)},v.createElement($we,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:is(e)}),v.createElement(Hwe,{ref:S,axisType:h,events:m,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(O0e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(V0e,{label:e.label,labelRef:e.labelRef}),e.children)))}),iP=v.forwardRef((e,t)=>{var n=ia(e,Sl);return v.createElement(qwe,id({},n,{ref:t}))});iP.displayName="CartesianAxis";var Kwe=["x1","y1","x2","y2","key"],Wwe=["offset"],Gwe=["xAxisId","yAxisId"],Ywe=["xAxisId","yAxisId"];function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(r){Zwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zwe(e,t,n){return(t=Xwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xwe(e){var t=Qwe(e,"string");return typeof t=="symbol"?t:t+""}function Qwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zu.apply(null,arguments)}function sx(e,t){if(e==null)return{};var n,r,i=Jwe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e1e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return v.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function t7(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:h,key:m}=n,p=sx(n,Kwe),g=(i=is(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=sx(g,Wwe);r=v.createElement("line",zu({},_,{x1:o,y1:l,x2:u,y2:h,fill:"none",key:m}))}return r}function t1e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=sx(e,Gwe),h=i.map((m,p)=>{var g=Ji(Ji({},u),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(p),index:p});return v.createElement(t7,{key:"line-".concat(p),option:r,lineItemProps:g})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function n1e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=sx(e,Ywe),h=i.map((m,p)=>{var g=Ji(Ji({},u),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(p),index:p});return v.createElement(t7,{option:r,lineItemProps:g,key:"line-".concat(p)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function r1e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:h=!0}=e;if(!h||!t||!t.length||u==null)return null;var m=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var _=m[b+1],N=_==null,S=N?i+l-g:_-g;if(S<=0)return null;var T=b%t.length;return v.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:o,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function i1e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var m=h.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var _=m[b+1],N=_==null,S=N?i+l-g:_-g;if(S<=0)return null;var T=b%n.length;return v.createElement("rect",{key:"react-".concat(b),x:g,y:o,width:S,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var a1e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return FB(rP(Ji(Ji(Ji({},Sl),n),{},{ticks:BB(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},s1e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return FB(rP(Ji(Ji(Ji({},Sl),n),{},{ticks:BB(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},o1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ui.grid};function Rj(e){var t=YB(),n=ZB(),r=GB(),i=Ji(Ji({},ia(e,o1e)),{},{x:jt(e.x)?e.x:r.left,y:jt(e.y)?e.y:r.top,width:jt(e.width)?e.width:r.width,height:jt(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:h,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,N=aa(),S=Ot(Y=>pI(Y,"xAxis",o,N)),T=Ot(Y=>pI(Y,"yAxis",l,N));if(!Wo(m)||!Wo(p)||!jt(u)||!jt(h))return null;var C=i.verticalCoordinatesGenerator||a1e,M=i.horizontalCoordinatesGenerator||s1e,{horizontalPoints:E,verticalPoints:k}=i;if((!E||!E.length)&&typeof M=="function"){var R=b&&b.length,I=M({yAxis:T?Ji(Ji({},T),{},{ticks:R?b:T.ticks}):void 0,width:t??m,height:n??p,offset:r},R?!0:g);ky(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(E=I)}if((!k||!k.length)&&typeof C=="function"){var D=_&&_.length,F=C({xAxis:S?Ji(Ji({},S),{},{ticks:D?_:S.ticks}):void 0,width:t??m,height:n??p,offset:r},D?!0:g);ky(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(k=F)}return v.createElement(vo,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(e1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(r1e,zu({},i,{horizontalPoints:E})),v.createElement(i1e,zu({},i,{verticalPoints:k})),v.createElement(t1e,zu({},i,{offset:r,horizontalPoints:E,xAxis:S,yAxis:T})),v.createElement(n1e,zu({},i,{offset:r,verticalPoints:k,xAxis:S,yAxis:T}))))}Rj.displayName="CartesianGrid";var l1e={},n7=Ba({name:"errorBars",initialState:l1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:F2e,replaceErrorBar:B2e,removeErrorBar:U2e}=n7.actions,c1e=n7.reducer,u1e=["children"];function d1e(e,t){if(e==null)return{};var n,r,i=f1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var h1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},m1e=v.createContext(h1e);function p1e(e){var{children:t}=e,n=d1e(e,u1e);return v.createElement(m1e.Provider,{value:n},t)}function aP(e,t){var n,r,i=Ot(m=>zl(m,e)),o=Ot(m=>$l(m,t)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ji.allowDataOverflow,u=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Ni.allowDataOverflow,h=l||u;return{needClip:h,needClipX:l,needClipY:u}}function r7(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=nP(),{needClipX:o,needClipY:l,needClip:u}=aP(t,n);if(!u||!i)return null;var{x:h,y:m,width:p,height:g}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:o?h:h-p/2,y:l?m:m-g/2,width:o?p:p*2,height:l?g:g*2}))}function g1e(e){var t=yp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var kS={exports:{}},OS={};var _5;function v1e(){if(_5)return OS;_5=1;var e=Lf();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return OS.useSyncExternalStoreWithSelector=function(h,m,p,g,b){var _=i(null);if(_.current===null){var N={hasValue:!1,value:null};_.current=N}else N=_.current;_=l(function(){function T(R){if(!C){if(C=!0,M=R,R=g(R),b!==void 0&&N.hasValue){var I=N.value;if(b(I,R))return E=I}return E=R}if(I=E,n(M,R))return I;var D=g(R);return b!==void 0&&b(I,D)?(M=R,I):(M=R,E=D)}var C=!1,M,E,k=p===void 0?null:p;return[function(){return T(m())},k===null?void 0:function(){return T(k())}]},[m,p,g,b]);var S=r(h,_[0],_[1]);return o(function(){N.hasValue=!0,N.value=S},[S]),u(S),S},OS}var j5;function y1e(){return j5||(j5=1,kS.exports=v1e()),kS.exports}y1e();function x1e(e){e()}function b1e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){x1e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var N5={notify(){},get:()=>[]};function w1e(e,t){let n,r=N5,i=0,o=!1;function l(S){p();const T=r.subscribe(S);let C=!1;return()=>{C||(C=!0,T(),g())}}function u(){r.notify()}function h(){N.onStateChange&&N.onStateChange()}function m(){return o}function p(){i++,n||(n=e.subscribe(h),r=b1e())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=N5)}function b(){o||(o=!0,p())}function _(){o&&(o=!1,g())}const N={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:m,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return N}var S1e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_1e=S1e(),j1e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",N1e=j1e(),T1e=()=>_1e||N1e?v.useLayoutEffect:v.useEffect,P1e=T1e();function T5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function C1e(e,t){if(T5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T5(e[n[i]],t[n[i]]))return!1;return!0}var A1e=Symbol.for("react-redux-context"),E1e=typeof globalThis<"u"?globalThis:{};function M1e(){if(!v.createContext)return{};const e=E1e[A1e]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var k1e=M1e();function O1e(e){const{children:t,context:n,serverState:r,store:i}=e,o=v.useMemo(()=>{const h=w1e(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),l=v.useMemo(()=>i.getState(),[i]);P1e(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const u=n||k1e;return v.createElement(u.Provider,{value:o},t)}var R1e=O1e,D1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function I1e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function R0(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(D1e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!C1e(e[r],t[r]))return!1}else if(!I1e(e[r],t[r]))return!1;return!0}function sP(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:ZU}function oP(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:ZU}var i7=(e,t,n)=>O0(e,"xAxis",sP(e,t),n),a7=(e,t,n)=>k0(e,"xAxis",sP(e,t),n),s7=(e,t,n)=>O0(e,"yAxis",oP(e,t),n),o7=(e,t,n)=>k0(e,"yAxis",oP(e,t),n),L1e=Ce([xr,i7,s7,a7,o7],(e,t,n,r,i)=>Zo(e,"xAxis")?My(t,r,!1):My(n,i,!1)),z1e=(e,t)=>t,l7=Ce([R2,z1e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),c7=e=>{var t=xr(e),n=Zo(t,"xAxis");return n?"yAxis":"xAxis"},$1e=(e,t)=>{var n=c7(e);return n==="yAxis"?oP(e,t):sP(e,t)},F1e=(e,t,n)=>P9(e,c7(e),$1e(e,t),n),B1e=Ce([l7,F1e],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=M2(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,l=o?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),U1e=Ce([xr,i7,s7,a7,o7,B1e,gge,L1e,l7,Nge],(e,t,n,r,i,o,l,u,h,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=h,N;if(_&&_.length>0?N=_:N=p?.slice(g,b+1),N!=null)return oSe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:h,stackedData:o,displayedData:N,chartBaseValue:m,bandSize:u})}}),V1e=["id"],H1e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qu.apply(null,arguments)}function u7(e,t){if(e==null)return{};var n,r,i=q1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(r){K1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K1e(e,t,n){return(t=W1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W1e(e){var t=G1e(e,"string");return typeof t=="symbol"?t:t+""}function G1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ox(e,t){return e&&e!=="none"?e:t}var Y1e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:l}=e;return[{inactive:l,dataKey:t,type:o,color:ox(r,i),value:a0(n,t),payload:e}]},Z1e=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:h,tooltipType:m,id:p}=e,g={dataDefinedOnItem:n,getPosition:eh,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:a0(l,t),hide:u,type:m,color:ox(r,o),unit:h,graphicalItemId:p}};return v.createElement(qU,{tooltipEntrySettings:g})});function X1e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:l}=r,u=is(r);return v.createElement(Gbe,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:t})}function Q1e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var l,u,h={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return lf(lf({},h),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return v.createElement(zU,{value:t?i:void 0},n)}function C5(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:l,type:u,stroke:h,connectNulls:m,isRange:p}=o,{id:g}=o,b=u7(o,V1e),_=is(b),N=va(b);return v.createElement(v.Fragment,null,t?.length>1&&v.createElement(na,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},v.createElement(gf,qu({},N,{id:g,points:t,connectNulls:m,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),h!=="none"&&v.createElement(gf,qu({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:t})),h!=="none"&&p&&v.createElement(gf,qu({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:n}))),v.createElement(X1e,{points:t,props:b,clipPathId:i}))}function J1e(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=e,u=(t=o[0])===null||t===void 0?void 0:t.y,h=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!pn(u)||!pn(h))return null;var m=r*Math.abs(u-h),p=Math.max(...o.map(g=>g.x||0));return jt(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),jt(p)?v.createElement("rect",{x:0,y:u<h?u:u-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}function eSe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=e,u=(t=o[0])===null||t===void 0?void 0:t.x,h=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!pn(u)||!pn(h))return null;var m=r*Math.abs(u-h),p=Math.max(...o.map(g=>g.y||0));return jt(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),jt(p)?v.createElement("rect",{x:u<h?u:u-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function tSe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?v.createElement(J1e,{alpha:t,points:r,baseLine:i,strokeWidth:o}):v.createElement(eSe,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function nSe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:l,baseLine:u,isAnimationActive:h,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,N=v.useMemo(()=>({points:l,baseLine:u}),[l,u]),S=m0(N,"recharts-area-"),T=ZT(),[C,M]=v.useState(!1),E=!C,k=v.useCallback(()=>{typeof _=="function"&&_(),M(!1)},[_]),R=v.useCallback(()=>{typeof b=="function"&&b(),M(!0)},[b]);if(T==null)return null;var I=i.current,D=o.current;return v.createElement(Q1e,{showLabels:E,points:l},r.children,v.createElement(h0,{animationId:S,begin:m,duration:p,isActive:h,easing:g,onAnimationEnd:k,onAnimationStart:R,key:S},F=>{if(I){var Y=I.length/l.length,ne=F===1?l:l.map((Z,re)=>{var ce=Math.floor(re*Y);if(I[ce]){var fe=I[ce];return lf(lf({},Z),{},{x:hi(fe.x,Z.x,F),y:hi(fe.y,Z.y,F)})}return Z}),W;return jt(u)?W=hi(D,u,F):Ur(u)||qo(u)?W=hi(D,0,F):W=u.map((Z,re)=>{var ce=Math.floor(re*Y);if(Array.isArray(D)&&D[ce]){var fe=D[ce];return lf(lf({},Z),{},{x:hi(fe.x,Z.x,F),y:hi(fe.y,Z.y,F)})}return Z}),F>0&&(i.current=ne,o.current=W),v.createElement(C5,{points:ne,baseLine:W,needClip:t,clipPathId:n,props:r})}return F>0&&(i.current=l,o.current=u),v.createElement(na,null,h&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(n)},v.createElement(tSe,{alpha:F,points:l,baseLine:u,layout:T,strokeWidth:r.strokeWidth}))),v.createElement(na,{clipPath:"url(#animationClipPath-".concat(n,")")},v.createElement(C5,{points:l,baseLine:u,needClip:t,clipPathId:n,props:r})))}),v.createElement(FU,{label:r.label}))}function rSe(e){var{needClip:t,clipPathId:n,props:r}=e,i=v.useRef(null),o=v.useRef();return v.createElement(nSe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class iSe extends v.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:l,needClip:u,xAxisId:h,yAxisId:m,width:p,height:g,id:b,baseLine:_,zIndex:N}=this.props;if(t)return null;var S=zn("recharts-area",i),T=b,{r:C,strokeWidth:M}=g1e(n),E=HU(n),k=C*2+M,R=u?"url(#clipPath-".concat(E?"":"dots-").concat(T,")"):void 0;return v.createElement(vo,{zIndex:N},v.createElement(na,{className:S},u&&v.createElement("defs",null,v.createElement(r7,{clipPathId:T,xAxisId:h,yAxisId:m}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(T)},v.createElement("rect",{x:l-k/2,y:o-k/2,width:p+k,height:g+k}))),v.createElement(rSe,{needClip:u,clipPathId:T,props:this.props})),v.createElement(y5,{points:r,mainColor:ox(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}),this.props.isRange&&Array.isArray(_)&&v.createElement(y5,{points:_,mainColor:ox(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}))}}var d7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ui.area};function aSe(e){var t,n=ia(e,d7),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:h,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:N,xAxisId:S,yAxisId:T}=n,C=u7(n,H1e),M=th(),E=yU(),{needClip:k}=aP(S,T),R=aa(),{points:I,isRange:D,baseLine:F}=(t=Ot(ce=>U1e(ce,e.id,R)))!==null&&t!==void 0?t:{},Y=nP();if(M!=="horizontal"&&M!=="vertical"||Y==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:ne,width:W,x:Z,y:re}=Y;return!I||!I.length?null:v.createElement(iSe,qu({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:F,connectNulls:u,dot:h,fill:m,fillOpacity:p,height:ne,hide:g,layout:M,isAnimationActive:b==="auto"?!Tp.isSsr:b,isRange:D,legendType:_,needClip:k,points:I,stroke:N,width:W,left:Z,top:re,xAxisId:S,yAxisId:T}))}var sSe=(e,t,n,r,i)=>{var o=n??t;if(jt(o))return o;var l=e==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var h=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return o==="dataMin"?m:o==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function oSe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:l,xAxis:u,yAxis:h,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=e,N=i&&i.length,S=sSe(o,l,n,u,h),T=o==="horizontal",C=!1,M=m.map((k,R)=>{var I,D,F,Y;if(N)Y=i[p+R];else{var ne=Xr(k,r);Array.isArray(ne)?(Y=ne,C=!0):Y=[S,ne]}var W=(I=(D=Y)===null||D===void 0?void 0:D[1])!==null&&I!==void 0?I:null,Z=W==null||N&&!t&&Xr(k,r)==null;if(T){var re;return{x:Ey({axis:u,ticks:g,bandSize:_,entry:k,index:R}),y:Z?null:(re=h.scale.map(W))!==null&&re!==void 0?re:null,value:Y,payload:k}}return{x:Z?null:(F=u.scale.map(W))!==null&&F!==void 0?F:null,y:Ey({axis:h,ticks:b,bandSize:_,entry:k,index:R}),value:Y,payload:k}}),E;return N||C?E=M.map(k=>{var R,I=Array.isArray(k.value)?k.value[0]:null;if(T){var D;return{x:k.x,y:I!=null&&k.y!=null&&(D=h.scale.map(I))!==null&&D!==void 0?D:null,payload:k.payload}}return{x:I!=null&&(R=u.scale.map(I))!==null&&R!==void 0?R:null,y:k.y,payload:k.payload}}):E=T?h.scale.map(S):u.scale.map(S),{points:M,baseLine:E??0,isRange:C}}function lSe(e){var t=ia(e,d7),n=aa();return v.createElement(WU,{id:t.id,type:"area"},r=>v.createElement(v.Fragment,null,v.createElement(KU,{legendPayload:Y1e(t)}),v.createElement(Z1e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(YU,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:bde(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),v.createElement(aSe,qu({},t,{id:r}))))}var f7=v.memo(lSe,R0);f7.displayName="Area";var cSe=["option","isActive"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pm.apply(null,arguments)}function uSe(e,t){if(e==null)return{};var n,r,i=dSe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fSe(e){var{option:t,isActive:n}=e,r=uSe(e,cSe);return typeof t=="string"?v.createElement(h5,Pm({option:v.createElement(LT,Pm({type:t},r)),isActive:n,shapeType:"symbols"},r)):v.createElement(h5,Pm({option:t,isActive:n,shapeType:"symbols"},r))}var hSe=(e,t,n,r,i,o,l)=>O0(e,"xAxis",t,l),mSe=(e,t,n,r,i,o,l)=>k0(e,"xAxis",t,l),pSe=(e,t,n,r,i,o,l)=>O0(e,"yAxis",n,l),gSe=(e,t,n,r,i,o,l)=>k0(e,"yAxis",n,l),vSe=(e,t,n,r)=>Ove(e,"zAxis",r,!1),ySe=(e,t,n,r,i)=>i,xSe=(e,t,n,r,i,o)=>o,bSe=(e,t,n,r,i,o,l)=>S2(e,void 0,void 0,l),wSe=Ce([R2,ySe],(e,t)=>e.filter(n=>n.type==="scatter").find(n=>n.id===t)),SSe=Ce([bSe,hSe,mSe,pSe,gSe,vSe,wSe,xSe],(e,t,n,r,i,o,l,u)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=e;if(l!=null){var g;if(l?.data!=null&&l.data.length>0?g=l.data:g=h?.slice(m,p+1),!(g==null||t==null||r==null||n==null||i==null||n?.length===0||i?.length===0))return ISe({displayedData:g,xAxis:t,yAxis:r,zAxis:o,scatterSettings:l,xAxisTicks:n,yAxisTicks:i,cells:u})}}),_Se=["id"],jSe=["onMouseEnter","onClick","onMouseLeave"],NSe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Dj(e,t){if(e==null)return{};var n,r,i=TSe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(null,arguments)}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(r){PSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PSe(e,t,n){return(t=CSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CSe(e){var t=ASe(e,"string");return typeof t=="symbol"?t:t+""}function ASe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ESe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:a0(n,t),payload:e}]},MSe=v.memo(e=>{var{dataKey:t,points:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,tooltipType:h,id:m}=e,p={dataDefinedOnItem:n?.map(g=>g.tooltipPayload),getPosition:g=>{var b;return n==null||(b=n[Number(g)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:r,strokeWidth:i,fill:o,nameKey:void 0,dataKey:t,name:a0(l,t),hide:u,type:h,color:o,unit:"",graphicalItemId:m}};return v.createElement(qU,{tooltipEntrySettings:p})});function kSe(e){var{points:t,props:n}=e,{line:r,lineType:i,lineJointType:o}=n;if(!r)return null;var l=is(n),u=yp(r),h,m;if(i==="joint")h=t.map(T=>{var C,M;return{x:(C=T.cx)!==null&&C!==void 0?C:null,y:(M=T.cy)!==null&&M!==void 0?M:null}});else if(i==="fitting"){var{xmin:p,xmax:g,a:b,b:_}=nce(t),N=T=>b*T+_;h=[{x:p,y:N(p)},{x:g,y:N(g)}]}var S=za(za(za({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:h});return v.isValidElement(r)?m=v.cloneElement(r,S):typeof r=="function"?m=r(S):m=v.createElement(gf,ad({},S,{type:o})),v.createElement(na,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function OSe(e){var{showLabels:t,points:n,children:r}=e,i=_p(),o=v.useMemo(()=>n?.map(l=>{var u,h,m={x:(u=l.x)!==null&&u!==void 0?u:0,y:(h=l.y)!==null&&h!==void 0?h:0,width:l.width,height:l.height,lowerWidth:l.width,upperWidth:l.width};return za(za({},m),{},{value:void 0,payload:l.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,n]);return v.createElement(zU,{value:t?o:void 0},r)}function RSe(e){var{points:t,allOtherScatterProps:n}=e,{shape:r,activeShape:i,dataKey:o}=n,{id:l}=n,u=Dj(n,_Se),h=Ot(If),{onMouseEnter:m,onClick:p,onMouseLeave:g}=n,b=Dj(n,jSe),_=Pbe(m,o,l),N=Cbe(g),S=Abe(p,o,l);if(!mce(t))return null;var T=is(u);return v.createElement(v.Fragment,null,v.createElement(kSe,{points:t,props:u}),t.map((C,M)=>{var E=i!=null&&i!==!1,k=E&&h===String(M),R=E&&k?i:r,I=za(za(za({},T),C),{},{index:M,[VB]:String(l)});return v.createElement(vo,{key:"symbol-".concat(C?.cx,"-").concat(C?.cy,"-").concat(C?.size,"-").concat(M),zIndex:k?Ui.activeDot:void 0},v.createElement(na,ad({className:"recharts-scatter-symbol"},XF(b,C,M),{onMouseEnter:_(C,M),onMouseLeave:N(C,M),onClick:S(C,M)}),v.createElement(fSe,ad({option:R,isActive:k},I))))}))}function DSe(e){var{previousPointsRef:t,props:n}=e,{points:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u}=n,h=t.current,m=m0(n,"recharts-scatter-"),[p,g]=v.useState(!1),b=v.useCallback(()=>{g(!1)},[]),_=v.useCallback(()=>{g(!0)},[]),N=!p;return v.createElement(OSe,{showLabels:N,points:r},n.children,v.createElement(h0,{animationId:m,begin:o,duration:l,isActive:i,easing:u,onAnimationEnd:b,onAnimationStart:_,key:m},S=>{var T=S===1?r:r?.map((C,M)=>{var E=h&&h[M];return E?za(za({},C),{},{cx:C.cx==null?void 0:hi(E.cx,C.cx,S),cy:C.cy==null?void 0:hi(E.cy,C.cy,S),size:hi(E.size,C.size,S)}):za(za({},C),{},{size:hi(0,C.size,S)})});return S>0&&(t.current=T),v.createElement(na,null,v.createElement(RSe,{points:T,allOtherScatterProps:n,showLabels:N}))}),v.createElement(FU,{label:n.label}))}function ISe(e){var{displayedData:t,xAxis:n,yAxis:r,zAxis:i,scatterSettings:o,xAxisTicks:l,yAxisTicks:u,cells:h}=e,m=Ur(n.dataKey)?o.dataKey:n.dataKey,p=Ur(r.dataKey)?o.dataKey:r.dataKey,g=i&&i.dataKey,b=i?i.range:g9.range,_=b&&b[0],N=n.scale.bandwidth?n.scale.bandwidth():0,S=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((T,C)=>{var M=Xr(T,m),E=Xr(T,p),k=!Ur(g)&&Xr(T,g)||"-",R=[{name:Ur(n.dataKey)?o.name:n.name||String(n.dataKey),unit:n.unit||"",value:M,payload:T,dataKey:m,type:o.tooltipType},{name:Ur(r.dataKey)?o.name:r.name||String(r.dataKey),unit:r.unit||"",value:E,payload:T,dataKey:p,type:o.tooltipType}];k!=="-"&&i!=null&&R.push({name:i.name||i.dataKey,unit:i.unit||"",value:k,payload:T,dataKey:g,type:o.tooltipType});var I=Ey({axis:n,ticks:l,bandSize:N,entry:T,index:C,dataKey:m}),D=Ey({axis:r,ticks:u,bandSize:S,entry:T,index:C,dataKey:p}),F=k!=="-"&&i!=null?i.scale.map(k):_,Y=F==null?0:Math.sqrt(Math.max(F,0)/Math.PI);return za(za({},T),{},{cx:I,cy:D,x:I==null?void 0:I-Y,y:D==null?void 0:D-Y,width:2*Y,height:2*Y,size:F,node:{x:M,y:E,z:k},tooltipPayload:R,tooltipPosition:{x:I,y:D},payload:T},h&&h[C]&&h[C].props)})}var LSe=(e,t,n)=>({x:e.cx,y:e.cy,value:Number(n==="x"?e.node.x:e.node.y),errorVal:Xr(e,t)});function zSe(e){var{hide:t,points:n,className:r,needClip:i,xAxisId:o,yAxisId:l,id:u}=e,h=v.useRef(null);if(t)return null;var m=zn("recharts-scatter",r),p=u;return v.createElement(vo,{zIndex:e.zIndex},v.createElement(na,{className:m,clipPath:i?"url(#clipPath-".concat(p,")"):void 0,id:u},i&&v.createElement("defs",null,v.createElement(r7,{clipPathId:p,xAxisId:o,yAxisId:l})),v.createElement(p1e,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:LSe,errorBarOffset:0},v.createElement(na,{key:"recharts-scatter-symbols"},v.createElement(DSe,{props:e,previousPointsRef:h})))))}var h7={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Ui.scatter};function $Se(e){var t=ia(e,h7),{animationBegin:n,animationDuration:r,animationEasing:i,hide:o,isAnimationActive:l,legendType:u,lineJointType:h,lineType:m,shape:p,xAxisId:g,yAxisId:b,zAxisId:_}=t,N=Dj(t,NSe),{needClip:S}=aP(g,b),T=v.useMemo(()=>lbe(e.children,J2),[e.children]),C=aa(),M=Ot(E=>SSe(E,g,b,_,e.id,T,C));return S==null||M==null?null:v.createElement(v.Fragment,null,v.createElement(MSe,{dataKey:e.dataKey,points:M,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),v.createElement(zSe,ad({},N,{xAxisId:g,yAxisId:b,zAxisId:_,lineType:m,lineJointType:h,legendType:u,shape:p,hide:o,isAnimationActive:l,animationBegin:n,animationDuration:r,animationEasing:i,points:M,needClip:S})))}function FSe(e){var t=ia(e,h7),n=aa();return v.createElement(WU,{id:t.id,type:"scatter"},r=>v.createElement(v.Fragment,null,v.createElement(KU,{legendPayload:ESe(t)}),v.createElement(YU,{type:"scatter",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:n}),v.createElement($Se,ad({},t,{id:r}))))}var m7=v.memo(FSe,R0);m7.displayName="Scatter";var BSe=["domain","range"],USe=["domain","range"];function E5(e,t){if(e==null)return{};var n,r,i=VSe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function M5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function p7(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=E5(e,BSe),{domain:o,range:l}=t,u=E5(t,USe);return!M5(n,o)||!M5(r,l)?!1:R0(i,u)}var HSe=["type"],qSe=["dangerouslySetInnerHTML","ticks","scale"],KSe=["id","scale"];function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ij.apply(null,arguments)}function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){WSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WSe(e,t,n){return(t=GSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GSe(e){var t=YSe(e,"string");return typeof t=="symbol"?t:t+""}function YSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lj(e,t){if(e==null)return{};var n,r,i=ZSe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XSe(e){var t=Qr(),n=v.useRef(null),r=ZT(),{type:i}=e,o=Lj(e,HSe),l=_0(r,"xAxis",i),u=v.useMemo(()=>{if(l!=null)return O5(O5({},o),{},{type:l})},[o,l]);return v.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Jbe(u)):n.current!==u&&t(ewe({prev:n.current,next:u})),n.current=u)},[u,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(twe(n.current)),n.current=null)},[t]),null}var QSe=e=>{var{xAxisId:t,className:n}=e,r=Ot(HB),i=aa(),o="xAxis",l=Ot(C=>Y9(C,o,t,i)),u=Ot(C=>bve(C,t)),h=Ot(C=>Tve(C,t)),m=Ot(C=>m9(C,t));if(u==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=e,_=Lj(e,qSe),{id:N,scale:S}=m,T=Lj(m,KSe);return v.createElement(iP,Ij({},_,T,{x:h.x,y:h.y,width:u.width,height:u.height,className:zn("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},JSe={allowDataOverflow:ji.allowDataOverflow,allowDecimals:ji.allowDecimals,allowDuplicatedCategory:ji.allowDuplicatedCategory,angle:ji.angle,axisLine:Sl.axisLine,height:ji.height,hide:!1,includeHidden:ji.includeHidden,interval:ji.interval,label:!1,minTickGap:ji.minTickGap,mirror:ji.mirror,orientation:ji.orientation,padding:ji.padding,reversed:ji.reversed,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,tickLine:Sl.tickLine,tickSize:Sl.tickSize,type:ji.type,xAxisId:0},e_e=e=>{var t=ia(e,JSe);return v.createElement(v.Fragment,null,v.createElement(XSe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(QSe,t))},zj=v.memo(e_e,p7);zj.displayName="XAxis";var t_e=["type"],n_e=["dangerouslySetInnerHTML","ticks","scale"],r_e=["id","scale"];function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$j.apply(null,arguments)}function R5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R5(Object(n),!0).forEach(function(r){i_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i_e(e,t,n){return(t=a_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_e(e){var t=s_e(e,"string");return typeof t=="symbol"?t:t+""}function s_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fj(e,t){if(e==null)return{};var n,r,i=o_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l_e(e){var t=Qr(),n=v.useRef(null),r=ZT(),{type:i}=e,o=Fj(e,t_e),l=_0(r,"yAxis",i),u=v.useMemo(()=>{if(l!=null)return D5(D5({},o),{},{type:l})},[l,o]);return v.useLayoutEffect(()=>{u!=null&&(n.current===null?t(nwe(u)):n.current!==u&&t(rwe({prev:n.current,next:u})),n.current=u)},[u,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(iwe(n.current)),n.current=null)},[t]),null}function c_e(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=v.useRef(null),l=v.useRef(null),u=Ot(HB),h=aa(),m=Qr(),p="yAxis",g=Ot(I=>Ave(I,t)),b=Ot(I=>Cve(I,t)),_=Ot(I=>Y9(I,p,t,h)),N=Ot(I=>p9(I,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!g||tP(i)||v.isValidElement(i)||N==null)){var I=o.current;if(I){var D=I.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&m(awe({id:t,width:D}))}}},[_,g,m,i,t,r,N]),g==null||b==null||N==null)return null;var{dangerouslySetInnerHTML:S,ticks:T,scale:C}=e,M=Fj(e,n_e),{id:E,scale:k}=N,R=Fj(N,r_e);return v.createElement(iP,$j({},M,R,{ref:o,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:zn("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))}var u_e={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:Ni.allowDecimals,allowDuplicatedCategory:Ni.allowDuplicatedCategory,angle:Ni.angle,axisLine:Sl.axisLine,hide:!1,includeHidden:Ni.includeHidden,interval:Ni.interval,label:!1,minTickGap:Ni.minTickGap,mirror:Ni.mirror,orientation:Ni.orientation,padding:Ni.padding,reversed:Ni.reversed,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,tickLine:Sl.tickLine,tickSize:Sl.tickSize,type:Ni.type,width:Ni.width,yAxisId:0},d_e=e=>{var t=ia(e,u_e);return v.createElement(v.Fragment,null,v.createElement(l_e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(c_e,t))},Bj=v.memo(d_e,p7);Bj.displayName="YAxis";var f_e=(e,t)=>t,lP=Ce([f_e,xr,f9,Ei,fU,Fl,qye,Hi],Qye),cP=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},g7=Rs("mouseClick"),v7=wp();v7.startListening({actionCreator:g7,effect:(e,t)=>{var n=e.payload,r=lP(t.getState(),cP(n));r?.activeIndex!=null&&t.dispatch(Hve({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Uj=Rs("mouseMove"),y7=wp(),bv=null;y7.startListening({actionCreator:Uj,effect:(e,t)=>{var n=e.payload;bv!==null&&cancelAnimationFrame(bv);var r=cP(n);bv=requestAnimationFrame(()=>{var i=t.getState(),o=V2(i,i.tooltip.settings.shared);if(o==="axis"){var l=lP(i,r);l?.activeIndex!=null?t.dispatch(rU({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(nU())}bv=null})}});function h_e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var I5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},x7=Ba({name:"rootProps",initialState:I5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:I5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),m_e=x7.reducer,{updateOptions:p_e}=x7.actions,g_e=null,v_e={updatePolarOptions:(e,t)=>t.payload},b7=Ba({name:"polarOptions",initialState:g_e,reducers:v_e}),{updatePolarOptions:V2e}=b7.actions,y_e=b7.reducer,w7=Rs("keyDown"),S7=Rs("focus"),uP=wp();uP.startListening({actionCreator:w7,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=H2(i,uh(n),Op(n),Dp(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var h=Fl(n);if(o==="Enter"){var m=tx(n,"axis","hover",String(i.index));t.dispatch(Aj({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var p=Rve(n),g=p==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,_=u+b*g;if(!(h==null||_>=h.length||_<0)){var N=tx(n,"axis","hover",String(_));t.dispatch(Aj({active:!0,activeIndex:_.toString(),activeCoordinate:N}))}}}}}});uP.startListening({actionCreator:S7,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=tx(n,"axis","hover",String(o));t.dispatch(Aj({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Ss=Rs("externalEvent"),_7=wp(),RS=new Map;_7.startListening({actionCreator:Ss,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=RS.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),h={activeCoordinate:Eye(u),activeDataKey:Cye(u),activeIndex:If(u),activeLabel:pU(u),activeTooltipIndex:If(u),isTooltipActive:Mye(u)};n(h,r)}finally{RS.delete(i)}});RS.set(i,l)}}});var x_e=Ce([lh],e=>e.tooltipItemPayloads),b_e=Ce([x_e,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),j7=Rs("touchMove"),N7=wp();N7.startListening({actionCreator:j7,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=V2(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=lP(r,cP({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&t.dispatch(rU({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,h=n.touches[0];if(document.elementFromPoint==null||h==null)return;var m=document.elementFromPoint(h.clientX,h.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(Pde),g=(u=m.getAttribute(VB))!==null&&u!==void 0?u:void 0,b=ch(r).find(S=>S.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,N=b_e(r,p,g);t.dispatch(tU({activeDataKey:_,activeIndex:p,activeCoordinate:N,activeGraphicalItemId:g}))}}}});var w_e=dB({brush:pwe,cartesianAxis:swe,chartData:Axe,errorBars:c1e,graphicalItems:zbe,layout:dde,legend:xfe,options:jxe,polarAxis:rbe,polarOptions:y_e,referenceElements:xwe,rootProps:m_e,tooltip:qve,zIndex:fxe}),S_e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Iue({reducer:w_e,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([v7.middleware,y7.middleware,uP.middleware,_7.middleware,N7.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(TB({type:"raf"}))},devTools:{serialize:{replacer:h_e},name:"recharts-".concat(n)}})};function __e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=aa(),o=v.useRef(null);if(i)return n;o.current==null&&(o.current=S_e(t,r));var l=BT;return v.createElement(R1e,{context:l,store:o.current},n)}function j_e(e){var{layout:t,margin:n}=e,r=Qr(),i=aa();return v.useEffect(()=>{i||(r(lde(t)),r(ode(n)))},[r,i,t,n]),null}var N_e=v.memo(j_e,R0);function T_e(e){var t=Qr();return v.useEffect(()=>{t(p_e(e))},[t,e]),null}function L5(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Qr();return v.useLayoutEffect(()=>(r.current&&i(uxe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(dxe({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function z5(e){var{children:t,isPanorama:n}=e,r=Ot(exe);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return v.createElement(v.Fragment,null,i.map(l=>v.createElement(L5,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>v.createElement(L5,{key:l,zIndex:l,isPanorama:n})))}var P_e=["children"];function C_e(e,t){if(e==null)return{};var n,r,i=A_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lx.apply(null,arguments)}var E_e={width:"100%",height:"100%",display:"block"},M_e=v.forwardRef((e,t)=>{var n=YB(),r=ZB(),i=a8();if(!Wo(n)||!Wo(r))return null;var{children:o,otherAttributes:l,title:u,desc:h}=e,m,p;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),v.createElement(AF,lx({},l,{title:u,desc:h,role:p,tabIndex:m,width:n,height:r,style:E_e,ref:t}),o)}),k_e=e=>{var{children:t}=e,n=Ot(c0);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return v.createElement(AF,{width:r,height:i,x:l,y:o},t)},$5=v.forwardRef((e,t)=>{var{children:n}=e,r=C_e(e,P_e),i=aa();return i?v.createElement(k_e,null,v.createElement(z5,{isPanorama:!0},n)):v.createElement(M_e,lx({ref:t},r),v.createElement(z5,{isPanorama:!1},n))});function O_e(){var e=Qr(),[t,n]=v.useState(null),r=Ot(Tde);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;pn(o)&&o!==r&&e(ude(o))}},[t,e,r]),n}function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(r){D_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D_e(e,t,n){return(t=I_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=L_e(e,"string");return typeof t=="symbol"?t:t+""}function L_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dc.apply(null,arguments)}var z_e=()=>(zxe(),null);function cx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $_e=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[o,l]=v.useState({containerWidth:cx((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:cx((r=e.style)===null||r===void 0?void 0:r.height)}),u=v.useCallback((m,p)=>{l(g=>{var b=Math.round(m),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),h=v.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();u(p,g);var b=N=>{var S=N[0];if(S!=null){var{width:T,height:C}=S.contentRect;u(T,C)}},_=new ResizeObserver(b);_.observe(m),i.current=_}},[t,u]);return v.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),v.createElement(v.Fragment,null,v.createElement(jp,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",Dc({ref:h},e)))}),F_e=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=v.useState({containerWidth:cx(n),containerHeight:cx(r)}),l=v.useCallback((h,m)=>{o(p=>{var g=Math.round(h),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:m,height:p}=h.getBoundingClientRect();l(m,p)}},[t,l]);return v.createElement(v.Fragment,null,v.createElement(jp,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Dc({ref:u},e)))}),B_e=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(jp,{width:n,height:r}),v.createElement("div",Dc({ref:t},e)))}),U_e=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?v.createElement(F_e,Dc({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?v.createElement(B_e,Dc({},e,{width:n,height:r,ref:t})):v.createElement(v.Fragment,null,v.createElement(jp,{width:n,height:r}),v.createElement("div",Dc({ref:t},e)))});function V_e(e){return e?$_e:U_e}var H_e=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:h,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:N,onTouchStart:S,style:T,width:C,responsive:M,dispatchTouchEvents:E=!0}=e,k=v.useRef(null),R=Qr(),[I,D]=v.useState(null),[F,Y]=v.useState(null),ne=O_e(),W=GT(),Z=W?.width>0?W.width:C,re=W?.height>0?W.height:i,ce=v.useCallback(ie=>{ne(ie),typeof t=="function"&&t(ie),D(ie),Y(ie),ie!=null&&(k.current=ie)},[ne,t,D,Y]),fe=v.useCallback(ie=>{R(g7(ie)),R(Ss({handler:o,reactEvent:ie}))},[R,o]),K=v.useCallback(ie=>{R(Uj(ie)),R(Ss({handler:m,reactEvent:ie}))},[R,m]),Q=v.useCallback(ie=>{R(nU()),R(Ss({handler:p,reactEvent:ie}))},[R,p]),H=v.useCallback(ie=>{R(Uj(ie)),R(Ss({handler:g,reactEvent:ie}))},[R,g]),X=v.useCallback(()=>{R(S7())},[R]),$=v.useCallback(ie=>{R(w7(ie.key))},[R]),G=v.useCallback(ie=>{R(Ss({handler:l,reactEvent:ie}))},[R,l]),Ne=v.useCallback(ie=>{R(Ss({handler:u,reactEvent:ie}))},[R,u]),de=v.useCallback(ie=>{R(Ss({handler:h,reactEvent:ie}))},[R,h]),q=v.useCallback(ie=>{R(Ss({handler:b,reactEvent:ie}))},[R,b]),ae=v.useCallback(ie=>{R(Ss({handler:S,reactEvent:ie}))},[R,S]),be=v.useCallback(ie=>{E&&R(j7(ie)),R(Ss({handler:N,reactEvent:ie}))},[R,E,N]),Ae=v.useCallback(ie=>{R(Ss({handler:_,reactEvent:ie}))},[R,_]),ke=V_e(M);return v.createElement(_U.Provider,{value:I},v.createElement(gle.Provider,{value:F},v.createElement(ke,{width:Z??T?.width,height:re??T?.height,className:zn("recharts-wrapper",r),style:R_e({position:"relative",cursor:"default",width:Z,height:re},T),onClick:fe,onContextMenu:G,onDoubleClick:Ne,onFocus:X,onKeyDown:$,onMouseDown:de,onMouseEnter:K,onMouseLeave:Q,onMouseMove:H,onMouseUp:q,onTouchEnd:Ae,onTouchMove:be,onTouchStart:ae,ref:ce},v.createElement(z_e,null),n)))}),q_e=["width","height","responsive","children","className","style","compact","title","desc"];function K_e(e,t){if(e==null)return{};var n,r,i=W_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var G_e=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:h,title:m,desc:p}=e,g=K_e(e,q_e),b=is(g);return h?v.createElement(v.Fragment,null,v.createElement(jp,{width:n,height:r}),v.createElement($5,{otherAttributes:b,title:m,desc:p},o)):v.createElement(H_e,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement($5,{otherAttributes:b,title:m,desc:p,ref:t},v.createElement(wwe,null,o)))});function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vj.apply(null,arguments)}var Y_e={top:5,right:5,bottom:5,left:5},Z_e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Y_e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},T7=v.forwardRef(function(t,n){var r,i=ia(t.categoricalChartProps,Z_e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,p={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return v.createElement(__e,{preloadedState:{options:p},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:o},v.createElement(mwe,{chartData:m.data}),v.createElement(N_e,{layout:i.layout,margin:i.margin}),v.createElement(T_e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(G_e,Vj({},i,{ref:n})))}),X_e=["item"],Q_e=v.forwardRef((e,t)=>v.createElement(T7,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:X_e,tooltipPayloadSearcher:jU,categoricalChartProps:e,ref:t})),J_e=["axis"],eje=v.forwardRef((e,t)=>v.createElement(T7,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:J_e,tooltipPayloadSearcher:jU,categoricalChartProps:e,ref:t}));const tje={elevation:{key:"elevation",label:"Elevation",unit:"m",color:"#22c55e",fillColor:"#22c55e",gradientId:"colorElevation",formatValue:e=>`${Math.round(e)} m`,formatTick:e=>Math.round(e).toString()},pace:{key:"pace",label:"Pace",unit:"/km",color:"#38bdf8",fillColor:"#38bdf8",gradientId:"colorPace",invertY:!0,formatValue:e=>{const t=Math.floor(e/60),n=Math.round(e%60);return`${t}:${n.toString().padStart(2,"0")}/km`},formatTick:e=>{const t=Math.floor(e/60),n=Math.round(e%60);return`${t}:${n.toString().padStart(2,"0")}`}},heartRate:{key:"heartRate",label:"Heart Rate",unit:"bpm",color:"#ef4444",fillColor:"#ef4444",gradientId:"colorHR",formatValue:e=>`${Math.round(e)} bpm`,formatTick:e=>Math.round(e).toString()},cadence:{key:"cadence",label:"Cadence",unit:"spm",color:"#facc15",fillColor:"#facc15",gradientId:"colorCadence",formatValue:e=>`${Math.round(e)} spm`,formatTick:e=>Math.round(e).toString()}};function nje(e){return e>=180?"#22c55e":e>=170?"#84cc16":e>=160?"#facc15":e>=150?"#f97316":"#ef4444"}function wv({metric:e,icon:t,dataPoints:n,stats:r,defaultOpen:i=!1,totalDistance:o,totalDuration:l}){const[u,h]=v.useState(i),[m,p]=v.useState("distance"),g=tje[e],b=v.useMemo(()=>n.some(C=>C[g.key]!==void 0&&C[g.key]!==null),[n,g.key]),_=v.useMemo(()=>b?n.filter(C=>C[g.key]!==void 0&&C[g.key]!==null).map(C=>({x:m==="distance"?C.distance:C.timestamp!==void 0?C.timestamp/60:C.distance,value:C[g.key],distance:C.distance,timestamp:C.timestamp})):[],[n,m,g.key,b]),N=v.useMemo(()=>{if(m==="distance")return{label:"Distance (km)",ticks:Array.from({length:Math.ceil(o)+1},(C,M)=>M),formatter:C=>Math.round(C).toString(),domain:[0,Math.ceil(o)]};{const C=l/60,M=C<=10?1:C<=30?5:10;return{label:"Time (min)",ticks:Array.from({length:Math.ceil(C/M)+1},(k,R)=>R*M),formatter:k=>`${Math.floor(k)}`,domain:[0,Math.ceil(C)]}}},[m,o,l]),S=v.useMemo(()=>{if(_.length===0)return[0,100];const C=_.map(R=>R.value),M=Math.min(...C),E=Math.max(...C),k=(E-M)*.1||10;return g.invertY?[E+k,M-k]:[M-k,E+k]},[_,g.invertY]);if(!b)return null;const T=e==="cadence";return s.jsxs(jF,{open:u,onOpenChange:h,children:[s.jsx(NF,{asChild:!0,children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-card/30 border border-white/5 rounded-lg cursor-pointer hover:bg-card/40 transition-colors","data-testid":`chart-section-${e}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${g.color}20`},children:t}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:g.label}),r&&s.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[r.avg!==void 0&&s.jsxs("span",{children:["Avg: ",s.jsx("span",{className:"font-medium text-primary",children:g.formatValue(r.avg)})]}),r.min!==void 0&&e!=="pace"&&s.jsxs("span",{children:["Min: ",g.formatValue(r.min)]}),r.max!==void 0&&s.jsxs("span",{children:[e==="pace"?"Best":"Max",": ",g.formatValue(r.max)]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:u?s.jsx(gx,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(Uf,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx(TF,{children:s.jsxs(wt,{className:"mt-2 bg-card/30 border-white/5 p-4 overflow-hidden",children:[s.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[s.jsx(Re,{variant:m==="time"?"default":"outline",size:"sm",onClick:()=>p("time"),className:"text-xs px-4","data-testid":`toggle-time-${e}`,children:"Time"}),s.jsx(Re,{variant:m==="distance"?"default":"outline",size:"sm",onClick:()=>p("distance"),className:"text-xs px-4","data-testid":`toggle-distance-${e}`,children:"Distance"})]}),s.jsx("div",{className:"h-48 w-full",children:s.jsx(tfe,{width:"100%",height:"100%",children:T?s.jsxs(Q_e,{margin:{top:10,right:10,left:-20,bottom:0},children:[s.jsx(Rj,{strokeDasharray:"3 3",vertical:!1,stroke:"#ffffff08"}),s.jsx(zj,{dataKey:"x",type:"number",stroke:"#ffffff40",fontSize:10,tickLine:!1,axisLine:!1,domain:N.domain,ticks:N.ticks,tickFormatter:N.formatter}),s.jsx(Bj,{dataKey:"value",type:"number",stroke:"#ffffff40",fontSize:10,tickLine:!1,axisLine:!1,domain:S,tickFormatter:g.formatTick}),s.jsx(kI,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #ffffff10",borderRadius:"12px",fontSize:"12px"},labelStyle:{color:"#64748b",marginBottom:"4px"},formatter:C=>[g.formatValue(C),g.label],labelFormatter:C=>m==="distance"?`${C.toFixed(1)} km`:`${Math.floor(C)}:${Math.round(C%1*60).toString().padStart(2,"0")}`}),s.jsx(m7,{data:_,fill:g.color,children:_.map((C,M)=>s.jsx(J2,{fill:nje(C.value)},`cell-${M}`))})]}):s.jsxs(eje,{data:_,margin:{top:10,right:10,left:-20,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:g.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:g.fillColor,stopOpacity:.4}),s.jsx("stop",{offset:"95%",stopColor:g.fillColor,stopOpacity:0})]})}),s.jsx(Rj,{strokeDasharray:"3 3",vertical:!1,stroke:"#ffffff08"}),s.jsx(zj,{dataKey:"x",stroke:"#ffffff40",fontSize:10,tickLine:!1,axisLine:!1,type:"number",domain:N.domain,ticks:N.ticks,tickFormatter:N.formatter}),s.jsx(Bj,{stroke:"#ffffff40",fontSize:10,tickLine:!1,axisLine:!1,domain:S,tickFormatter:g.formatTick}),s.jsx(kI,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #ffffff10",borderRadius:"12px",fontSize:"12px"},labelStyle:{color:"#64748b",marginBottom:"4px"},formatter:C=>[g.formatValue(C),g.label],labelFormatter:C=>m==="distance"?`${C.toFixed(1)} km`:`${Math.floor(C)}:${Math.round(C%1*60).toString().padStart(2,"0")}`}),s.jsx(f7,{type:"monotone",dataKey:"value",stroke:g.color,fillOpacity:1,fill:`url(#${g.gradientId})`,strokeWidth:2})]})})}),s.jsx("div",{className:"flex justify-center mt-2",children:s.jsx("span",{className:"text-xs text-muted-foreground",children:N.label})})]})})]})}const Zs={background:"#09090b",primary:"#B4F481",text:"#ffffff",muted:"#64748b",card:"#1a1a1d"};function P7(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}h ${n}m ${r}s`:`${n}m ${r}s`}function B5(e,t,n,r,i,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()}function rje(e,t,n){if(!t||t.length<2)return;const r=t.map(I=>I.lat),i=t.map(I=>I.lng),o=Math.min(...r),l=Math.max(...r),u=Math.min(...i),h=Math.max(...i),m=l-o||.001,p=h-u||.001,g=30,b=(n.width-g*2)/p,_=(n.height-g*2)/m,N=Math.min(b,_),S=n.x+(n.width-p*N)/2,T=n.y+(n.height-m*N)/2;e.beginPath(),e.strokeStyle=Zs.primary,e.lineWidth=4,e.lineCap="round",e.lineJoin="round",t.forEach((I,D)=>{const F=S+(I.lng-u)*N,Y=T+(l-I.lat)*N;D===0?e.moveTo(F,Y):e.lineTo(F,Y)}),e.stroke();const C=S+(t[0].lng-u)*N,M=T+(l-t[0].lat)*N;e.beginPath(),e.arc(C,M,10,0,Math.PI*2),e.fillStyle="#22c55e",e.fill();const E=t[t.length-1],k=S+(E.lng-u)*N,R=T+(l-E.lat)*N;e.beginPath(),e.arc(k,R,10,0,Math.PI*2),e.fillStyle="#ef4444",e.fill()}function ije(e){return new Promise((t,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>t(r),r.onerror=n,r.src=e})}async function C7(e){const{run:t,routeCoords:n,format:r="post"}=e,i=r==="story",o=1080,l=i?1920:1080,u=document.createElement("canvas");u.width=o,u.height=l;const h=u.getContext("2d");h.fillStyle=Zs.background,h.fillRect(0,0,o,l);const m=h.createRadialGradient(o/2,l/3,0,o/2,l/3,o);m.addColorStop(0,"rgba(180, 244, 129, 0.08)"),m.addColorStop(1,"rgba(180, 244, 129, 0)"),h.fillStyle=m,h.fillRect(0,0,o,l);const p=i?{x:60,y:200,width:o-120,height:600}:{x:60,y:180,width:500,height:400};B5(h,p.x,p.y,p.width,p.height,24),h.fillStyle=Zs.card,h.fill(),n&&n.length>1?rje(h,n,p):(h.fillStyle=Zs.muted,h.font="bold 24px Inter, system-ui, sans-serif",h.textAlign="center",h.fillText("Route Map",p.x+p.width/2,p.y+p.height/2));const g=i?880:180,b=i?60:620,_=i?(o-180)/2:180,N=140,S=30;[{label:"DISTANCE",value:`${t.distance.toFixed(2)}`,unit:"km"},{label:"TIME",value:P7(t.totalTime),unit:""},{label:"PACE",value:t.avgPace,unit:"/km"},{label:"DIFFICULTY",value:t.difficulty.toUpperCase(),unit:"",highlight:!0}].forEach((M,E)=>{const k=E%2,R=Math.floor(E/2),I=b+k*(_+S),D=g+R*(N+S);B5(h,I,D,_,N,16),h.fillStyle=M.highlight?"rgba(180, 244, 129, 0.1)":"rgba(255, 255, 255, 0.03)",h.fill(),h.strokeStyle=M.highlight?"rgba(180, 244, 129, 0.3)":"rgba(255, 255, 255, 0.05)",h.lineWidth=1,h.stroke(),h.fillStyle=Zs.muted,h.font="bold 14px Inter, system-ui, sans-serif",h.textAlign="center",h.fillText(M.label,I+_/2,D+35),h.fillStyle=M.highlight?Zs.primary:Zs.text,h.font="bold 36px Inter, system-ui, sans-serif",h.fillText(M.value,I+_/2,D+85),M.unit&&(h.fillStyle=Zs.muted,h.font="bold 18px Inter, system-ui, sans-serif",h.fillText(M.unit,I+_/2,D+115))});const C=i?l-200:l-120;try{const M=await ije(Vz),E=80,k=o/2-E/2;h.drawImage(M,k,C,E,E),h.fillStyle=Zs.text,h.font="bold 32px Inter, system-ui, sans-serif",h.textAlign="center",h.fillText("AI RUN COACH",o/2,C+E+40)}catch{h.fillStyle=Zs.primary,h.font="bold 48px Inter, system-ui, sans-serif",h.textAlign="center",h.fillText("AI RUN COACH",o/2,C+50)}return h.fillStyle=Zs.muted,h.font="16px Inter, system-ui, sans-serif",h.textAlign="center",h.fillText(t.date,o/2,i?100:80),new Promise((M,E)=>{u.toBlob(k=>{k?M(k):E(new Error("Failed to generate image"))},"image/png",1)})}async function aje(e,t){const n=await C7(e),r=new File([n],"run-summary.png",{type:"image/png"});if(t==="native"&&navigator.share&&navigator.canShare){const o={title:"My Run with AI Run Coach",text:`I just completed a ${e.run.distance.toFixed(1)}km run in ${P7(e.run.totalTime)}! Average pace: ${e.run.avgPace}/km`,files:[r]};if(navigator.canShare(o)){await navigator.share(o);return}}const i=URL.createObjectURL(n);t==="facebook"&&window.open(`https://www.facebook.com/sharer/sharer.php?quote=${encodeURIComponent(`I just completed a ${e.run.distance.toFixed(1)}km run with AI Run Coach! Average pace: ${e.run.avgPace}/km`)}`,"_blank","width=600,height=400"),Uv(i,"run-summary.png")}function Uv(e,t){const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>URL.revokeObjectURL(e),100)}async function sje(e){const t=await C7(e),n=URL.createObjectURL(t);Uv(n,`run-${e.run.id}.png`)}delete vp.Icon.Default.prototype._getIconUrl;vp.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function oje({positions:e}){const t=Bx();return v.useEffect(()=>{if(e.length>1){const n=vp.latLngBounds(e.map(r=>[r[0],r[1]]));t.fitBounds(n,{padding:[20,20]})}},[e,t]),null}function lje(){const[,e]=Vr(),[t,n]=d4("/history/:id"),r=u4(),i=new URLSearchParams(r),o=i.get("groupRunId"),l=i.get("friendView")==="true",[u,h]=v.useState(null),[m,p]=v.useState(null),[g,b]=v.useState(!1),[_,N]=v.useState(""),[S,T]=v.useState([]),[C,M]=v.useState([]),[E,k]=v.useState(""),[R,I]=v.useState(null),[D,F]=v.useState(null),[Y,ne]=v.useState(!1),[W,Z]=v.useState(!1),[re,ce]=v.useState(!1),[fe,K]=v.useState("post"),[Q,H]=v.useState(null),[X,$]=v.useState(!1),[G,Ne]=v.useState(!1),[de,q]=v.useState(!1),[ae,be]=v.useState(!1),[Ae,ke]=v.useState(""),[ie,ge]=v.useState(!1),[Me,ve]=v.useState(null),[pe,Ye]=v.useState(!1),[vt,Rt]=v.useState(null),[Wt,gn]=v.useState(""),[Nn,kr]=v.useState([]),[Tn,he]=v.useState(!1),[Be,ot]=v.useState(!1),[Zt,An]=v.useState(!1),[tt,Jn]=v.useState(null),[$t,Or]=v.useState([]),[Qt,gi]=v.useState(!1),[Rr,Dr]=v.useState(null),[Ir,Mi]=v.useState(""),[br,wa]=v.useState(""),[wr,Sa]=v.useState(""),[sa,ki]=v.useState(new Set),[_a,Mt]=v.useState({}),[kn,Xt]=v.useState(!1),[ur,Yt]=v.useState(!1),[On,Sn]=v.useState(!1),[mt,Dt]=v.useState({name:"",country:"",city:"",eventType:"parkrun",description:"",scheduleType:"recurring",recurrencePattern:"weekly",dayOfWeek:6,dayOfMonth:1,specificDate:""});v.useEffect(()=>{(async()=>{if(!n?.id)return;const Ue=localStorage.getItem("runHistory");if(Ue){const lt=JSON.parse(Ue).find(Ft=>Ft.id===n.id);if(lt){h(lt),lt.rating&&(I(lt.rating),ne(!0));return}}try{const Xe=localStorage.getItem("userProfile"),lt=Xe?JSON.parse(Xe).id:null,Ft=lt?`/api/runs/${n.id}?userId=${lt}`:`/api/runs/${n.id}`,at=await fetch(Ft);if(at.ok){const Ve=await at.json(),xn={id:Ve.id,name:Ve.name,date:Ve.completedAt?new Date(Ve.completedAt).toLocaleDateString("en-GB"):"",time:Ve.completedAt?new Date(Ve.completedAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"",distance:Ve.distance,totalTime:Ve.duration,avgPace:Ve.avgPace||"",difficulty:Ve.difficulty||"beginner",lat:Ve.startLat||0,lng:Ve.startLng||0,avgHeartRate:Ve.avgHeartRate,maxHeartRate:Ve.maxHeartRate,calories:Ve.calories,cadence:Ve.cadence,gpsTrack:Ve.gpsTrack,kmSplits:Ve.paceData,weatherData:Ve.weatherData,routeId:Ve.routeId,aiCoachEnabled:Ve.aiCoachEnabled};if(h(xn),xn.rating&&(I(xn.rating),ne(!0)),Ve.aiCoachingNotes&&typeof Ve.aiCoachingNotes=="object"){const vn=Ve.aiCoachingNotes;vn.highlights&&vn.coachingTips&&ve(vn)}}}catch(Xe){console.warn("Failed to fetch run from API:",Xe)}})();const se=localStorage.getItem(`shared_${n?.id}`);se&&T(JSON.parse(se));const Oe=localStorage.getItem("userProfile");if(Oe){const Ue=JSON.parse(Oe);M(Ue.friends||[])}},[n?.id]),v.useEffect(()=>{if(!n?.id)return;(async()=>{try{const se=localStorage.getItem("userProfile"),Oe=se?JSON.parse(se).id:null,Ue=Oe?`/api/runs/${n.id}/analysis?userId=${Oe}`:`/api/runs/${n.id}/analysis`,Xe=await fetch(Ue);if(Xe.ok){const lt=await Xe.json();lt&&lt.highlights&&ve(lt)}}catch(se){console.warn("No saved AI analysis found:",se)}})()},[n?.id]),v.useEffect(()=>{if(!n?.id)return;(async()=>{try{const se=await fetch(`/api/runs/${n.id}/telemetry`);if(se.ok){const Oe=await se.json();Oe.telemetry&&Jn({...Oe.telemetry,distance:Oe.distance,duration:Oe.duration})}}catch(se){console.warn("Failed to fetch telemetry:",se)}})()},[n?.id]),v.useEffect(()=>{if(!n?.id)return;(async()=>{gi(!0);try{const se=localStorage.getItem("userProfile"),Oe=se?JSON.parse(se).id:null;if(!Oe)return;const Ue=await fetch(`/api/runs/${n.id}/weakness-events?userId=${Oe}`);if(Ue.ok){const Xe=await Ue.json();Or(Xe)}}catch(se){console.warn("Failed to fetch weakness events:",se)}finally{gi(!1)}})()},[n?.id]),v.useEffect(()=>{const V=localStorage.getItem("userProfile");V&&JSON.parse(V).isAdmin&&An(!0)},[]);const Gn=async()=>{if(!(!n?.id||Tn)){he(!0);try{const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null;if(!se)return;const Oe=await fetch(`/api/runs/${n.id}/coaching-logs?userId=${se}`);if(Oe.ok){const Ue=await Oe.json();kr(Ue)}}catch(V){console.error("Failed to fetch coaching logs:",V)}finally{he(!1)}}};v.useEffect(()=>{if(!u)return;const V=u.avgCadence||u.cadence;if(!V||V<60)return;const se=localStorage.getItem("userProfile");if(!se)return;const Oe=JSON.parse(se),Ue=Oe.height;if(!Ue)return;const Xe=parseFloat(String(Ue).replace(/[^0-9.]/g,""));if(isNaN(Xe)||Xe<100||Xe>250)return;const lt=u.avgPace||"";let Ft=0;const at=lt.split(":");if(at.length===2&&(Ft=parseInt(at[0])+parseInt(at[1])/60),Ft<=0||Ft>20)return;let Ve;if(Oe.dob){const xn=new Date(Oe.dob),vn=new Date;Ve=vn.getFullYear()-xn.getFullYear();const dn=vn.getMonth()-xn.getMonth();(dn<0||dn===0&&vn.getDate()<xn.getDate())&&Ve--}$(!0),fetch("/api/ai/analyze-cadence",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({heightCm:Xe,paceMinPerKm:Ft,cadenceSpm:V,distanceKm:u.distance,userFitnessLevel:Oe.fitnessLevel,userAge:Ve})}).then(xn=>xn.ok?xn.json():null).then(xn=>{xn&&H(xn)}).catch(xn=>console.error("Cadence analysis error:",xn)).finally(()=>$(!1))},[u]),v.useEffect(()=>{if(!o)return;const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null,Oe=se?`/api/group-runs/${o}/summary?userId=${se}`:`/api/group-runs/${o}/summary`;fetch(Oe).then(Ue=>{if(!Ue.ok)throw new Error("Failed to fetch");return Ue.json()}).then(Ue=>{p(Ue)}).catch(Ue=>console.error("Failed to fetch group run summary:",Ue))},[o]);const or=v.useMemo(()=>m?.participants?[...m.participants].filter(V=>V.run).sort((V,se)=>{if(!V.run||!se.run)return 0;const Oe=V.run.avgPace?.split(":").map(Number)||[99,99],Ue=se.run.avgPace?.split(":").map(Number)||[99,99],Xe=Oe[0]*60+(Oe[1]||0),lt=Ue[0]*60+(Ue[1]||0);return Xe-lt}):[],[m?.participants]),ft=async V=>{if(!(!u||Y)){I(V);try{const se=localStorage.getItem("userProfile"),Oe=se?JSON.parse(se).id:null;if(Oe){const Xe=u.routeName?.match(/- (.+)$/),lt=Xe?Xe[1]:null;await fetch("/api/route-ratings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Oe,runId:u.id,rating:V,templateName:lt,routeDistance:u.distance,startLat:u.lat,startLng:u.lng})})}const Ue=localStorage.getItem("runHistory");if(Ue){const lt=JSON.parse(Ue).map(Ft=>Ft.id===u.id?{...Ft,rating:V}:Ft);localStorage.setItem("runHistory",JSON.stringify(lt))}ne(!0),Se.success(`Route rated ${V}/10! This helps improve future suggestions.`)}catch(se){console.error("Failed to submit rating:",se),Se.error("Failed to save rating")}}},qi=async()=>{if(!u||!n?.id)return;const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null;if(!se){Se.error("Please log in to save routes");return}Xt(!0);try{const Oe=await fetch(`/api/runs/${n.id}/to-route`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u.name||`Route from ${u.date}`,makeFavorite:!0,userId:se})});if(!Oe.ok){const Ue=await Oe.json();throw new Error(Ue.error||"Failed to save route")}Se.success("Route saved to favorites!")}catch(Oe){console.error("Failed to save as route:",Oe),Se.error(Oe instanceof Error?Oe.message:"Failed to save route")}finally{Xt(!1)}},Ls=()=>{if(!u||!n?.id)return;const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null;if(!se){Se.error("Please log in to run again");return}localStorage.setItem("runAgainRunId",n.id),localStorage.setItem("runAgainRunName",u.name||`Run from ${u.date}`),localStorage.setItem("runAgainUserId",se),e("/")},vi=async()=>{if(!u||!n?.id)return;const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null;if(!se){Se.error("Please log in to create events");return}if(!mt.name.trim()||!mt.country.trim()){Se.error("Event name and country are required");return}if(mt.scheduleType==="one_time"&&!mt.specificDate){Se.error("Event date is required for one-time events");return}Sn(!0);try{const Oe=await fetch(`/api/events/from-run/${n.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:se,name:mt.name,country:mt.country,city:mt.city||void 0,eventType:mt.eventType,description:mt.description||void 0,scheduleType:mt.scheduleType,specificDate:mt.scheduleType==="one_time"?mt.specificDate:void 0,recurrencePattern:mt.scheduleType==="recurring"?mt.recurrencePattern:void 0,dayOfWeek:mt.scheduleType==="recurring"&&["weekly","fortnightly"].includes(mt.recurrencePattern)?mt.dayOfWeek:void 0,dayOfMonth:mt.scheduleType==="recurring"&&mt.recurrencePattern==="monthly"?mt.dayOfMonth:void 0})});if(!Oe.ok){const Xe=await Oe.json(),lt=Xe.detail?`${Xe.error}: ${Xe.detail}`:Xe.error||"Failed to create event";throw new Error(lt)}const Ue=await Oe.json();Se.success(`Event "${mt.name}" created successfully!`),Yt(!1),Dt({name:"",country:"",city:"",eventType:"parkrun",description:"",scheduleType:"recurring",recurrencePattern:"weekly",dayOfWeek:6,dayOfMonth:1,specificDate:""})}catch(Oe){console.error("Failed to create event:",Oe),Se.error(Oe instanceof Error?Oe.message:"Failed to create event")}finally{Sn(!1)}},ja=async()=>{if(!(!u||!n?.id)){q(!0);try{const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null,Oe=se?`/api/runs/${n.id}?userId=${se}`:`/api/runs/${n.id}`;if(!(await fetch(Oe,{method:"DELETE"})).ok)throw new Error("Failed to delete run from server");const Xe=localStorage.getItem("runHistory");if(Xe){const Ft=JSON.parse(Xe).filter(at=>at.id!==n.id);localStorage.setItem("runHistory",JSON.stringify(Ft))}Se.success("Run deleted successfully"),e("/history")}catch(V){console.error("Failed to delete run:",V),Se.error("Failed to delete run")}finally{q(!1),Ne(!1)}}},ii=async()=>{if(!(!u||!n?.id||!Ae.trim())){ge(!0);try{if(!(await fetch(`/api/runs/${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Ae.trim()})})).ok)throw new Error("Failed to update run name");h({...u,name:Ae.trim()});const se=localStorage.getItem("runHistory");if(se){const Ue=JSON.parse(se).map(Xe=>Xe.id===n.id?{...Xe,name:Ae.trim()}:Xe);localStorage.setItem("runHistory",JSON.stringify(Ue))}be(!1),Se.success("Run renamed successfully")}catch(V){console.error("Failed to rename run:",V),Se.error("Failed to rename run")}finally{ge(!1)}}},Sr=()=>{ke(u?.name||`Run on ${u?.date}`),be(!0)},yi=async V=>{try{const se=localStorage.getItem("userProfile"),Oe=se?JSON.parse(se).id:null;if(!Oe)return;if(!(await fetch(`/api/weakness-events/${V}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Oe,causeTag:Ir||null,causeNote:br||null})})).ok)throw new Error("Failed to save annotation");Or(Xe=>Xe.map(lt=>lt.id===V?{...lt,causeTag:Ir||null,causeNote:br||null}:lt)),Dr(null),Mi(""),wa(""),Se.success("Struggle point annotated")}catch(se){console.error("Failed to save weakness annotation:",se),Se.error("Failed to save annotation")}},oa=V=>{Dr(V.id),Mi(V.causeTag||""),wa(V.causeNote||""),Sa(V.userComment||"")},Yn=async(V,se,Oe)=>{try{ki(lt=>new Set(lt).add(V));const Ue=await fetch(`/api/weakness-events/${V}/review`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({userComment:se,isIrrelevant:Oe})});if(!Ue.ok)throw new Error("Failed to save review");const Xe=await Ue.json();Or(lt=>lt.map(Ft=>Ft.id===V?{...Ft,userComment:se,isIrrelevant:Oe,reviewedAt:Xe.reviewedAt}:Ft)),Se.success(Oe?"Marked as not relevant":"Comment saved")}catch(Ue){console.error("Failed to save weakness review:",Ue),Se.error("Failed to save review")}finally{ki(Ue=>{const Xe=new Set(Ue);return Xe.delete(V),Xe})}},rn=V=>{const se=_a[V.id]!==void 0?_a[V.id]:Rr===V.id?wr:V.userComment;Yn(V.id,se||null,!V.isIrrelevant),Mt(Oe=>{const Ue={...Oe};return delete Ue[V.id],Ue}),Rr===V.id&&Dr(null)},dr=async()=>{if(!(!u||!n?.id)){Ye(!0),Rt(null);try{const V=localStorage.getItem("userProfile"),se=V?JSON.parse(V).id:null;if(!se){Rt("Please log in to generate AI analysis");return}const Oe=$t.filter(lt=>!lt.isIrrelevant).map(lt=>({distanceKm:`${lt.startDistanceKm.toFixed(2)}-${lt.endDistanceKm.toFixed(2)}`,paceDropPercent:Math.round(lt.dropPercent),durationSeconds:lt.durationSeconds,userComment:lt.userComment,causeTag:lt.causeTag})),Ue=await fetch(`/api/runs/${n.id}/analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:se,reviewedStruggles:Oe.length>0?Oe:void 0,selfAssessment:Wt.trim()||void 0})});if(!Ue.ok){const lt=await Ue.json();throw new Error(lt.error||"Failed to generate analysis")}const Xe=await Ue.json();ve(Xe),Se.success("AI analysis generated!")}catch(V){console.error("Failed to generate AI analysis:",V),Rt(V instanceof Error?V.message:"Failed to generate analysis"),Se.error("Failed to generate AI analysis")}finally{Ye(!1)}}},un=V=>{const se=V.userCode||V.name;if(S.includes(se)){Se.error("Already shared with this friend");return}const Oe=[...S,se];T(Oe),localStorage.setItem(`shared_${n?.id}`,JSON.stringify(Oe)),Se.success(`Run shared with ${V.name}!`)},fr=V=>{if(V.preventDefault(),!_.trim()){Se.error("Please enter a valid email address or username");return}if(S.includes(_)){Se.error("Already shared with this person");return}const se=[...S,_];T(se),localStorage.setItem(`shared_${n?.id}`,JSON.stringify(se)),Se.success(`Run shared with ${_}! They'll receive a notification.`),N("")};C.filter(V=>V.name.toLowerCase().includes(E.toLowerCase()));const Rn=async V=>{if(u){ce(!0);try{const se=u.gpsTrack||u.routeCoords;await aje({run:u,routeCoords:se,format:fe},V),V==="instagram"?Se.success("Image downloaded! Open Instagram and share from your gallery."):V==="facebook"?Se.success("Image downloaded! You can attach it to your Facebook post."):Se.success("Run summary shared!")}catch(se){console.error("Share error:",se),Se.error("Could not share. Try downloading the image instead.")}finally{ce(!1)}}},_n=async()=>{if(u){ce(!0);try{const V=u.gpsTrack||u.routeCoords;await sje({run:u,routeCoords:V,format:fe}),Se.success("Image downloaded!")}catch(V){console.error("Download error:",V),Se.error("Could not download image.")}finally{ce(!1)}}},sn=!!u?.heartRateData?.length||!!u?.avgHeartRate,kt=u?.gpsTrack||[],hr=kt.length>1,Dn=u?.kmSplits||[];v.useMemo(()=>!u||Dn.length===0?[]:Dn.map((V,se)=>({km:se+1,pace:V.pace,paceSeconds:V.paceSeconds||0})),[u,Dn]),v.useMemo(()=>{if(!u)return[];const V=[],se=u.elevationProfile||[],Oe=u.heartRateData||[],Ue=u.avgHeartRate||155;if(se.length>0)for(let Xe=0;Xe<se.length;Xe++){const lt=se[Xe],Ft=(lt.distance||0)/1e3;let at=0;if(Oe.length>0){const Ve=Math.floor(Xe/se.length*Oe.length);at=Oe[Math.min(Ve,Oe.length-1)]?.hr||Ue}else sn&&(at=Ue-10+Math.random()*20);V.push({distance:parseFloat(Ft.toFixed(2)),elevation:lt.elevation||0,hr:at>0?at:void 0})}else{const Xe=Math.max(20,Math.floor(u.distance*10)),lt=u.elevationGain||10;for(let Ft=0;Ft<=Xe;Ft++){const at=u.distance/Xe*Ft;let Ve=0;if(Oe.length>0){const xn=Math.floor(Ft/Xe*Oe.length);Ve=Oe[Math.min(xn,Oe.length-1)]?.hr||Ue}else sn&&(Ve=Ue-10+Math.random()*20);V.push({distance:parseFloat(at.toFixed(2)),elevation:lt,hr:Ve>0?Ve:void 0})}}return V},[u,sn]);const mr=v.useMemo(()=>{if(!u||!hr||kt.length<2)return[];const V=[],se=Math.max(2,Math.floor(kt.length/50)),Oe=[];for(let Ve=0;Ve<kt.length-1;Ve+=se){const xn=Math.min(Ve+se,kt.length-1),vn=kt[Ve],dn=kt[xn],Ki=vn.lat*Math.PI/180,qr=dn.lat*Math.PI/180,Ht=(dn.lat-vn.lat)*Math.PI/180,Vn=(dn.lng-vn.lng)*Math.PI/180,_r=Math.sin(Ht/2)**2+Math.cos(Ki)*Math.cos(qr)*Math.sin(Vn/2)**2,Ri=6371*(2*Math.atan2(Math.sqrt(_r),Math.sqrt(1-_r))),zs=(dn.timestamp||0)-(vn.timestamp||0),ss=zs>0?zs/6e4:u.totalTime/kt.length*se/60,$s=Ri>.01?ss/Ri:0;Oe.push($s)}const Ue=Oe.filter(Ve=>Ve>0&&Ve<20);if(Ue.length===0)return[];const Xe=Math.min(...Ue),Ft=Math.max(...Ue)-Xe||1;let at=0;for(let Ve=0;Ve<kt.length-1;Ve+=se){const xn=Math.min(Ve+se+1,kt.length),vn=[];for(let Ht=Ve;Ht<xn;Ht++)vn.push([kt[Ht].lat,kt[Ht].lng]);const dn=Oe[at]||0,Ki=dn>0?(dn-Xe)/Ft:.5;let qr;if(Ki<=.25){const Ht=Ki/.25;qr=`rgb(${Math.round(239+10*Ht)}, ${Math.round(68+47*Ht)}, ${Math.round(68+-46*Ht)})`}else if(Ki<=.5){const Ht=(Ki-.25)/.25;qr=`rgb(${Math.round(249+-15*Ht)}, ${Math.round(115+64*Ht)}, ${Math.round(22+-14*Ht)})`}else if(Ki<=.75){const Ht=(Ki-.5)/.25;qr=`rgb(${Math.round(234+-200*Ht)}, ${Math.round(179+18*Ht)}, ${Math.round(8+86*Ht)})`}else{const Ht=(Ki-.75)/.25;qr=`rgb(${Math.round(34+25*Ht)}, ${Math.round(197+-67*Ht)}, ${Math.round(94+152*Ht)})`}V.push({positions:vn,color:qr,pace:dn}),at++}return V},[u,kt,hr]);if(!u)return null;const Na=[{name:"Zone 5",range:"> 169 bpm",value:12,color:"#ef4444",label:"Maximum"},{name:"Zone 4",range:"151-169 bpm",value:48,color:"#f97316",label:"Threshold"},{name:"Zone 3",range:"132-150 bpm",value:25,color:"#84cc16",label:"Aerobic"},{name:"Zone 2",range:"113-131 bpm",value:10,color:"#3b82f6",label:"Easy"},{name:"Zone 1",range:"95-112 bpm",value:5,color:"#64748b",label:"Warm Up"}],Ua=V=>{if(V==null||isNaN(V))return"-";const se=Math.floor(V/3600),Oe=Math.floor(V%3600/60),Ue=Math.floor(V%60);return se>0?`${se}h ${Oe}m ${Ue}s`:`${Oe}m ${Ue}s`},Oi=V=>V==null||isNaN(V)?"-":V.toFixed(2),Hr=V=>!V||V.includes("NaN")||V.includes("undefined")?"-":V;return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-6 pb-24 font-sans",children:[s.jsxs("header",{className:"mb-8 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>e("/history"),className:"rounded-full border-white/10 hover:bg-white/10",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[ae?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{value:Ae,onChange:V=>ke(V.target.value),className:"text-xl font-display font-bold bg-white/10 border-primary/50 text-foreground h-10 max-w-[280px]",placeholder:"Enter run name...",autoFocus:!0,onKeyDown:V=>{V.key==="Enter"&&ii(),V.key==="Escape"&&be(!1)},"data-testid":"input-run-name"}),s.jsx(Re,{variant:"ghost",size:"icon",onClick:ii,disabled:ie||!Ae.trim(),className:"text-green-400 hover:bg-green-400/20","data-testid":"button-save-name",children:s.jsx(Ms,{className:"w-5 h-5"})}),s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>be(!1),className:"text-muted-foreground hover:bg-white/10","data-testid":"button-cancel-edit",children:s.jsx(io,{className:"w-5 h-5"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-primary uppercase tracking-wider",children:u.name||"Run Insights"}),!l&&s.jsx(Re,{variant:"ghost",size:"icon",onClick:Sr,className:"text-muted-foreground hover:text-primary hover:bg-white/10 h-8 w-8","data-testid":"button-edit-name",title:"Rename run",children:s.jsx(ku,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx($o,{className:"w-3 h-3 text-muted-foreground"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.date,"  ",u.time]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!l&&s.jsxs(s.Fragment,{children:[s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>Z(!0),className:"rounded-full border-primary/50 hover:bg-primary/20 text-primary","data-testid":"button-social-share",title:"Share to Social Media",children:s.jsx(ZE,{className:"w-5 h-5"})}),s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>b(!0),className:"rounded-full border-white/20 hover:bg-white/10 text-muted-foreground","data-testid":"button-share-run",title:"Share with Friends",children:s.jsx(XS,{className:"w-5 h-5"})})]}),s.jsx(Zr,{className:"bg-primary/10 border-primary/30 text-primary text-[10px] uppercase font-bold px-3",children:u.difficulty})]})]}),m&&or.length>0&&s.jsx(At.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6",children:s.jsx(wt,{className:"bg-gradient-to-br from-purple-500/10 to-primary/10 border-purple-500/30",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ro,{className:"w-5 h-5 text-purple-400"}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wider text-purple-400",children:"Group Run Results"})]}),s.jsx("div",{className:"space-y-3",children:or.map((V,se)=>{const Oe=localStorage.getItem("userProfile"),Ue=Oe?JSON.parse(Oe).id:null,Xe=V.userId===Ue,lt=se===0?Zv:se===1?PG:se===2?TW:null,Ft=se===0?"text-yellow-400":se===1?"text-gray-400":se===2?"text-amber-600":"text-muted-foreground";return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${Xe?"bg-primary/20 border border-primary/50":"bg-white/5 border border-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${se<3?"bg-white/10":"bg-white/5"}`,children:lt?s.jsx(lt,{className:`w-4 h-4 ${Ft}`}):s.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:se+1})}),s.jsxs("div",{children:[s.jsxs("p",{className:`font-medium ${Xe?"text-primary":""}`,children:[V.userName,Xe&&s.jsx("span",{className:"text-xs ml-1",children:"(You)"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.run?.distance?.toFixed(2)||"-"," km"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`text-lg font-bold ${se===0?"text-yellow-400":Xe?"text-primary":""}`,children:V.run?.avgPace||"-"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase",children:"/km"})]})]},V.id)})}),m.participants.filter(V=>!V.run).length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:[m.participants.filter(V=>!V.run).length," participant(s) haven't completed yet"]})]})})}),s.jsx(Da,{children:g&&s.jsx(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/50",onClick:()=>b(!1),children:s.jsxs(At.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:V=>V.stopPropagation(),className:"w-full sm:max-w-md bg-card border border-white/10 rounded-2xl p-6 space-y-4 max-h-[80vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-display font-bold uppercase tracking-wider text-primary",children:"Share Run"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send this run record to inspire others."}),C.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-widest",children:"Quick Share - Friends"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.map((V,se)=>s.jsxs("button",{onClick:()=>un(V),disabled:S.includes(V.userCode||V.name),className:"p-3 bg-white/5 hover:bg-primary/10 border border-white/10 hover:border-primary/50 rounded-lg text-xs font-bold uppercase transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[S.includes(V.userCode||V.name)?"":"+"," ",V.name.split(" ")[0]]},se))})]}),s.jsxs("form",{onSubmit:fr,className:"space-y-3 border-t border-white/10 pt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-2",children:"Search or Add by Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(JG,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",value:_,onChange:V=>N(V.target.value),placeholder:"friend@example.com",className:"w-full pl-9 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors text-sm"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Re,{type:"button",variant:"outline",onClick:()=>b(!1),className:"flex-1 border-white/10 hover:bg-white/5 text-xs",children:"Done"}),s.jsxs(Re,{type:"submit",className:"flex-1 bg-primary text-background hover:bg-primary/90 flex items-center justify-center gap-2 text-xs",children:[s.jsx(ZS,{className:"w-3 h-3"}),"Share"]})]})]}),S.length>0&&s.jsxs("div",{className:"border-t border-white/10 pt-4 space-y-2",children:[s.jsxs("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-widest",children:["Shared with (",S.length,"):"]}),s.jsx("div",{className:"space-y-2",children:S.map((V,se)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white/5 rounded-lg border border-white/5",children:[s.jsx(Oc,{className:"w-3 h-3 text-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:V})]},se))})]})]})})}),s.jsx(Da,{children:W&&s.jsx(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/70",onClick:()=>Z(!1),children:s.jsxs(At.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:V=>V.stopPropagation(),className:"w-full sm:max-w-md bg-card border border-white/10 rounded-2xl p-6 space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-display font-bold uppercase tracking-wider text-primary",children:"Share to Social"}),s.jsx("button",{onClick:()=>Z(!1),className:"p-2 rounded-full hover:bg-white/10 transition-colors","data-testid":"button-close-social-share",children:s.jsx(io,{className:"w-5 h-5 text-muted-foreground"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Share your run achievement with friends on social media. We'll generate a beautiful image with your stats!"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-widest",children:"Image Format"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>K("post"),className:`flex-1 py-3 px-4 rounded-xl border transition-all ${fe==="post"?"bg-primary/20 border-primary text-primary":"bg-white/5 border-white/10 text-muted-foreground hover:border-white/30"}`,"data-testid":"button-format-post",children:[s.jsx("div",{className:"text-sm font-bold",children:"Post"}),s.jsx("div",{className:"text-[10px] opacity-70",children:"1:1 Square"})]}),s.jsxs("button",{onClick:()=>K("story"),className:`flex-1 py-3 px-4 rounded-xl border transition-all ${fe==="story"?"bg-primary/20 border-primary text-primary":"bg-white/5 border-white/10 text-muted-foreground hover:border-white/30"}`,"data-testid":"button-format-story",children:[s.jsx("div",{className:"text-sm font-bold",children:"Story"}),s.jsx("div",{className:"text-[10px] opacity-70",children:"9:16 Vertical"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-widest",children:"Share To"}),s.jsxs("button",{onClick:()=>Rn("facebook"),disabled:re,className:"w-full flex items-center gap-4 p-4 bg-[#1877F2]/10 hover:bg-[#1877F2]/20 border border-[#1877F2]/30 rounded-xl transition-all disabled:opacity-50","data-testid":"button-share-facebook",children:[s.jsx("div",{className:"p-2 bg-[#1877F2] rounded-lg",children:s.jsx(sG,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("div",{className:"text-sm font-bold text-white",children:"Facebook"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Post or Story"})]})]}),s.jsxs("button",{onClick:()=>Rn("instagram"),disabled:re,className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-[#833AB4]/10 via-[#FD1D1D]/10 to-[#F77737]/10 hover:from-[#833AB4]/20 hover:via-[#FD1D1D]/20 hover:to-[#F77737]/20 border border-[#E1306C]/30 rounded-xl transition-all disabled:opacity-50","data-testid":"button-share-instagram",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-[#833AB4] via-[#FD1D1D] to-[#F77737] rounded-lg",children:s.jsx(ZE,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("div",{className:"text-sm font-bold text-white",children:"Instagram"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Post or Story"})]})]}),typeof navigator<"u"&&"share"in navigator&&s.jsxs("button",{onClick:()=>Rn("native"),disabled:re,className:"w-full flex items-center gap-4 p-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl transition-all disabled:opacity-50","data-testid":"button-share-native",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(XS,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("div",{className:"text-sm font-bold text-white",children:"More Options"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Use device sharing"})]})]})]}),s.jsxs("div",{className:"border-t border-white/10 pt-4",children:[s.jsxs("button",{onClick:_n,disabled:re,className:"w-full flex items-center justify-center gap-2 py-3 bg-primary/10 hover:bg-primary/20 border border-primary/30 rounded-xl text-primary font-bold text-sm transition-all disabled:opacity-50","data-testid":"button-download-image",children:[s.jsx(JW,{className:"w-4 h-4"}),re?"Generating...":"Download Image"]}),s.jsx("p",{className:"text-[10px] text-center text-muted-foreground mt-2",children:"Save the image and share it anywhere"})]})]})})}),s.jsxs("main",{className:"space-y-8",children:[s.jsxs("section",{className:"grid grid-cols-2 gap-3",children:[s.jsx(wt,{className:"bg-card/30 border-white/5 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-3 flex flex-col items-center justify-center text-center",children:[s.jsx(Ic,{className:"w-4 h-4 text-primary mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Distance"}),s.jsx("div",{className:"text-2xl font-display font-bold text-primary",children:Oi(u.distance)}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:"km"})]})}),s.jsx(wt,{className:"bg-card/30 border-white/5 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-3 flex flex-col items-center justify-center text-center",children:[s.jsx(bf,{className:"w-4 h-4 text-primary mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Time"}),s.jsx("div",{className:"text-2xl font-display font-bold text-primary",children:Ua(u.totalTime)}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:"duration"})]})}),s.jsx(wt,{className:"bg-card/30 border-white/5 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-3 flex flex-col items-center justify-center text-center",children:[s.jsx(Ns,{className:"w-4 h-4 text-primary mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Avg Pace"}),s.jsx("div",{className:"text-2xl font-display font-bold text-primary",children:Hr(u.avgPace)}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:"/km"})]})}),s.jsx(wt,{className:"bg-card/30 border-white/5 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-3 flex flex-col items-center justify-center text-center",children:[s.jsx(Cw,{className:"w-4 h-4 text-primary mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest mb-1",children:"Avg Cadence"}),s.jsx("div",{className:"text-2xl font-display font-bold text-primary",children:(u.avgCadence||u.cadence)&&(u.avgCadence||u.cadence)>0?Math.round(u.avgCadence||u.cadence):"--"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:"spm"})]})})]}),!l&&s.jsx("section",{className:"space-y-4",children:!Qt&&$t.length===0?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-500/5 border border-green-500/10 rounded-lg",children:[s.jsx(Gv,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:"text-green-400 font-medium",children:"No pace drops detected"}),"  consistent effort throughout your run"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:s.jsx($u,{className:"w-5 h-5 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Struggle Awareness Points"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Review pace changes before generating AI analysis"})]})]})}),Qt?s.jsx(wt,{className:"bg-card/30 border-white/5 p-4",children:s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-2/3"}),s.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2"})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:'Review these pace changes and add comments if they were caused by external factors (e.g., traffic lights, water break). Mark as "Not Relevant" to exclude from AI analysis.'}),$t.map((V,se)=>{const Oe=sa.has(V.id),Ue=Math.floor(V.avgPaceBefore/60),Xe=Math.floor(V.avgPaceBefore%60),lt=Math.floor(V.avgPaceDuring/60),Ft=Math.floor(V.avgPaceDuring%60);return s.jsx(wt,{className:`bg-card/30 border-white/5 p-4 ${V.isIrrelevant?"opacity-50":""}`,"data-testid":`struggle-point-${se}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(Zr,{variant:"outline",className:"text-orange-400 border-orange-400/30 text-xs",children:[V.startDistanceKm.toFixed(2)," - ",V.endDistanceKm.toFixed(2)," km"]}),s.jsxs(Zr,{variant:"outline",className:"text-red-400 border-red-400/30 text-xs",children:["-",Math.round(V.dropPercent),"% pace drop"]}),V.isIrrelevant&&s.jsx(Zr,{variant:"outline",className:"text-gray-400 border-gray-400/30 text-xs",children:"Not Relevant"}),V.reviewedAt&&!V.isIrrelevant&&s.jsxs(Zr,{variant:"outline",className:"text-green-400 border-green-400/30 text-xs",children:[s.jsx(Ms,{className:"w-3 h-3 mr-1"}),"Reviewed"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pace: ",Ue,":",Xe.toString().padStart(2,"0"),"  ",lt,":",Ft.toString().padStart(2,"0"),"/km",s.jsx("span",{className:"mx-1",children:""}),"Duration: ",V.durationSeconds,"s"]}),V.coachResponseGiven&&s.jsxs("p",{className:"text-xs text-white/70 italic bg-white/5 p-2 rounded",children:['"',V.coachResponseGiven,'"']}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Your comment (optional):"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(wn,{placeholder:"e.g., Stopped at traffic light, water break...",value:Rr===V.id?wr:_a[V.id]??V.userComment??"",onChange:at=>{const Ve=at.target.value;Mt(xn=>({...xn,[V.id]:Ve})),Rr!==V.id&&Dr(V.id),Sa(Ve)},onBlur:()=>{Rr===V.id&&wr!==(V.userComment||"")&&(Yn(V.id,wr||null,V.isIrrelevant),Mt(at=>{const Ve={...at};return delete Ve[V.id],Ve})),Dr(null)},className:"text-xs h-8 bg-white/5 border-white/10","data-testid":`input-struggle-comment-${se}`,disabled:Oe})})]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(Re,{variant:V.isIrrelevant?"default":"outline",size:"sm",onClick:()=>rn(V),disabled:Oe,className:`text-xs ${V.isIrrelevant?"bg-gray-600":""}`,"data-testid":`button-toggle-irrelevant-${se}`,children:Oe?s.jsx("span",{className:"animate-spin",children:"..."}):V.isIrrelevant?"Mark Relevant":"Not Relevant"})})]})},V.id)})]})]})}),!l&&s.jsxs("section",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-lg",children:s.jsx(vl,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"AI Coach Analysis"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Elite coaching insights for this run"})]})]})}),!Me&&!pe&&s.jsx(wt,{className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border-purple-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-500/10 rounded-full w-fit mx-auto mb-4",children:s.jsx(nL,{className:"w-8 h-8 text-purple-400"})}),s.jsx("h3",{className:"text-lg font-display font-bold text-white mb-2",children:"Get Personalized Coaching"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-sm mx-auto",children:"Our AI coach will analyze your run data, compare it to your history, and provide expert tips tailored to your fitness goals."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[s.jsx(OG,{className:"w-4 h-4 text-purple-400"}),"Self-Assessment - How did the session go? (optional)"]}),s.jsx("textarea",{value:Wt,onChange:V=>gn(V.target.value),placeholder:"Share your thoughts... e.g., 'I got sore shins after 3km', 'Felt strong on the hills', 'Had a muscle knot in my shoulder the whole run', 'Struggled mentally in the middle section'",rows:3,className:"w-full px-3 py-2 rounded-md border border-white/10 bg-background/50 text-foreground placeholder:text-muted-foreground/60 resize-none text-sm","data-testid":"textarea-self-assessment"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Include any aches, pains, challenges, or positive feelings that data might not capture. This helps the AI coach provide more relevant advice."})]}),vt&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-sm",children:[s.jsx($u,{className:"w-4 h-4"}),vt]}),s.jsx("div",{className:"text-center",children:s.jsxs(Re,{onClick:dr,disabled:pe,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold px-8","data-testid":"button-generate-ai-analysis",children:[s.jsx(vl,{className:"w-4 h-4 mr-2"}),"Generate AI Run Analysis"]})})]})}),pe&&s.jsx(wt,{className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border-purple-500/20 backdrop-blur-sm",children:s.jsx(Et,{className:"p-6 text-center space-y-4",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"p-4 bg-purple-500/20 rounded-full w-fit mx-auto animate-spin",children:s.jsx(vl,{className:"w-8 h-8 text-purple-400"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4 mx-auto"}),s.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2 mx-auto"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing your performance data..."})]})})}),Me&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(wt,{className:"bg-gradient-to-br from-purple-900/30 to-blue-900/30 border-purple-500/20 backdrop-blur-sm",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg shrink-0",children:s.jsx(vl,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-display font-bold text-white mb-2",children:"Overall Assessment"}),s.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:Me.overallAssessment})]})]})})}),Me.highlights.length>0&&s.jsx(wt,{className:"bg-card/30 border-green-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Gv,{className:"w-4 h-4 text-green-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-green-400 uppercase tracking-wide",children:"What You Did Well"})]}),s.jsx("ul",{className:"space-y-2",children:Me.highlights.map((V,se)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/80",children:[s.jsx("span",{className:"text-green-400 shrink-0 mt-1",children:""}),V]},se))})]})}),Me.struggles.length>0&&s.jsx(wt,{className:"bg-card/30 border-yellow-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(JS,{className:"w-4 h-4 text-yellow-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-yellow-400 uppercase tracking-wide",children:"Areas to Improve"})]}),s.jsx("ul",{className:"space-y-2",children:Me.struggles.map((V,se)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/80",children:[s.jsx("span",{className:"text-yellow-400 shrink-0 mt-1",children:""}),V]},se))})]})}),Me.weatherImpact&&s.jsx(wt,{className:"bg-card/30 border-cyan-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Am,{className:"w-4 h-4 text-cyan-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-cyan-400 uppercase tracking-wide",children:"Weather Impact"})]}),s.jsx("p",{className:"text-sm text-white/80",children:Me.weatherImpact})]})}),Me.warmUpAnalysis&&s.jsx(wt,{className:"bg-card/30 border-rose-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Em,{className:"w-4 h-4 text-rose-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-rose-400 uppercase tracking-wide",children:"Warm-Up Analysis"})]}),s.jsx("p",{className:"text-sm text-white/80",children:Me.warmUpAnalysis})]})}),Me.goalProgress&&s.jsx(wt,{className:"bg-card/30 border-violet-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(JS,{className:"w-4 h-4 text-violet-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-violet-400 uppercase tracking-wide",children:"Goal Progress"})]}),s.jsx("p",{className:"text-sm text-white/80",children:Me.goalProgress})]})}),Me.targetTimeAnalysis&&s.jsx(wt,{className:"bg-card/30 border-amber-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bf,{className:"w-4 h-4 text-amber-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-amber-400 uppercase tracking-wide",children:"Target Time"})]}),s.jsx("p",{className:"text-sm text-white/80",children:Me.targetTimeAnalysis})]})}),Me.personalBests.length>0&&s.jsx(wt,{className:"bg-card/30 border-primary/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Zv,{className:"w-4 h-4 text-primary"}),s.jsx("h3",{className:"text-sm font-display font-bold text-primary uppercase tracking-wide",children:"Achievements"})]}),s.jsx("ul",{className:"space-y-2",children:Me.personalBests.map((V,se)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-white/80",children:[s.jsx("span",{className:"text-primary shrink-0 mt-1",children:""}),V]},se))})]})}),Me.demographicComparison&&s.jsx(wt,{className:"bg-card/30 border-blue-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ro,{className:"w-4 h-4 text-blue-400"}),s.jsx("h3",{className:"text-sm font-display font-bold text-blue-400 uppercase tracking-wide",children:"How You Compare"})]}),s.jsx("p",{className:"text-sm text-white/80",children:Me.demographicComparison})]})}),Me.coachingTips.length>0&&s.jsx(wt,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(GS,{className:"w-4 h-4 text-primary"}),s.jsx("h3",{className:"text-sm font-display font-bold text-primary uppercase tracking-wide",children:"Coaching Tips"})]}),s.jsx("ul",{className:"space-y-3",children:Me.coachingTips.map((V,se)=>s.jsxs("li",{className:"flex items-start gap-3 text-sm text-white/90 bg-white/5 rounded-lg p-3",children:[s.jsxs("span",{className:"text-primary font-bold shrink-0",children:[se+1,"."]}),V]},se))})]})})]})]}),(Zt||u&&u.aiCoachEnabled!==!1)&&!l&&s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsx(vl,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"AI Coaching Logs"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"View coaching advice from your run"})]})]}),s.jsx(Re,{variant:"outline",size:"sm",onClick:()=>{!Be&&Nn.length===0&&Gn(),ot(!Be)},className:"border-purple-500/30 text-purple-400 hover:bg-purple-500/10","data-testid":"button-toggle-coaching-logs",children:Tn?"Loading...":Be?"Hide Logs":"View Logs"})]}),Be&&s.jsx(wt,{className:"bg-card/30 border-purple-500/20 backdrop-blur-sm",children:s.jsx(Et,{className:"p-4",children:Nn.length===0?s.jsx("p",{className:"text-sm text-white/60 text-center py-4",children:Tn?"Loading coaching logs...":"No AI coaching interactions recorded for this run"}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-xs text-white/60 mb-2",children:[Nn.length," coaching interaction",Nn.length!==1?"s":"","  Total latency: ",Nn.reduce((V,se)=>V+(se.latencyMs||0),0),"ms"]}),Nn.map((V,se)=>s.jsxs("div",{className:"border border-white/10 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-purple-400 font-mono",children:["#",se+1,"  ",V.eventType||"coaching"]}),s.jsxs("span",{className:"text-white/40",children:[new Date(V.createdAt).toLocaleTimeString(),V.latencyMs?`  ${V.latencyMs}ms`:""]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-white/60",children:[s.jsxs("div",{children:["Distance: ",V.distanceKm?.toFixed(2)||"-"," km"]}),s.jsxs("div",{children:["Duration: ",V.elapsedSeconds?Math.floor(V.elapsedSeconds/60)+":"+String(Math.floor(V.elapsedSeconds%60)).padStart(2,"0"):"-"]}),V.currentPace&&s.jsxs("div",{children:["Pace: ",V.currentPace," /km"]}),V.cadence&&s.jsxs("div",{children:["Cadence: ",V.cadence," spm"]})]}),V.terrain||V.weather?s.jsxs("div",{className:"flex gap-2 text-xs flex-wrap",children:[V.terrain?s.jsxs(Zr,{variant:"outline",className:"text-orange-400 border-orange-400/30",children:["Grade: ",V.terrain?.grade?.toFixed(1)||"-","%"]}):null,V.weather?s.jsxs(Zr,{variant:"outline",className:"text-blue-400 border-blue-400/30",children:[V.weather?.temperature?`${Math.round(V.weather.temperature)}C`:""," ",V.weather?.condition||""]}):null]}):null,V.topic&&s.jsxs("div",{className:"text-xs text-purple-300",children:["Topic: ",V.topic]}),V.prompt&&s.jsxs("div",{className:"bg-white/5 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-purple-300 font-medium mb-1",children:"Your question:"}),s.jsx("div",{className:"text-white/70",children:V.prompt})]}),s.jsxs("div",{className:"bg-primary/5 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-primary font-medium mb-1",children:"Coach:"}),s.jsx("div",{className:"text-white/80",children:V.responseText||"-"})]})]},V.id))]})})})]}),u.weatherData&&s.jsx(wt,{className:"bg-gradient-to-br from-blue-900/30 to-gray-900/30 border-blue-500/20 backdrop-blur-sm",children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(u.weatherData.condition||"").toLowerCase().includes("rain")?s.jsx(WS,{className:"w-5 h-5 text-blue-400"}):(u.weatherData.condition||"").toLowerCase().includes("cloud")?s.jsx(Am,{className:"w-5 h-5 text-gray-400"}):s.jsx(oN,{className:"w-5 h-5 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Weather During Run"}),s.jsxs("div",{className:"text-lg font-display font-bold text-white",children:[typeof u.weatherData.temperature=="number"&&!isNaN(u.weatherData.temperature)?`${Math.round(u.weatherData.temperature)}C`:"-","  ",u.weatherData.condition||"-"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-white/10",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(gY,{className:"w-4 h-4 mx-auto text-orange-400 mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Feels"}),s.jsx("div",{className:"text-sm text-white font-medium",children:typeof u.weatherData.feelsLike=="number"&&!isNaN(u.weatherData.feelsLike)?`${Math.round(u.weatherData.feelsLike)}`:"-"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(iL,{className:"w-4 h-4 mx-auto text-gray-400 mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Wind"}),s.jsx("div",{className:"text-sm text-white font-medium",children:typeof u.weatherData.windSpeed=="number"&&!isNaN(u.weatherData.windSpeed)?`${Math.round(u.weatherData.windSpeed)} km/h`:"-"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(X4,{className:"w-4 h-4 mx-auto text-blue-400 mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Humidity"}),s.jsx("div",{className:"text-sm text-white font-medium",children:typeof u.weatherData.humidity=="number"&&!isNaN(u.weatherData.humidity)?`${u.weatherData.humidity}%`:"-"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(WS,{className:"w-4 h-4 mx-auto text-blue-300 mb-1"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Rain"}),s.jsx("div",{className:"text-sm text-white font-medium",children:typeof u.weatherData.precipitationProbability=="number"&&!isNaN(u.weatherData.precipitationProbability)?`${u.weatherData.precipitationProbability}%`:"0%"})]})]})]})}),hr&&mr.length>0&&s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(iN,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Route Pace"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Speed variation across your run"})]})]}),s.jsxs(wt,{className:"bg-card/30 border-white/5 p-0 overflow-hidden relative",children:[s.jsx("div",{className:"h-72 w-full",children:s.jsxs(_T,{center:[kt[0]?.lat||0,kt[0]?.lng||0],zoom:15,style:{height:"100%",width:"100%"},zoomControl:!1,attributionControl:!1,children:[s.jsx(NT,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),mr.map((V,se)=>s.jsx(jT,{positions:V.positions,color:V.color,weight:5,opacity:.95},se)),kt.length>0&&s.jsx(Bu,{center:[kt[0].lat,kt[0].lng],radius:10,fillColor:"#22c55e",fillOpacity:1,color:"#ffffff",weight:3}),kt.length>1&&s.jsx(Bu,{center:[kt[kt.length-1].lat,kt[kt.length-1].lng],radius:10,fillColor:"#ef4444",fillOpacity:1,color:"#ffffff",weight:3}),s.jsx(oje,{positions:kt.map(V=>[V.lat,V.lng])})]})}),s.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 flex items-center gap-2 shadow-lg",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Slower"}),s.jsx("div",{className:"w-32 h-3 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #22c55e, #eab308, #f97316, #ef4444)"}}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Faster"})]})]})]}),u&&tt&&tt.dataPoints&&tt.dataPoints.length>0&&s.jsxs("section",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-lg font-display font-bold uppercase tracking-wide flex items-center gap-2",children:[s.jsx(Xd,{className:"w-5 h-5 text-primary"})," Performance Charts"]}),s.jsx(wv,{metric:"pace",icon:s.jsx(Xd,{className:"w-5 h-5 text-blue-400"}),dataPoints:tt.dataPoints,stats:tt.paceStats?{avg:tt.paceStats.avg,min:tt.paceStats.min,max:tt.paceStats.min}:void 0,defaultOpen:!0,totalDistance:tt.distance||u.distance||1,totalDuration:tt.duration||u.totalTime||600}),tt.dataPoints.some(V=>V.heartRate!==void 0)&&s.jsx(wv,{metric:"heartRate",icon:s.jsx(Em,{className:"w-5 h-5 text-red-500"}),dataPoints:tt.dataPoints,stats:u.avgHeartRate?{avg:u.avgHeartRate,max:u.maxHeartRate}:void 0,defaultOpen:!1,totalDistance:tt.distance||u.distance||1,totalDuration:tt.duration||u.totalTime||600}),tt.dataPoints.some(V=>V.elevation!==void 0)&&s.jsx(wv,{metric:"elevation",icon:s.jsx(Ns,{className:"w-5 h-5 text-green-500"}),dataPoints:tt.dataPoints,stats:tt.elevationProfile?{min:0,max:tt.elevationProfile.totalGain,avg:tt.elevationProfile.totalGain}:void 0,defaultOpen:!1,totalDistance:tt.distance||u.distance||1,totalDuration:tt.duration||u.totalTime||600}),tt.dataPoints.some(V=>V.cadence!==void 0)&&s.jsx(wv,{metric:"cadence",icon:s.jsx(J4,{className:"w-5 h-5 text-yellow-500"}),dataPoints:tt.dataPoints,stats:tt.cadenceStats,defaultOpen:!1,totalDistance:tt.distance||u.distance||1,totalDuration:tt.duration||u.totalTime||600})]}),Dn.length>0&&s.jsxs("section",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(Xd,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Km Splits"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Pace per kilometer"})]})]})}),s.jsx(wt,{className:"bg-card/30 border-white/5 p-4 overflow-hidden",children:s.jsx("div",{className:"space-y-3",children:Dn.map((V,se)=>{const Oe=u.avgPace?parseInt(u.avgPace.split(":")[0])*60+parseInt(u.avgPace.split(":")[1]):0,Ue=V.paceSeconds||0,Xe=Ue<Oe,lt=Ue>Oe+15;return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-primary",children:se+1})}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Kilometer ",se+1]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-lg font-bold ${Xe?"text-green-500":lt?"text-red-400":"text-primary"}`,children:Hr(V.pace)}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"/km"}),Xe&&s.jsx(Ns,{className:"w-4 h-4 text-green-500"}),lt&&s.jsx(Ns,{className:"w-4 h-4 text-red-400 rotate-180"})]})]},se)})})})]}),!l&&$t.length>0&&s.jsxs("section",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:s.jsx($u,{className:"w-5 h-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Runner Struggle Analysis"}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest",children:"Moments where you slowed down"})]})]})}),s.jsxs(wt,{className:"bg-card/30 border-white/5 p-4 overflow-hidden",children:[s.jsx("div",{className:"space-y-4",children:$t.map((V,se)=>{const Oe=Rr===V.id,Ue=Math.floor(V.avgPaceBefore/60),Xe=Math.floor(V.avgPaceBefore%60),lt=Math.floor(V.avgPaceDuring/60),Ft=Math.floor(V.avgPaceDuring%60),at=[{value:"hill",label:"Hill"},{value:"fatigue",label:"Fatigue"},{value:"breathing",label:"Breathing"},{value:"heat",label:"Heat"},{value:"cold",label:"Cold"},{value:"hydration",label:"Hydration"},{value:"nutrition",label:"Nutrition"},{value:"injury",label:"Injury/Pain"},{value:"headache",label:"Headache"},{value:"vision",label:"Vision went blurry"},{value:"chest",label:"Chest pain"},{value:"mental",label:"Mental"},{value:"other",label:"Other"}];return s.jsxs("div",{className:"py-3 border-b border-white/5 last:border-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-orange-500",children:se+1})}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium",children:[V.startDistanceKm.toFixed(1)," - ",V.endDistanceKm.toFixed(1)," km"]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Math.floor(V.durationSeconds/60),":",(V.durationSeconds%60).toString().padStart(2,"0")," duration"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[Ue,":",Xe.toString().padStart(2,"0")]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("span",{className:"text-sm text-red-400 font-medium",children:[lt,":",Ft.toString().padStart(2,"0")]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"/km"})]}),s.jsxs(Zr,{className:"bg-red-500/20 text-red-400 text-[9px]",children:[Math.round(V.dropPercent),"% slower"]})]})]}),Oe?s.jsxs("div",{className:"mt-3 space-y-3 bg-white/5 rounded-lg p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"What caused this slowdown?"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:at.map(Ve=>s.jsx("button",{onClick:()=>Mi(Ve.value),className:`px-3 py-1 rounded-full text-xs transition-colors ${Ir===Ve.value?"bg-primary text-primary-foreground":"bg-white/10 text-muted-foreground hover:bg-white/20"}`,children:Ve.label},Ve.value))})]}),s.jsx("div",{children:s.jsx(wn,{placeholder:"Add a note (optional)...",value:br,onChange:Ve=>wa(Ve.target.value),className:"bg-white/5 border-white/10 text-sm"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Re,{size:"sm",onClick:()=>yi(V.id),className:"flex-1",children:[s.jsx(Ms,{className:"w-4 h-4 mr-1"})," Save"]}),s.jsx(Re,{size:"sm",variant:"outline",onClick:()=>Dr(null),children:"Cancel"})]})]}):s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[V.causeTag?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"bg-orange-500/20 text-orange-400",children:at.find(Ve=>Ve.value===V.causeTag)?.label||V.causeTag}),V.causeNote&&s.jsxs("span",{className:"text-xs text-muted-foreground italic",children:['"',V.causeNote,'"']})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No cause recorded"}),s.jsxs(Re,{size:"sm",variant:"ghost",onClick:()=>oa(V),className:"h-7 px-2",children:[s.jsx(ku,{className:"w-3 h-3 mr-1"}),V.causeTag?"Edit":"Annotate"]})]})]},V.id)})}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/5",children:s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[s.jsx(GS,{className:"w-3 h-3 inline mr-1"}),"Annotating your struggles helps the AI coach give you better advice in future runs"]})})]})]}),s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[sn?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xs font-display font-bold uppercase tracking-widest flex items-center gap-2",children:[s.jsx(YE,{className:"w-3 h-3 text-primary"})," Heart Rate Zone Breakdown"]}),s.jsx("div",{className:"space-y-3",children:Na.map(V=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-[11px]",children:[s.jsxs("span",{className:"text-muted-foreground font-medium",children:[V.name," ",s.jsx("span",{className:"text-[9px] opacity-40 px-1",children:""})," ",V.label]}),s.jsxs("span",{className:"text-primary font-bold",children:[V.value,"%"]})]}),s.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:s.jsx(At.div,{initial:{width:0},animate:{width:`${V.value}%`},className:"h-full rounded-full",style:{backgroundColor:V.color}})})]},V.name))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xs font-display font-bold uppercase tracking-widest flex items-center gap-2 text-muted-foreground/50",children:[s.jsx(YE,{className:"w-3 h-3"})," Heart Rate Zone Breakdown"]}),s.jsx("div",{className:"space-y-3 opacity-30",children:Na.map(V=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-[11px]",children:[s.jsxs("span",{className:"text-muted-foreground font-medium",children:[V.name," ",s.jsx("span",{className:"text-[9px] opacity-40 px-1",children:""})," ",V.label]}),s.jsx("span",{className:"text-muted-foreground",children:"--%"})]}),s.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-muted/20 w-0"})})]},V.name))}),s.jsx("p",{className:"text-xs text-muted-foreground/50 italic",children:"No heart rate data recorded"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xs font-display font-bold uppercase tracking-widest flex items-center gap-2",children:[s.jsx(Xd,{className:"w-3 h-3 text-primary"})," Technical Metrics"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cw,{className:"w-4 h-4 text-orange-400"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest font-bold",children:"Cadence"})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[(()=>{const V=u.avgCadence,se=isNaN(V)||V===void 0?null:Math.round(V),Oe=Q&&se&&se>=Q.idealCadenceMin&&se<=Q.idealCadenceMax;return s.jsx("span",{className:`text-3xl font-display font-bold ${Oe?"text-green-400":se?"text-yellow-400":"text-primary"}`,children:se??"-"})})(),s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"spm"})]}),X?s.jsx("p",{className:"text-[9px] text-muted-foreground mt-2 leading-tight animate-pulse",children:"Analyzing your cadence..."}):Q?s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("p",{className:"text-[9px] text-muted-foreground leading-tight",children:["Ideal range: ",s.jsxs("span",{className:"text-primary font-medium",children:[Q.idealCadenceMin,"-",Q.idealCadenceMax," spm"]})]}),s.jsx("p",{className:"text-[9px] text-muted-foreground leading-tight",children:Q.strideAssessment})]}):s.jsx("p",{className:"text-[9px] text-muted-foreground mt-2 leading-tight",children:"Average steps per minute throughout the session."})]}),s.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xd,{className:"w-4 h-4 text-cyan-400"}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-widest font-bold",children:"Pace"})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-3xl font-display font-bold text-primary",children:Hr(u.avgPace)}),s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:"/km"})]}),s.jsx("p",{className:"text-[9px] text-muted-foreground mt-2 leading-tight",children:"Average pace throughout the session."})]})]})]}),Q&&Q.coachingAdvice&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xs font-display font-bold uppercase tracking-widest flex items-center gap-2",children:[s.jsx(Cw,{className:"w-3 h-3 text-orange-400"})," AI Cadence Coach"]}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-500/5 rounded-2xl p-4 border border-orange-500/20",children:s.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed",children:Q.coachingAdvice})})]}),u.routeName&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xs font-display font-bold uppercase tracking-widest flex items-center gap-2",children:[s.jsx(Pw,{className:"w-3 h-3 text-primary"})," Rate This Route"]}),s.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-5 border border-primary/20",children:Y?s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(V=>s.jsx(Pw,{className:`w-5 h-5 ${V<=(R||0)?"text-yellow-400 fill-yellow-400":"text-gray-600"}`},V))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["You rated this route ",s.jsxs("span",{className:"text-primary font-bold",children:[R,"/10"]})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Your feedback helps improve future route suggestions!"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["How was the ",s.jsx("span",{className:"text-primary font-semibold",children:u.routeName?.split(" - ")[1]||"route"}),"?"]}),s.jsx("div",{className:"flex justify-center gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(V=>s.jsx("button",{onClick:()=>ft(V),onMouseEnter:()=>F(V),onMouseLeave:()=>F(null),className:"p-1 transition-transform hover:scale-110","data-testid":`button-rate-${V}`,children:s.jsx(Pw,{className:`w-6 h-6 transition-colors ${V<=(D||R||0)?"text-yellow-400 fill-yellow-400":"text-gray-600 hover:text-yellow-400/50"}`})},V))}),s.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground px-2",children:[s.jsx("span",{children:"Terrible"}),s.jsx("span",{children:"Perfect"})]})]})})]}),!l&&s.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10 space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Re,{variant:"default",className:"flex-1 bg-primary hover:bg-primary/90",onClick:Ls,"data-testid":"button-run-again",children:[s.jsx(kc,{className:"w-4 h-4 mr-2"}),"Run Again"]}),s.jsxs(Re,{variant:"outline",className:"flex-1 border-primary/30 text-primary hover:bg-primary/10",onClick:qi,disabled:kn,"data-testid":"button-save-route",children:[s.jsx(yx,{className:"w-4 h-4 mr-2"}),kn?"Saving...":"Save Route"]})]}),Zt&&s.jsxs(Re,{variant:"outline",className:"w-full border-green-500/30 text-green-400 hover:bg-green-500/10",onClick:()=>Yt(!0),"data-testid":"button-create-event",children:[s.jsx($o,{className:"w-4 h-4 mr-2"}),"Create Event from This Run"]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Run this route again with AI coaching or save it to your favorites"})]}),!l&&s.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:s.jsxs(Re,{variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-500/50",onClick:()=>Ne(!0),"data-testid":"button-delete-run",children:[s.jsx(uf,{className:"w-4 h-4 mr-2"}),"Delete This Run"]})})]})]}),s.jsx(Lm,{open:G,onOpenChange:Ne,children:s.jsxs(jf,{className:"bg-card border-white/10",children:[s.jsxs(Nf,{children:[s.jsx(Pf,{children:"Delete Run?"}),s.jsx(Cf,{children:"This will permanently delete this run record from your history. This action cannot be undone."})]}),s.jsxs(Tf,{children:[s.jsx(Af,{disabled:de,children:"Cancel"}),s.jsx(zm,{onClick:ja,disabled:de,className:"bg-red-500 hover:bg-red-600 text-white",children:de?"Deleting...":"Delete Run"})]})]})}),s.jsx(Lm,{open:ur,onOpenChange:Yt,children:s.jsxs(jf,{className:"bg-card border-white/10 max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(Nf,{children:[s.jsxs(Pf,{className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-5 h-5 text-green-400"}),"Create Event"]}),s.jsx(Cf,{children:"Create a public event from this run route. Other users can browse and run this event."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Event Name *"}),s.jsx(wn,{value:mt.name,onChange:V=>Dt(se=>({...se,name:V.target.value})),placeholder:"e.g., Hamilton Lake Parkrun",className:"bg-background/50","data-testid":"input-event-name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Country *"}),s.jsx(wn,{value:mt.country,onChange:V=>Dt(se=>({...se,country:V.target.value})),placeholder:"e.g., New Zealand",className:"bg-background/50","data-testid":"input-event-country"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"City"}),s.jsx(wn,{value:mt.city,onChange:V=>Dt(se=>({...se,city:V.target.value})),placeholder:"e.g., Hamilton",className:"bg-background/50","data-testid":"input-event-city"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Event Type"}),s.jsxs("select",{value:mt.eventType,onChange:V=>Dt(se=>({...se,eventType:V.target.value})),className:"w-full h-10 px-3 rounded-md border border-white/10 bg-background/50 text-foreground","data-testid":"select-event-type",children:[s.jsx("option",{value:"parkrun",children:"Parkrun"}),s.jsx("option",{value:"5k",children:"5K"}),s.jsx("option",{value:"10k",children:"10K"}),s.jsx("option",{value:"half_marathon",children:"Half Marathon"}),s.jsx("option",{value:"marathon",children:"Marathon"}),s.jsx("option",{value:"trail",children:"Trail Run"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Description"}),s.jsx("textarea",{value:mt.description,onChange:V=>Dt(se=>({...se,description:V.target.value})),placeholder:"Brief description of the event...",rows:2,className:"w-full px-3 py-2 rounded-md border border-white/10 bg-background/50 text-foreground resize-none","data-testid":"textarea-event-description"})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-white/10",children:[s.jsx("label",{className:"text-sm font-medium",children:"Schedule"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"scheduleType",checked:mt.scheduleType==="recurring",onChange:()=>Dt(V=>({...V,scheduleType:"recurring"})),className:"accent-primary","data-testid":"radio-schedule-recurring"}),s.jsx("span",{className:"text-sm",children:"Recurring"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"scheduleType",checked:mt.scheduleType==="one_time",onChange:()=>Dt(V=>({...V,scheduleType:"one_time"})),className:"accent-primary","data-testid":"radio-schedule-onetime"}),s.jsx("span",{className:"text-sm",children:"One-time"})]})]}),mt.scheduleType==="recurring"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("select",{value:mt.recurrencePattern,onChange:V=>Dt(se=>({...se,recurrencePattern:V.target.value})),className:"w-full h-10 px-3 rounded-md border border-white/10 bg-background/50 text-foreground","data-testid":"select-recurrence-pattern",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"fortnightly",children:"Fortnightly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]}),["weekly","fortnightly"].includes(mt.recurrencePattern)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Day of Week"}),s.jsxs("select",{value:mt.dayOfWeek,onChange:V=>Dt(se=>({...se,dayOfWeek:parseInt(V.target.value)})),className:"w-full h-10 px-3 rounded-md border border-white/10 bg-background/50 text-foreground","data-testid":"select-day-of-week",children:[s.jsx("option",{value:0,children:"Sunday"}),s.jsx("option",{value:1,children:"Monday"}),s.jsx("option",{value:2,children:"Tuesday"}),s.jsx("option",{value:3,children:"Wednesday"}),s.jsx("option",{value:4,children:"Thursday"}),s.jsx("option",{value:5,children:"Friday"}),s.jsx("option",{value:6,children:"Saturday"})]})]}),mt.recurrencePattern==="monthly"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Day of Month"}),s.jsx("select",{value:mt.dayOfMonth,onChange:V=>Dt(se=>({...se,dayOfMonth:parseInt(V.target.value)})),className:"w-full h-10 px-3 rounded-md border border-white/10 bg-background/50 text-foreground","data-testid":"select-day-of-month",children:Array.from({length:31},(V,se)=>s.jsx("option",{value:se+1,children:se+1},se+1))})]})]}),mt.scheduleType==="one_time"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Event Date *"}),s.jsx(wn,{type:"date",value:mt.specificDate,onChange:V=>Dt(se=>({...se,specificDate:V.target.value})),className:"bg-background/50","data-testid":"input-event-date"})]})]})]}),s.jsxs(Tf,{children:[s.jsx(Af,{disabled:On,children:"Cancel"}),s.jsx(Re,{onClick:vi,disabled:On||!mt.name.trim()||!mt.country.trim()||mt.scheduleType==="one_time"&&!mt.specificDate,className:"bg-green-500 hover:bg-green-600 text-white","data-testid":"button-submit-create-event",children:On?"Creating...":"Create Event"})]})]})})]})}const U5=["Unfit","Casual","Athletic","Very Fit","Elite"];function V5(){Vr();const[e,t]=v.useState(!1),n=v.useRef(null),r=v.useRef(null),[i,o]=v.useState({name:"",dob:"",gender:"",height:"",weight:"",fitnessLevel:"Casual",desiredFitnessLevel:"Athletic",coachName:"",profilePic:""});v.useEffect(()=>{const _=localStorage.getItem("userProfile");if(_){const N=JSON.parse(_);o(S=>({...S,name:N.name||"",dob:N.dob||"",gender:N.gender||"",height:N.height||"",weight:N.weight||"",fitnessLevel:N.fitnessLevel||"Casual",desiredFitnessLevel:N.desiredFitnessLevel||"Athletic",coachName:N.coachName||"",profilePic:N.profilePic||""}))}},[]);const l=()=>{t(!1),n.current?.click()},u=()=>{t(!1),r.current?.click()},h=_=>{const N=_.target.files?.[0];if(N){const S=new FileReader;S.onloadend=()=>{o(T=>({...T,profilePic:S.result}))},S.readAsDataURL(N)}},m=(_,N)=>{o(S=>({...S,[_]:N}))},p=_=>{const N=_.replace(/\D/g,"");return N.length<=2?N:N.length<=4?`${N.slice(0,2)}/${N.slice(2)}`:`${N.slice(0,2)}/${N.slice(2,4)}/${N.slice(4,8)}`},g=_=>{const N=p(_.target.value);m("dob",N)},b=async _=>{if(_.preventDefault(),!i.name||!i.dob||!i.gender||!i.height||!i.weight){Se.error("Please fill in all fields");return}const N=localStorage.getItem("userProfile"),S=N?JSON.parse(N):{},T={...S,...i};if(S.id)try{const C=await fetch(`/api/users/${S.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,dob:i.dob,gender:i.gender,height:i.height,weight:i.weight,fitnessLevel:i.fitnessLevel,desiredFitnessLevel:i.desiredFitnessLevel,coachName:i.coachName,profilePic:i.profilePic})});if(C.ok){const M=await C.json();localStorage.setItem("userProfile",JSON.stringify(M))}else console.error("Failed to save profile to database"),localStorage.setItem("userProfile",JSON.stringify(T))}catch(C){console.error("Error saving profile:",C),localStorage.setItem("userProfile",JSON.stringify(T))}else localStorage.setItem("userProfile",JSON.stringify(T));window.location.href="/"};return s.jsx("div",{className:"min-h-screen bg-background text-foreground p-6 flex flex-col justify-center",children:s.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto w-full",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-display font-bold text-primary uppercase tracking-wider mb-2",children:"User Profile"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Create your profile to get started"})]}),s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"w-24 h-24 rounded-full border-2 border-primary/50 overflow-hidden bg-white/5 flex items-center justify-center cursor-pointer hover:border-primary transition-colors",onClick:()=>t(!e),"data-testid":"button-profile-photo",children:[i.profilePic?s.jsx("img",{src:i.profilePic,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(Oc,{className:"w-12 h-12 text-muted-foreground"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:s.jsx(Kv,{className:"w-6 h-6 text-white"})})]}),s.jsx(Da,{children:e&&s.jsxs(At.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 w-48 bg-card border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:u,className:"w-full px-4 py-3 text-left text-xs font-display font-bold uppercase tracking-widest flex items-center gap-3 hover:bg-white/5 transition-colors border-b border-white/5","data-testid":"button-take-photo",children:[s.jsx(Kv,{className:"w-4 h-4 text-primary"})," Take Photo"]}),s.jsxs("button",{type:"button",onClick:l,className:"w-full px-4 py-3 text-left text-xs font-display font-bold uppercase tracking-widest flex items-center gap-3 hover:bg-white/5 transition-colors","data-testid":"button-upload-photo",children:[s.jsx(rL,{className:"w-4 h-4 text-primary"})," From Gallery"]})]})}),s.jsx("input",{type:"file",ref:n,className:"hidden",accept:"image/*",onChange:h}),s.jsx("input",{type:"file",ref:r,className:"hidden",accept:"image/*",capture:"user",onChange:h})]}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"mt-3 text-xs font-display font-bold text-primary uppercase tracking-widest flex items-center gap-2 hover:opacity-80",children:"Add Profile Photo"})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4","data-testid":"form-profile",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Your Name"}),s.jsx("input",{type:"text",placeholder:"Enter your name",value:i.name,onChange:_=>m("name",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Date of Birth"}),s.jsx("input",{type:"text",placeholder:"DD/MM/YYYY",value:i.dob,onChange:g,maxLength:10,className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-dob"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Gender"}),s.jsxs("select",{value:i.gender,onChange:_=>m("gender",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"select-gender",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Height (cm)"}),s.jsx("input",{type:"number",placeholder:"Height",value:i.height,onChange:_=>m("height",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-height"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Weight (kg)"}),s.jsx("input",{type:"number",placeholder:"Weight",value:i.weight,onChange:_=>m("weight",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-weight"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Current Fitness Level"}),s.jsx("select",{value:i.fitnessLevel,onChange:_=>m("fitnessLevel",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"select-fitness",children:U5.map(_=>s.jsx("option",{value:_,children:_},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Desired Fitness Level"}),s.jsx("select",{value:i.desiredFitnessLevel,onChange:_=>m("desiredFitnessLevel",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"select-desired-fitness",children:U5.map(_=>s.jsx("option",{value:_,children:_},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"AI Coach's Name"}),s.jsx("input",{type:"text",placeholder:"e.g., Coach AI, Alex, etc.",value:i.coachName,onChange:_=>m("coachName",_.target.value),className:"w-full px-3 py-2 bg-card border border-white/10 rounded-lg text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-coach-name"})]}),s.jsxs(Re,{type:"submit",size:"lg",className:"w-full h-12 mt-6 text-lg font-display uppercase tracking-widest bg-primary text-background hover:bg-primary/90 shadow-[0_0_30px_rgba(6,182,212,0.4)] transition-all flex items-center justify-center gap-2","data-testid":"button-create-profile",children:["Get Started",s.jsx(yf,{className:"w-5 h-5"})]})]})]})})}const H5=["Unfit","Casual","Athletic","Very Fit","Elite"];function cje(){const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)&&!("MSStream"in window)}function uje(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}async function q5(e){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.log("[Push] Push notifications not supported"),cje()&&!uje()?{success:!1,error:"safari_requires_homescreen"}:{success:!1,error:"not_supported"};try{console.log("[Push] Checking server configuration...");const t=await fetch("/api/push/status"),{configured:n}=await t.json();if(!n)return console.log("[Push] Push notifications not configured on server"),{success:!1,error:"not_configured"};console.log("[Push] Getting VAPID key...");const r=await fetch("/api/push/vapid-public-key");if(!r.ok)return console.log("[Push] Could not get VAPID key"),{success:!1,error:"not_configured"};const{vapidPublicKey:i}=await r.json();console.log("[Push] Got VAPID key"),console.log("[Push] Registering service worker...");const o=await navigator.serviceWorker.register("/sw.js");console.log("[Push] Service worker registered, waiting for ready..."),await navigator.serviceWorker.ready,console.log("[Push] Service worker ready"),console.log("[Push] Requesting notification permission...");const l=await Notification.requestPermission();if(console.log("[Push] Permission result:",l),l!=="granted")return console.log("[Push] Notification permission denied"),{success:!1,error:"permission_denied"};console.log("[Push] Subscribing to push manager...");const u=await o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dje(i)});console.log("[Push] Got push subscription"),console.log("[Push] Saving subscription to server...");try{if(!(await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,subscription:u.toJSON()})})).ok)return console.error("[Push] Failed to save subscription to server"),{success:!1,error:"failed"}}catch{console.warn("[Push] Network error saving subscription, verifying status...");try{const m=await fetch(`/api/push/subscription-status?userId=${e}`);if(m.ok){const{hasSubscription:p}=await m.json();if(p)return console.log("[Push] Subscription was saved despite network error"),{success:!0}}}catch{}return{success:!1,error:"failed"}}return console.log("[Push] Successfully subscribed"),{success:!0}}catch(t){console.error("[Push] Registration failed:",t);try{const n=await fetch(`/api/push/subscription-status?userId=${e}`);if(n.ok){const{hasSubscription:r}=await n.json();if(r)return console.log("[Push] Subscription exists despite error, treating as success"),{success:!0}}}catch{}return{success:!1,error:"failed"}}}function dje(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function fje(){const[,e]=Vr(),[t,n]=v.useState(null),[r,i]=v.useState(!1),[o,l]=v.useState(!1),[u,h]=v.useState(""),[m,p]=v.useState(!1),[g,b]=v.useState(!1),[_,N]=v.useState([]),[S,T]=v.useState(!1),[C,M]=v.useState(!1),[E,k]=v.useState(""),[R,I]=v.useState(!1),[D,F]=v.useState(null),[Y,ne]=v.useState(()=>localStorage.getItem("hidePrivacyDialog")==="true"),W=v.useRef(null),Z=v.useRef(null),re=$f(),ce=async he=>{try{const ot=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(ot){const Zt=await fetch(`/api/push/subscription-status?userId=${he}&endpoint=${encodeURIComponent(ot.endpoint)}`);Zt.ok&&((await Zt.json()).hasSubscription?b(!1):(console.log("[Push] Browser has subscription but server lacks it - needs sync"),b(!0)))}else console.log("[Push] Browser has permission but no subscription - needs setup"),b(!0)}catch(Be){console.error("[Push] Failed to check subscription sync:",Be)}},fe=async()=>{if(!t?.id)return;(await q5(t.id)).success?(b(!1),Se.success("Notifications re-enabled for this device")):Se.error("Failed to re-enable notifications")};v.useEffect(()=>{const he=localStorage.getItem("userProfile");if(he){const Be=JSON.parse(he);if(Be.friends||(Be.friends=[]),n(Be),"Notification"in window){const ot=Notification.permission==="granted";p(ot),ot&&Be.id&&"serviceWorker"in navigator&&ce(Be.id)}Be.id&&!Be.userCode&&fetch(`/api/users/${Be.id}`).then(ot=>ot.ok?ot.json():null).then(ot=>{if(ot?.userCode){const Zt={...Be,userCode:ot.userCode};n(Zt),localStorage.setItem("userProfile",JSON.stringify(Zt))}}).catch(()=>{})}else e("/")},[e]);const{data:K=[],isLoading:Q}=ta({queryKey:["friend-requests-incoming",t?.id],queryFn:async()=>{if(!t?.id)return[];const he=await fetch(`/api/friend-requests/incoming/${t.id}`);return he.ok?he.json():[]},enabled:!!t?.id}),{data:H=[],isLoading:X}=ta({queryKey:["friend-requests-outgoing",t?.id],queryFn:async()=>{if(!t?.id)return[];const he=await fetch(`/api/friend-requests/outgoing/${t.id}`);return he.ok?he.json():[]},enabled:!!t?.id}),{data:$=[]}=ta({queryKey:["friends",t?.id],queryFn:async()=>{if(!t?.id)return[];const he=await fetch(`/api/users/${t.id}/friends`);return he.ok?he.json():[]},enabled:!!t?.id});v.useEffect(()=>{if(t&&$.length>=0){const he=$.map(ot=>({name:ot.name,userCode:ot.userCode,friendId:ot.friendId,profilePic:ot.profilePic})),Be={...t,friends:he};n(Be),localStorage.setItem("userProfile",JSON.stringify(Be))}},[$]);const G=js({mutationFn:async he=>(await LE("POST","/api/friend-requests",{requesterId:t?.id,addresseeId:he})).json(),onSuccess:()=>{Se.success("Friend request sent!"),re.invalidateQueries({queryKey:["friend-requests-outgoing"]}),h(""),l(!1),N([])},onError:he=>{Se.error(he.message||"Failed to send friend request")}}),Ne=js({mutationFn:async({requestId:he,action:Be,requesterName:ot})=>({response:await(await LE("POST",`/api/friend-requests/${he}/respond`,{action:Be,userId:t?.id})).json(),requesterName:ot,action:Be}),onSuccess:({action:he})=>{Se.success(he==="accept"?"Friend added!":"Request declined"),re.invalidateQueries({queryKey:["friend-requests-incoming"]}),he==="accept"&&re.invalidateQueries({queryKey:["friends",t?.id]})},onError:he=>{Se.error(he.message||"Failed to respond to request")}}),de=js({mutationFn:async he=>{const Be=await fetch(`/api/friend-requests/${he}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t?.id})});if(!Be.ok)throw new Error("Failed to cancel request");return Be.json()},onSuccess:()=>{Se.success("Friend request cancelled"),re.invalidateQueries({queryKey:["friend-requests-outgoing",t?.id]})},onError:()=>{Se.error("Failed to cancel friend request")}});v.useEffect(()=>{const Be=setTimeout(async()=>{if(u.length<2){N([]);return}T(!0);try{const ot=await fetch(`/api/users/search?q=${encodeURIComponent(u)}`);if(ot.ok){const An=(await ot.json()).filter(tt=>tt.id!==t?.id&&!t?.friends?.some(Jn=>Jn.friendId===tt.id)&&!H.some(Jn=>Jn.addresseeId===tt.id));N(An)}}catch(ot){console.error("Search failed:",ot)}finally{T(!1)}},300);return()=>clearTimeout(Be)},[u,t?.id,t?.friends,H]);const q=async()=>{if(!t?.id)return;const he=await q5(t.id);if(he.success)p(!0),Se.success("Notifications enabled! You'll be notified of friend requests.");else switch(he.error){case"safari_requires_homescreen":Se.error("On Safari, add this app to your Home Screen first (tap Share  Add to Home Screen), then enable notifications.");break;case"permission_denied":Se.error("Notification permission was denied. Check your browser settings to enable notifications.");break;case"not_supported":Se.error("Push notifications are not supported on this browser.");break;case"not_configured":Se.error("Push notifications are not configured on this server.");break;default:Se.error("Could not enable notifications. Try refreshing the page and allowing when prompted.")}},ae=async()=>{if(t?.id)try{(await fetch(`/api/push/subscribe/${t.id}`,{method:"DELETE"})).ok?(p(!1),Se.success("Notifications disabled")):Se.error("Failed to disable notifications")}catch(he){console.error("Failed to disable notifications:",he),Se.error("Failed to disable notifications")}},be=async()=>{m?await ae():await q()},Ae=()=>{W.current?.click(),i(!1)},ke=()=>{Z.current?.click(),i(!1)},ie=he=>{const Be=he.target.files?.[0];if(Be){const ot=new FileReader;ot.onloadend=()=>{ge("profilePic",ot.result)},ot.readAsDataURL(Be)}},ge=(he,Be)=>{t&&n(ot=>({...ot,[he]:Be}))},Me=he=>{const Be=he.replace(/\D/g,"");return Be.length<=2?Be:Be.length<=4?`${Be.slice(0,2)}/${Be.slice(2)}`:`${Be.slice(0,2)}/${Be.slice(2,4)}/${Be.slice(4,8)}`},ve=he=>{const Be=Me(he.target.value);ge("dob",Be)},pe=he=>{Y?G.mutate(he.id):(F(he),I(!0))},Ye=()=>{D&&G.mutate(D.id),I(!1),F(null)},vt=()=>{localStorage.setItem("hidePrivacyDialog","true"),ne(!0),D&&G.mutate(D.id),I(!1),F(null)},Rt=()=>{I(!1),F(null)},Wt=he=>{he.friendId&&e(`/friend/${he.friendId}`)},gn=async he=>{if(!t)return;const Be=t.friends?.[he];if(!Be)return;if(Be.friendId)try{await fetch(`/api/users/${t.id}/friends/${Be.friendId}`,{method:"DELETE"})}catch(An){console.error("Failed to remove friend from database:",An)}const ot=t.friends?.filter((An,tt)=>tt!==he)||[],Zt={...t,friends:ot};n(Zt),localStorage.setItem("userProfile",JSON.stringify(Zt)),re.invalidateQueries({queryKey:["friends",t.id]}),Se.success("Friend removed")},Nn=async he=>{if(he.preventDefault(),!!t){if(!t.name){Se.error("Please fill in your name");return}if(t.id)try{const Be=await fetch(`/api/users/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,dob:t.dob,gender:t.gender,height:t.height,weight:t.weight,fitnessLevel:t.fitnessLevel,desiredFitnessLevel:t.desiredFitnessLevel,coachName:t.coachName,profilePic:t.profilePic,distanceMinKm:t.distanceMinKm,distanceMaxKm:t.distanceMaxKm,distanceDecimalsEnabled:t.distanceDecimalsEnabled})});if(Be.ok){const ot=await Be.json();localStorage.setItem("userProfile",JSON.stringify(ot)),Se.success("Profile saved!")}else{Se.error("Failed to save profile");return}}catch(Be){console.error("Error saving profile:",Be),Se.error("Failed to save profile");return}else localStorage.setItem("userProfile",JSON.stringify(t)),Se.success("Profile saved!");e("/")}},kr=async()=>{if(!t?.id||!E){Se.error("Please enter a valid email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)){Se.error("Please enter a valid email address");return}try{const Be=await fetch(`/api/users/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E})});if(Be.ok){const ot=await Be.json();n(Zt=>Zt?{...Zt,email:E}:null),localStorage.setItem("userProfile",JSON.stringify(ot)),M(!1),k(""),Se.success("Email updated successfully")}else{const ot=await Be.json();Se.error(ot.error||"Failed to update email")}}catch(Be){console.error("Error updating email:",Be),Se.error("Failed to update email")}},Tn=()=>{localStorage.removeItem("userProfile"),Se.success("Logged out successfully"),window.location.href="/"};return t?s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-6",children:[s.jsxs("header",{className:"mb-8 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>e("/"),className:"rounded-full border-white/10 hover:bg-white/10","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-display font-bold text-primary uppercase tracking-wider",children:"Profile"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Manage your personal details"})]})]}),s.jsx(Re,{variant:"ghost",size:"sm",onClick:Tn,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 gap-2 uppercase tracking-widest text-[10px] font-bold","data-testid":"button-logout",children:"Logout"})]}),s.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto w-full",children:[s.jsxs("div",{className:"mb-6 px-4 py-3 bg-gradient-to-r from-primary/20 to-primary/10 rounded-2xl border border-primary/30",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest font-bold",children:"Your Runner ID:"}),t.userCode?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-base font-mono font-bold text-primary tracking-wider","data-testid":"text-user-code-top",children:t.userCode}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(t.userCode||""),Se.success("Runner ID copied!")},className:"p-1 rounded-lg bg-primary/20 hover:bg-primary/30 transition-colors","data-testid":"button-copy-user-code-top",children:s.jsx("svg",{className:"w-3.5 h-3.5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}),s.jsx("p",{className:"text-[9px] text-muted-foreground text-center mt-1",children:"Share this ID with friends so they can find you"})]}),s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"w-24 h-24 rounded-full border-2 border-primary/50 overflow-hidden bg-white/5 flex items-center justify-center cursor-pointer hover:border-primary transition-colors",onClick:()=>i(!r),"data-testid":"button-profile-photo",children:[t.profilePic?s.jsx("img",{src:t.profilePic,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(Oc,{className:"w-12 h-12 text-muted-foreground"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:s.jsx(Kv,{className:"w-6 h-6 text-white"})})]}),s.jsx(Da,{children:r&&s.jsxs(At.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full mt-2 w-48 bg-card border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:ke,className:"w-full px-4 py-3 text-left text-xs font-display font-bold uppercase tracking-widest flex items-center gap-3 hover:bg-white/5 transition-colors border-b border-white/5","data-testid":"button-take-photo",children:[s.jsx(Kv,{className:"w-4 h-4 text-primary"})," Take Photo"]}),s.jsxs("button",{type:"button",onClick:Ae,className:"w-full px-4 py-3 text-left text-xs font-display font-bold uppercase tracking-widest flex items-center gap-3 hover:bg-white/5 transition-colors","data-testid":"button-upload-photo",children:[s.jsx(rL,{className:"w-4 h-4 text-primary"})," From Gallery"]})]})}),s.jsx("input",{type:"file",ref:W,className:"hidden",accept:"image/*",onChange:ie}),s.jsx("input",{type:"file",ref:Z,className:"hidden",accept:"image/*",capture:"user",onChange:ie})]}),s.jsx("button",{type:"button",onClick:()=>i(!r),className:"mt-3 text-xs font-display font-bold text-primary uppercase tracking-widest flex items-center gap-2 hover:opacity-80",children:"Update Profile Photo"})]}),s.jsxs("form",{onSubmit:Nn,className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"space-y-4 bg-card/50 p-6 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Oc,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Personal Info"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Your Name"}),s.jsx("input",{type:"text",value:t.name,onChange:he=>ge("name",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-name"})]}),t.email&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Email"}),C?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"email",value:E,onChange:he=>k(he.target.value),placeholder:"Enter new email",className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-new-email"}),s.jsx("button",{type:"button",onClick:kr,className:"px-3 py-2 bg-primary text-background rounded-xl hover:bg-primary/90 transition-colors","data-testid":"button-save-email",children:s.jsx(Ms,{className:"w-5 h-5"})}),s.jsx("button",{type:"button",onClick:()=>{M(!1),k("")},className:"px-3 py-2 bg-white/10 text-foreground rounded-xl hover:bg-white/20 transition-colors","data-testid":"button-cancel-email",children:s.jsx(io,{className:"w-5 h-5"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-muted-foreground","data-testid":"text-email",children:t.email}),s.jsx("button",{type:"button",onClick:()=>{M(!0),k(t.email||"")},className:"px-3 py-3 bg-white/10 text-foreground rounded-xl hover:bg-white/20 transition-colors","data-testid":"button-edit-email",children:s.jsx(ku,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Date of Birth"}),s.jsx("input",{type:"text",placeholder:"DD/MM/YYYY",value:t.dob,onChange:ve,maxLength:10,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-dob"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Gender"}),s.jsxs("select",{value:t.gender,onChange:he=>ge("gender",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"select-gender",children:[s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Height (cm)"}),s.jsx("input",{type:"number",value:t.height,onChange:he=>ge("height",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-height"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Weight (kg)"}),s.jsx("input",{type:"number",value:t.weight,onChange:he=>ge("weight",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-weight"})]})]})]}),s.jsxs("div",{className:"space-y-4 bg-card/50 p-6 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-5 h-5 text-primary",children:s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),s.jsx("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),s.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),s.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),s.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]})}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Fitness Goals"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Current Level"}),s.jsx("select",{value:t.fitnessLevel,onChange:he=>ge("fitnessLevel",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"select-fitness-level",children:H5.map(he=>s.jsx("option",{value:he,children:he},he))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Target Level"}),s.jsx("select",{value:t.desiredFitnessLevel,onChange:he=>ge("desiredFitnessLevel",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"select-target-level",children:H5.map(he=>s.jsx("option",{value:he,children:he},he))})]})]}),s.jsxs("div",{className:"space-y-4 bg-card/50 p-6 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-5 h-5 text-primary",children:s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M12 2a10 10 0 1 0 10 10H12V2z"}),s.jsx("path",{d:"M12 12L2.5 9.5"}),s.jsx("path",{d:"M12 12l9.5 2.5"})]})}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Coach Config"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Coach's Name"}),s.jsx("input",{type:"text",value:t.coachName,onChange:he=>ge("coachName",he.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-coach-name"})]})]}),s.jsxs("div",{className:"space-y-4 bg-card/50 p-6 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(YG,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Distance Scale"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Customize the distance slider range on the home screen. Default is 0-50km."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Minimum (km)"}),s.jsx("input",{type:"text",inputMode:"decimal",value:t.distanceMinKm??"",onChange:he=>{const Be=he.target.value;if(Be===""||Be===".")n(ot=>ot?{...ot,distanceMinKm:void 0}:null);else{const ot=parseFloat(Be);isNaN(ot)||n(Zt=>Zt?{...Zt,distanceMinKm:ot}:null)}},onBlur:he=>{(he.target.value===""||isNaN(parseFloat(he.target.value)))&&n(Be=>Be?{...Be,distanceMinKm:0}:null)},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-distance-min"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[10px] font-medium text-muted-foreground uppercase tracking-widest mb-1.5 ml-1",children:"Maximum (km)"}),s.jsx("input",{type:"text",inputMode:"decimal",value:t.distanceMaxKm??"",onChange:he=>{const Be=he.target.value;if(Be===""||Be===".")n(ot=>ot?{...ot,distanceMaxKm:void 0}:null);else{const ot=parseFloat(Be);isNaN(ot)||n(Zt=>Zt?{...Zt,distanceMaxKm:ot}:null)}},onBlur:he=>{(he.target.value===""||isNaN(parseFloat(he.target.value)))&&n(Be=>Be?{...Be,distanceMaxKm:50}:null)},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors","data-testid":"input-distance-max"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Enable Decimals"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Show 1 decimal place (e.g., 3.2km). Max range limited to 20km when enabled."})]}),s.jsx("button",{type:"button",onClick:()=>{const he=!t.distanceDecimalsEnabled,Be=t.distanceMinKm??0,ot=t.distanceMaxKm??50;if(he&&ot-Be>20){Se.error("With decimals enabled, the Maximum range between the Min and Max distance must be within 20km. Please adjust your min/max. then enable.");return}n(Zt=>Zt?{...Zt,distanceDecimalsEnabled:he}:null)},className:`relative w-12 h-6 rounded-full transition-colors ${t.distanceDecimalsEnabled?"bg-primary":"bg-white/20"}`,"data-testid":"toggle-decimals",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-transform ${t.distanceDecimalsEnabled?"left-7":"left-1"}`})})]}),t.distanceDecimalsEnabled&&(t.distanceMaxKm??50)-(t.distanceMinKm??0)>20&&s.jsx("p",{className:"text-xs text-amber-400 mt-2",children:"Warning: Range exceeds 20km. Please reduce to enable decimals."})]}),s.jsxs("div",{className:"space-y-4 bg-card/50 p-6 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xf,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Notifications"})]}),s.jsx(Re,{type:"button",onClick:()=>e("/notifications/manage"),className:"h-8 px-3 bg-primary/20 hover:bg-primary/30 text-primary text-xs font-bold uppercase","data-testid":"button-manage-notifications",children:"Manage"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Push Notifications"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Get notified when friends add you"})]}),s.jsx("button",{type:"button",onClick:be,className:`relative w-12 h-6 rounded-full transition-colors ${m?"bg-green-500":"bg-white/20"}`,"data-testid":"toggle-notifications",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-transform ${m?"left-7":"left-1"}`})})]}),g&&m&&s.jsxs("div",{className:"p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:[s.jsx("p",{className:"text-xs text-amber-400 mb-2",children:"Notifications need to be re-enabled on this device"}),s.jsx(Re,{type:"button",size:"sm",onClick:fe,className:"h-7 px-3 bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 text-xs","data-testid":"button-resync-notifications",children:"Re-enable Notifications"})]})]}),s.jsxs("div",{className:"space-y-4 bg-card/50 p-6 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ro,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Friends"})]}),s.jsxs(Re,{type:"button",onClick:()=>l(!0),className:"h-8 px-3 bg-primary/20 hover:bg-primary/30 text-primary text-xs font-bold uppercase flex items-center gap-2","data-testid":"button-add-friend",children:[s.jsx(xx,{className:"w-3 h-3"})," Add"]})]}),K.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-[10px] font-bold text-amber-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(vx,{className:"w-3 h-3"})," Pending Requests (",K.length,")"]}),s.jsx("div",{className:"space-y-2",children:K.map(he=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-500/10 rounded-lg border border-amber-500/20","data-testid":`request-incoming-${he.id}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:he.requesterName}),he.requesterUserCode&&s.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:["ID: ",he.requesterUserCode]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{type:"button",size:"sm",onClick:()=>Ne.mutate({requestId:he.id,action:"accept",requesterName:he.requesterName}),disabled:Ne.isPending,className:"h-7 px-2 bg-green-500/20 hover:bg-green-500/30 text-green-500","data-testid":`button-accept-${he.id}`,children:s.jsx(Ms,{className:"w-3 h-3"})}),s.jsx(Re,{type:"button",size:"sm",onClick:()=>Ne.mutate({requestId:he.id,action:"reject"}),disabled:Ne.isPending,className:"h-7 px-2 bg-red-500/20 hover:bg-red-500/30 text-red-500","data-testid":`button-reject-${he.id}`,children:s.jsx(io,{className:"w-3 h-3"})})]})]},he.id))})]}),H.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[s.jsx(no,{className:"w-3 h-3 animate-spin"})," Sent Requests (",H.length,")"]}),s.jsx("div",{className:"space-y-2",children:H.map(he=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-500/10 rounded-lg border border-blue-500/20","data-testid":`request-outgoing-${he.id}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:he.addresseeName}),he.addresseeUserCode&&s.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:["ID: ",he.addresseeUserCode]})]}),s.jsx(Re,{type:"button",size:"sm",onClick:()=>de.mutate(he.id),disabled:de.isPending,className:"h-7 px-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 text-[10px] font-bold uppercase","data-testid":`button-cancel-${he.id}`,children:"Cancel"})]},he.id))})]}),t.friends&&t.friends.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest mb-2",children:"Your Friends"}),t.friends.map((he,Be)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/5 hover:border-primary/30 hover:bg-white/10 transition-all cursor-pointer group","data-testid":`friend-${Be}`,onClick:()=>Wt(he),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary/30 to-primary/10 flex items-center justify-center overflow-hidden",children:he.profilePic?s.jsx("img",{src:he.profilePic,alt:he.name,className:"w-full h-full object-cover"}):s.jsx(Oc,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:he.name}),he.userCode&&s.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:["ID: ",he.userCode]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mc,{className:"w-4 h-4 text-primary/70"}),s.jsx("button",{type:"button",onClick:ot=>{ot.stopPropagation(),gn(Be)},className:"p-1 hover:bg-white/10 rounded transition-colors","data-testid":`button-remove-friend-${Be}`,children:s.jsx(io,{className:"w-4 h-4 text-muted-foreground hover:text-red-500"})})]})]},Be))]}):!K.length&&!H.length?s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No friends yet. Add some to easily share runs!"}):null,s.jsx(Da,{children:o&&s.jsxs(At.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/10 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:u,onChange:he=>h(he.target.value),onKeyDown:he=>{he.key==="Enter"&&he.preventDefault()},placeholder:"Search by name or Runner ID...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-foreground text-sm focus:outline-none focus:border-primary transition-colors",autoFocus:!0,"data-testid":"input-search-friend"}),S&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(no,{className:"w-4 h-4 animate-spin text-muted-foreground"})})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:_.length>0?_.map(he=>s.jsxs("div",{onClick:()=>pe(he),className:"flex items-center justify-between p-2 rounded-lg bg-white/5 border border-white/5 hover:border-primary/30 hover:bg-white/10 transition-all cursor-pointer group","data-testid":`search-result-${he.id}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-foreground",children:he.name}),s.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:["ID: ",he.userCode||"N/A"]})]}),s.jsx(Re,{size:"sm",variant:"ghost",className:"h-6 px-2 text-[10px] opacity-0 group-hover:opacity-100",disabled:G.isPending,children:G.isPending?s.jsx(no,{className:"w-3 h-3 animate-spin"}):"Send Request"})]},he.id)):u.length>1&&!S?s.jsx("p",{className:"text-[10px] text-center text-muted-foreground py-2 italic",children:"No matching runners found"}):s.jsx("p",{className:"text-[10px] text-center text-muted-foreground py-2 italic",children:"Start typing to search..."})}),s.jsx(Re,{type:"button",onClick:()=>{l(!1),h(""),N([])},variant:"outline",className:"w-full border-white/10 text-[10px] h-8 font-bold uppercase tracking-widest","data-testid":"button-cancel-add-friend",children:"Cancel"})]})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-background via-background to-transparent z-50",children:s.jsxs(Re,{type:"submit",size:"lg",className:"w-full h-16 text-xl font-display uppercase tracking-widest bg-primary text-background hover:bg-primary/90 shadow-[0_0_30px_rgba(6,182,212,0.4)] transition-all flex items-center justify-center gap-2","data-testid":"button-save-profile",children:[s.jsx(XG,{className:"w-6 h-6"}),"Save Changes"]})})]})]}),s.jsx(Da,{children:R&&s.jsx(At.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:Rt,children:s.jsxs(At.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:he=>he.stopPropagation(),className:"bg-card border border-white/10 rounded-2xl max-w-sm w-full overflow-hidden",children:[s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-4",children:s.jsx(aY,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Profile and Activity Visibility"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Connections can see your profile and activity data that you choose to share with them. You can change your privacy settings globally, or on each activity, and you may disconnect from Connections at any time."})]}),s.jsxs("div",{className:"border-t border-white/10",children:[s.jsx("button",{onClick:Ye,className:"w-full py-4 text-sm font-bold text-primary hover:bg-white/5 transition-colors","data-testid":"button-privacy-ok",children:"OK"}),s.jsx("button",{onClick:Rt,className:"w-full py-4 text-sm font-medium text-muted-foreground hover:bg-white/5 transition-colors border-t border-white/10","data-testid":"button-privacy-cancel",children:"CANCEL"}),s.jsx("button",{onClick:vt,className:"w-full py-4 text-sm font-medium text-muted-foreground hover:bg-white/5 transition-colors border-t border-white/10","data-testid":"button-privacy-dont-show",children:"DON'T SHOW AGAIN"})]})]})})})]}):null}function hje(){const[,e]=Vr(),[t,n]=v.useState(null),r=$f();v.useEffect(()=>{const S=localStorage.getItem("userProfile");S&&n(JSON.parse(S))},[]);const{data:i=[],isLoading:o}=ta({queryKey:["/api/notifications",t?.id],queryFn:async()=>{if(!t?.id)return[];const S=await fetch(`/api/notifications?userId=${t.id}`);return S.ok?S.json():[]},enabled:!!t?.id}),l=js({mutationFn:async S=>{const T=await fetch(`/api/notifications/${S}/read`,{method:"POST"});if(!T.ok)throw new Error("Failed to mark as read");return T.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications"]})}}),u=js({mutationFn:async()=>{if(!t?.id)return;const S=await fetch(`/api/notifications/mark-all-read?userId=${t.id}`,{method:"POST"});if(!S.ok)throw new Error("Failed to mark all as read");return S.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications"]})}}),{data:h=[]}=ta({queryKey:["/api/friend-requests/incoming",t?.id],queryFn:async()=>{if(!t?.id)return[];const S=await fetch(`/api/friend-requests/incoming/${t.id}`);return S.ok?S.json():[]},enabled:!!t?.id}),m=js({mutationFn:async S=>{const T=await fetch(`/api/friend-requests/${S}/accept`,{method:"POST"});if(!T.ok)throw new Error("Failed to accept friend request");return T.json()},onSuccess:()=>{Se.success("Friend request accepted!"),r.invalidateQueries({queryKey:["/api/friend-requests/incoming",t?.id]}),r.invalidateQueries({queryKey:["/api/notifications",t?.id]}),r.invalidateQueries({queryKey:["friends",t?.id]})},onError:()=>{Se.error("Failed to accept friend request")}}),p=js({mutationFn:async S=>{const T=await fetch(`/api/friend-requests/${S}/decline`,{method:"POST"});if(!T.ok)throw new Error("Failed to decline friend request");return T.json()},onSuccess:()=>{Se.success("Friend request declined"),r.invalidateQueries({queryKey:["/api/friend-requests/incoming",t?.id]}),r.invalidateQueries({queryKey:["/api/notifications",t?.id]})},onError:()=>{Se.error("Failed to decline friend request")}}),g=S=>{if(S.type==="friend_request")try{const C=(S.data?JSON.parse(S.data):{}).requesterEmail;if(C)return h.find(M=>M.requesterEmail===C&&M.status==="pending")}catch{}},b=S=>{switch(S){case"friend_request":case"friend_accepted":return s.jsx(xx,{className:"w-5 h-5"});case"route_shared":return s.jsx(yx,{className:"w-5 h-5"});case"achievement":return s.jsx(Zv,{className:"w-5 h-5"});default:return s.jsx(xf,{className:"w-5 h-5"})}},_=S=>{const T=new Date(S),M=new Date().getTime()-T.getTime(),E=Math.floor(M/6e4),k=Math.floor(M/36e5),R=Math.floor(M/864e5);return E<1?"Just now":E<60?`${E}m ago`:k<24?`${k}h ago`:R<7?`${R}d ago`:T.toLocaleDateString()},N=i.filter(S=>!S.read).length;return s.jsxs("div",{className:"min-h-screen bg-background p-6 pb-24 font-sans text-foreground",children:[s.jsxs("header",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-primary uppercase tracking-wider",children:"Notifications"}),N>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N," unread"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[N>0&&s.jsx(Re,{variant:"outline",size:"sm",onClick:()=>u.mutate(),disabled:u.isPending,"data-testid":"button-mark-all-read",children:"Mark all read"}),s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/notifications/manage"),"data-testid":"button-manage-notifications",children:s.jsx(sN,{className:"w-5 h-5"})})]})]}),o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):i.length===0?s.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(xf,{className:"w-16 h-16 text-muted-foreground/30 mb-4"}),s.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No notifications yet"}),s.jsx("p",{className:"text-sm text-muted-foreground/70",children:"You'll see friend requests and updates here"})]}):s.jsx("div",{className:"space-y-3",children:i.map((S,T)=>s.jsx(At.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.05},children:s.jsx(wt,{className:`cursor-pointer transition-colors ${S.read?"bg-card/50 border-white/5":"bg-primary/5 border-primary/20"}`,onClick:()=>{if(S.read||l.mutate(S.id),S.type==="friend_accepted")try{const C=S.data?JSON.parse(S.data):{};C.friendId&&e(`/friend/${C.friendId}`)}catch{}},"data-testid":`notification-${S.id}`,children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${S.read?"bg-muted":"bg-primary/20"}`,children:s.jsx("div",{className:S.read?"text-muted-foreground":"text-primary",children:b(S.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[S.type==="friend_accepted"&&s.jsx("div",{className:"float-right ml-2",children:s.jsx(px,{className:"w-5 h-5 text-primary/50"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("h3",{className:`font-medium text-sm ${S.read?"text-muted-foreground":"text-foreground"}`,children:S.title}),!S.read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:S.message}),s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground/70",children:[s.jsx(vx,{className:"w-3 h-3"}),_(S.createdAt)]}),(()=>{const C=g(S);return C?s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsxs(Re,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90",onClick:M=>{M.stopPropagation(),m.mutate(C.id)},disabled:m.isPending||p.isPending,"data-testid":`button-accept-friend-${C.id}`,children:[s.jsx(Ms,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsxs(Re,{size:"sm",variant:"outline",className:"flex-1",onClick:M=>{M.stopPropagation(),p.mutate(C.id)},disabled:m.isPending||p.isPending,"data-testid":`button-decline-friend-${C.id}`,children:[s.jsx(io,{className:"w-4 h-4 mr-1"}),"Decline"]})]}):null})()]})]})})})},S.id))})]})}function mje(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}async function pje(e){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.log("[Push] Push notifications not supported"),{success:!1,error:"not_supported"};try{console.log("[Push] Getting VAPID key...");const t=await fetch("/api/push/vapid-public-key");if(!t.ok)return console.log("[Push] Could not get VAPID key"),{success:!1,error:"not_configured"};const{vapidPublicKey:n}=await t.json();console.log("[Push] Registering service worker...");const r=await navigator.serviceWorker.register("/sw.js");await navigator.serviceWorker.ready,console.log("[Push] Subscribing to push manager...");const i=await r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mje(n)});return console.log("[Push] Saving subscription to server..."),(await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,subscription:i.toJSON()})})).ok?(console.log("[Push] Successfully subscribed"),{success:!0}):(console.error("[Push] Failed to save subscription to server"),{success:!1,error:"failed"})}catch(t){return console.error("[Push] Registration failed:",t),{success:!1,error:"failed"}}}const K5=[{key:"friendRequest",label:"Friend Requests",description:"When someone sends you a friend request",icon:xx,testType:"friend_request"},{key:"friendAccepted",label:"Friend Accepted",description:"When someone accepts your friend request",icon:ro,testType:"friend_accepted"},{key:"groupRunInvite",label:"Group Run Invitations",description:"When you're invited to a group run",icon:ro,testType:"group_run_invite"},{key:"groupRunStarting",label:"Group Run Starting",description:"When a group run you're in is about to start",icon:kc,testType:"group_run_starting"},{key:"liveRunInvite",label:"Live Run Invitations",description:"When a friend invites you to watch their live run",icon:Mc,testType:"live_run_invite"},{key:"liveObserverJoined",label:"Friend Watching Your Run",description:"When a friend starts watching your live run",icon:qG,testType:"live_observer_joined"},{key:"runCompleted",label:"Run Completed",description:"Summary when you complete a run",icon:xf,testType:null},{key:"weeklyProgress",label:"Weekly Progress",description:"Weekly summary of your running stats",icon:xf,testType:null}];function gje(){const[,e]=Vr(),[t,n]=v.useState(null),[r,i]=v.useState(null),[o,l]=v.useState(!1),[u,h]=v.useState(!1),m=$f(),p=async k=>{try{if(!("serviceWorker"in navigator)||!("Notification"in window)||Notification.permission!=="granted")return;const I=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(I){const D=await fetch(`/api/push/subscription-status?userId=${k}&endpoint=${encodeURIComponent(I.endpoint)}`);D.ok&&((await D.json()).hasSubscription?l(!1):(console.log("[Push] Browser has subscription but server lacks it - needs sync"),l(!0)))}else console.log("[Push] Browser has permission but no subscription - needs setup"),l(!0)}catch(R){console.error("[Push] Failed to check subscription sync:",R)}},g=async()=>{if(t?.id){h(!0);try{(await pje(t.id)).success?(l(!1),Se.success("Notifications re-enabled for this device")):Se.error("Failed to re-enable notifications")}finally{h(!1)}}};v.useEffect(()=>{const k=localStorage.getItem("userProfile");if(k){const R=JSON.parse(k);n(R),R.id&&"Notification"in window&&Notification.permission==="granted"&&p(R.id)}},[]);const{data:b,isLoading:_}=ta({queryKey:["/api/notification-preferences",t?.id],queryFn:async()=>{if(!t?.id)return{friendRequest:!0,friendAccepted:!0,groupRunInvite:!0,groupRunStarting:!0,liveRunInvite:!0,liveObserverJoined:!0,runCompleted:!1,weeklyProgress:!1};const k=await fetch(`/api/notification-preferences/${t.id}`);if(!k.ok)throw new Error("Failed to fetch preferences");return k.json()},enabled:!!t?.id}),N=js({mutationFn:async k=>{if(!t?.id)throw new Error("No user profile");const R=await fetch(`/api/notification-preferences/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,...k})});if(!R.ok)throw new Error("Failed to update preferences");return R.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/notification-preferences"]}),Se.success("Preferences updated")},onError:()=>{Se.error("Failed to update preferences")}}),S=js({mutationFn:async k=>{if(!t?.id)throw new Error("No user profile");i(k);const R=await fetch(`/api/push/test/${t.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:k})});if(!R.ok){const I=await R.json();throw new Error(I.error||"Failed to send test notification")}return R.json()},onSuccess:(k,R)=>{Se.success(`Test ${R.replace("_"," ")} notification sent! Check your device.`),i(null)},onError:k=>{Se.error(k.message),i(null)}}),T=k=>{b&&N.mutate({[k]:!b[k]})},C=b?K5.every(k=>b[k.key]===!0):!1,M=()=>{if(!b)return;const k=!C,R={friendRequest:k,friendAccepted:k,groupRunInvite:k,groupRunStarting:k,liveRunInvite:k,liveObserverJoined:k,runCompleted:k,weeklyProgress:k};N.mutate(R)},E=k=>{S.mutate(k)};return _||!b?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx(At.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-0 z-50 bg-background/80 backdrop-blur-xl border-b border-white/10",children:s.jsx("div",{className:"max-w-lg mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/profile"),className:"rounded-full text-foreground hover:bg-white/10","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sN,{className:"w-5 h-5 text-primary"}),s.jsx("h1",{className:"text-lg font-display font-bold uppercase tracking-wide",children:"Manage Notifications"})]})]})})}),s.jsxs("main",{className:"max-w-lg mx-auto px-4 py-6 space-y-6",children:[o&&s.jsx(At.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-amber-500/10 rounded-xl border border-amber-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($u,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-amber-400",children:"Notifications need to be refreshed"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your notification settings need to be re-synced with your device."}),s.jsx(Re,{onClick:g,disabled:u,size:"sm",className:"mt-3 bg-amber-500 hover:bg-amber-600 text-black","data-testid":"button-resync-notifications",children:u?s.jsxs(s.Fragment,{children:[s.jsx(no,{className:"w-4 h-4 mr-2 animate-spin"}),"Refreshing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yv,{className:"w-4 h-4 mr-2"}),"Refresh Notifications"]})})]})]})}),s.jsxs("div",{className:"bg-card/50 rounded-2xl border border-white/5 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-white/5",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which notifications you want to receive. Test buttons send a sample notification to your device."})}),s.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${C?"bg-primary/20":"bg-white/5"}`,children:s.jsx(xf,{className:`w-5 h-5 ${C?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold",children:"All Notifications"}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Enable or disable all notifications at once"})]})]}),s.jsx("button",{type:"button",onClick:M,disabled:N.isPending,className:`relative w-12 h-6 rounded-full transition-colors ${C?"bg-green-500":"bg-white/20"}`,"data-testid":"toggle-all-notifications",children:s.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-transform ${C?"left-7":"left-1"}`})})]}),s.jsx("div",{className:"divide-y divide-white/5",children:K5.map(k=>{const R=k.icon,I=b[k.key];return s.jsxs("div",{className:"p-4 flex items-center justify-between gap-4","data-testid":`notification-row-${k.key}`,children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${I?"bg-primary/20":"bg-white/5"}`,children:s.jsx(R,{className:`w-5 h-5 ${I?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:k.label}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:k.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[k.testType&&I&&s.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>E(k.testType),disabled:r!==null,className:"h-8 px-2 text-xs text-primary hover:bg-primary/10","data-testid":`button-test-${k.key}`,children:r===k.testType?s.jsx(no,{className:"w-4 h-4 animate-spin"}):s.jsx(tY,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>T(k.key),disabled:N.isPending,className:`relative w-12 h-6 rounded-full transition-colors ${I?"bg-green-500":"bg-white/20"}`,"data-testid":`toggle-${k.key}`,children:s.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-transform ${I?"left-7":"left-1"}`})})]})]},k.key)})})]}),s.jsx("div",{className:"bg-amber-500/10 rounded-xl p-4 border border-amber-500/20",children:s.jsxs("p",{className:"text-xs text-amber-400",children:[s.jsx("strong",{children:"Note:"})," Push notifications must be enabled in your Profile settings first. If you don't receive test notifications, check that notifications are enabled for this app in your device settings."]})})]})]})}function vje(){const[,e]=Vr();return s.jsx("div",{className:"min-h-screen bg-background text-foreground p-6 md:p-12 font-sans",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[s.jsxs("header",{className:"flex items-center gap-4 mb-12",children:[s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>e("/"),className:"rounded-full border-white/10 hover:bg-white/10","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl font-display font-bold uppercase tracking-tight",children:"Privacy Policy"})]}),s.jsxs("section",{className:"space-y-6 text-muted-foreground leading-relaxed",children:[s.jsxs("div",{className:"p-6 bg-card/50 border border-white/10 rounded-2xl",children:[s.jsx("h2",{className:"text-foreground font-bold uppercase tracking-wider mb-2",children:"Privacy Policy for AI Run Coach"}),s.jsx("p",{className:"text-sm italic",children:"Last updated: 9 January 2026"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"1. Who We Are"}),s.jsx("p",{children:'This Privacy Policy explains how airuncoach.live, trading as AI Run Coach ("we", "us", "our"), collects, uses, stores, and protects your personal information when you use the AI Run Coach application ("the App").'}),s.jsx("p",{children:"We act as the data controller for your personal information. If you have questions or wish to exercise your rights, contact us at:"}),s.jsxs("ul",{className:"list-none pl-0 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("span",{className:"text-primary font-medium",children:"support@airuncoach.live"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("span",{className:"text-primary font-medium",children:"https://airuncoach.live"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"2. What Data We Collect"}),s.jsx("p",{children:"We collect the following categories of personal data."}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"Account Information"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Email address and password (encrypted)"}),s.jsx("li",{children:"Name, date of birth, gender"}),s.jsx("li",{children:"Height and weight"}),s.jsx("li",{children:"Fitness level and goals"}),s.jsx("li",{children:"Coach voice preferences"})]}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"Health and Fitness Data (Special Category Data)"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Activity data:"})," workout type, start time, duration, distance, pace, cadence, lap and split information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Location data:"})," GPS route points, elevation"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Physiological data:"})," heart rate, heart-rate zones, calories burned"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Weather conditions:"})," temperature, humidity, wind speed during runs"]})]}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"Connected Services Data"}),s.jsx("p",{children:"When you connect third-party fitness accounts (such as Garmin Connect, Apple Health, Samsung Health, Strava), we may receive:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Historical workout data"}),s.jsx("li",{children:"Device identifiers and activity IDs"}),s.jsx("li",{children:"Real-time workout metrics (if supported)"})]}),s.jsx("p",{className:"text-sm italic",children:"We do not receive your third-party account passwords or payment information."}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"Fitness Account Data"}),s.jsx("p",{children:"When you connect your fitness account, we receive activity details such as distance, duration, pace, elevation, route information, and heart rate where available, as provided by your connected device or service."}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"Third-Party Data Attribution and Branding"}),s.jsx("p",{children:"When data is received from connected third-party devices and services:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:'The data source will be clearly attributed to the respective third-party provider (e.g., "Data from Garmin", "Synced via Apple Health")'}),s.jsx("li",{children:"Third-party branding and logos will be displayed within the App where applicable to indicate the data source"}),s.jsx("li",{children:"Social media images generated by the App (for sharing to platforms such as Facebook and Instagram) will include appropriate third-party branding when the run data originated from a connected device"}),s.jsx("li",{children:"All use of third-party names, logos, and branding is compliant with each provider's Developer Terms and Conditions and Brand Guidelines Policy"})]}),s.jsx("p",{className:"text-sm italic mt-2",children:"Third-party trademarks and logos remain the property of their respective owners. Our use of these marks is solely to indicate the source of data and does not imply endorsement or affiliation beyond the integration relationship."}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"Technical Data"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Device type and browser information"}),s.jsx("li",{children:"IP address (anonymized for analytics)"}),s.jsx("li",{children:"App usage patterns and error logs"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"3. Legal Basis for Processing (GDPR)"}),s.jsx("p",{children:"We process your personal data under the following legal bases:"}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"For General Personal Data (Article 6 GDPR):"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Contract performance:"})," To provide the AI Run Coach service you signed up for"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Consent:"})," For optional features like push notifications and connected services"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legitimate interests:"})," To improve our service and ensure security"]})]}),s.jsx("h4",{className:"font-bold text-foreground mt-4",children:"For Health and Fitness Data (Article 9 GDPR):"}),s.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s.jsxs("li",{children:[s.jsx("strong",{children:"Explicit consent:"})," You provide explicit consent when creating your account and enabling fitness tracking features"]})}),s.jsx("p",{className:"text-sm italic mt-2",children:'Health data is classified as "special category data" under GDPR and UK data protection law. We only process this data with your explicit consent, which you can withdraw at any time.'})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"4. How We Use Your Data"}),s.jsx("p",{children:"We use your data only to provide and improve the AI Run Coach service:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Generating real-time AI coaching feedback during runs (pace, heart rate, terrain guidance)"}),s.jsx("li",{children:"Creating personalized training suggestions based on your fitness level and goals"}),s.jsx("li",{children:"Displaying run summaries, progress reports, and performance insights"}),s.jsx("li",{children:"Generating running routes tailored to your preferences"}),s.jsx("li",{children:"Enabling social features like live run sharing with friends"}),s.jsx("li",{children:"Sending push notifications about your runs (with your consent)"}),s.jsx("li",{children:"Maintaining app performance and fixing technical issues"})]}),s.jsx("p",{className:"font-bold mt-4",children:"We do NOT:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Sell your personal data to third parties"}),s.jsx("li",{children:"Use your health data for advertising purposes"}),s.jsx("li",{children:"Share your data with advertisers"}),s.jsx("li",{children:"Create profiles for marketing without your consent"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"5. Data Sharing"}),s.jsx("p",{children:"We share your information only in these limited situations:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cloud infrastructure:"})," Your data is stored on secure servers provided by our hosting partners (data processing agreements in place)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"AI services:"})," We use OpenAI to generate coaching advice. Only anonymized workout metrics are shared, not personally identifiable information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Map services:"})," We use Google Maps and OpenStreetMap for route generation and display"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal obligations:"})," When required by law, court order, or to protect rights and safety"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business transfers:"})," In the event of a merger or acquisition (you would be notified)"]})]}),s.jsx("p",{className:"font-bold mt-4",children:"Service Providers We Use:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Neon (PostgreSQL database hosting - EU/US regions)"}),s.jsx("li",{children:"OpenAI (AI coaching - US-based, anonymized data only)"}),s.jsx("li",{children:"Google Maps Platform (route generation)"}),s.jsx("li",{children:"Replit (application hosting)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"6. International Data Transfers"}),s.jsx("p",{children:"Your data may be transferred to and processed in countries outside the UK and European Economic Area (EEA), including the United States."}),s.jsx("p",{children:"When we transfer data internationally, we ensure appropriate safeguards are in place:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Standard Contractual Clauses (SCCs):"})," We use EU-approved contract terms with service providers"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Processing Agreements:"})," All third-party processors are contractually bound to protect your data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," All data transfers use TLS encryption"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"7. Data Retention"}),s.jsx("p",{children:"We retain your data for the following periods:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account data:"})," Retained while your account is active, deleted within 30 days of account deletion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Run history:"})," Retained while your account is active, deleted within 30 days of account deletion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Technical logs:"})," Retained for up to 90 days for debugging and security purposes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Anonymized analytics:"})," May be retained indefinitely in aggregate form"]})]}),s.jsx("p",{className:"mt-2",children:"When you disconnect a third-party service or delete your account, we stop receiving new data and delete stored data within 30 days."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"8. Your Rights"}),s.jsx("p",{children:"Under GDPR and UK data protection law, you have the following rights:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Right of Access:"})," Request a copy of all personal data we hold about you"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Rectification:"})," Correct any inaccurate or incomplete data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Erasure:"}),' Request deletion of your data ("right to be forgotten")']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Portability:"})," Receive your data in a machine-readable format (JSON/CSV)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Object:"})," Object to processing based on legitimate interests"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Restrict Processing:"})," Temporarily limit how we use your data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Withdraw Consent:"})," Withdraw consent at any time for consent-based processing"]})]}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"How to Exercise Your Rights:"})}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Email us at support@airuncoach.live with your request"}),s.jsx("li",{children:'Use the "Delete Account" feature in the app settings'}),s.jsx("li",{children:"Disconnect third-party services via the Connected Services page"})]}),s.jsxs("p",{className:"mt-2",children:["We will respond to your request within ",s.jsx("strong",{children:"30 days"})," (extendable to 60 days for complex requests, with notification)."]}),s.jsx("p",{className:"mt-2",children:"If you are unsatisfied with our response, you have the right to lodge a complaint with your local data protection authority:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"UK:"})," Information Commissioner's Office (ICO) - ico.org.uk"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"EU:"})," Your national Data Protection Authority"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"9. California Privacy Rights (CCPA/CPRA)"}),s.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA) and California Privacy Rights Act (CPRA):"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Know:"})," Request disclosure of personal information collected in the past 12 months"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Delete:"})," Request deletion of your personal information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Opt-Out:"})," Opt out of the sale or sharing of personal information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Non-Discrimination:"})," We will not discriminate against you for exercising your rights"]})]}),s.jsx("p",{className:"mt-4 font-bold",children:"We Do Not Sell Your Personal Information"}),s.jsx("p",{children:"AI Run Coach does not sell personal information to third parties for monetary or other valuable consideration. We do not share personal information for cross-context behavioral advertising."}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"How to Submit Requests:"})}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:"Email us at support@airuncoach.live with your request"}),s.jsx("li",{children:"Use the in-app account settings to delete your account"}),s.jsx("li",{children:"You may designate an authorized agent to submit requests on your behalf by providing written authorization"})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Verification:"})," To protect your privacy, we will verify your identity before processing requests by confirming information associated with your account (such as your email address). For authorized agents, we require proof of authorization and may contact you directly to confirm."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"10. Security"}),s.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal data:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," All data is encrypted in transit (TLS 1.2+) and at rest"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Password security:"})," Passwords are hashed using bcrypt (never stored in plain text)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access controls:"})," Database access is restricted to authorized personnel only"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Regular updates:"})," We keep our systems and dependencies up to date"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Secure hosting:"})," Our infrastructure uses enterprise-grade security"]})]}),s.jsx("p",{className:"mt-2",children:"No method of transmission or storage is 100% secure. If you discover a security vulnerability, please report it to security@airuncoach.live."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"11. Data Breach Notification"}),s.jsx("p",{children:"In the event of a personal data breach that poses a risk to your rights and freedoms:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:["We will notify the relevant supervisory authority within ",s.jsx("strong",{children:"72 hours"})," of becoming aware"]}),s.jsx("li",{children:"We will notify affected users without undue delay if the breach is likely to result in high risk"}),s.jsx("li",{children:"Notification will include the nature of the breach, likely consequences, and measures taken"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"12. Children's Privacy"}),s.jsx("p",{children:"AI Run Coach is not directed at children under 16 years of age. We do not knowingly collect personal data from children under 16."}),s.jsx("p",{children:"If you believe a child under 16 has provided us with personal data, please contact us immediately at support@airuncoach.live and we will delete the data within 30 days."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"13. Cookies and Tracking"}),s.jsx("p",{children:"AI Run Coach uses minimal cookies and local storage for essential functionality:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication:"})," Session cookies to keep you logged in"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Preferences:"})," Local storage for app settings and cached data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Performance:"})," Basic analytics to understand app usage (anonymized)"]})]}),s.jsx("p",{children:"We do not use third-party advertising cookies or cross-site tracking."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"14. Changes to This Policy"}),s.jsx("p",{children:"We may update this Privacy Policy from time to time. When we make material changes:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s.jsx("li",{children:'We will update the "Last updated" date at the top of this policy'}),s.jsx("li",{children:"We will notify you via email or in-app notification at least 30 days before changes take effect"}),s.jsx("li",{children:"For significant changes affecting how we use health data, we will request your consent again"})]}),s.jsx("p",{children:"Continued use of the App after changes take effect constitutes acceptance of the updated policy."})]}),s.jsxs("div",{className:"space-y-4 pb-20",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"15. Contact Us"}),s.jsx("p",{children:"If you have questions about this Privacy Policy or wish to exercise your rights:"}),s.jsxs("ul",{className:"list-none pl-0 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("span",{className:"text-primary font-medium",children:"support@airuncoach.live"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Privacy inquiries:"})," ",s.jsx("span",{className:"text-primary font-medium",children:"privacy@airuncoach.live"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Security issues:"})," ",s.jsx("span",{className:"text-primary font-medium",children:"security@airuncoach.live"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("span",{className:"text-primary font-medium",children:"https://airuncoach.live"})]})]}),s.jsx("p",{className:"mt-4 text-sm italic",children:"This Privacy Policy is provided in English. If there is any conflict between this English version and a translated version, the English version shall prevail."})]})]})]})})}function yje(){const[,e]=Vr();return s.jsx("div",{className:"min-h-screen bg-background text-foreground p-6 md:p-12 font-sans",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[s.jsxs("header",{className:"flex items-center gap-4 mb-12",children:[s.jsx(Re,{variant:"outline",size:"icon",onClick:()=>e("/"),className:"rounded-full border-white/10 hover:bg-white/10",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl font-display font-bold uppercase tracking-tight",children:"Terms of Use"})]}),s.jsxs("section",{className:"space-y-6 text-muted-foreground leading-relaxed",children:[s.jsxs("div",{className:"p-6 bg-card/50 border border-white/10 rounded-2xl",children:[s.jsx("h2",{className:"text-foreground font-bold uppercase tracking-wider mb-2",children:"Terms and Conditions"}),s.jsx("p",{className:"text-sm italic",children:"Last updated: 27 December 2025"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"1. Acceptance of Terms"}),s.jsx("p",{children:"By accessing and using Run Coach Ai, you agree to be bound by these Terms of Use and our Privacy Policy. If you do not agree, please do not use the service."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"2. Service Description"}),s.jsx("p",{children:'Run Coach Ai provides AI-powered running coaching, route mapping, and session tracking. The service is provided "as is" and we reserve the right to modify or discontinue features at any time.'})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"3. User Conduct"}),s.jsx("p",{children:"Users are responsible for their own safety during physical activities. Run Coach Ai is a tool to assist, not a replacement for professional medical advice or common sense during training."})]}),s.jsxs("div",{className:"space-y-4 pb-20",children:[s.jsx("h3",{className:"text-xl font-display font-bold text-foreground uppercase tracking-wide",children:"4. Limitation of Liability"}),s.jsx("p",{children:"We are not liable for any injuries, health issues, or damages resulting from the use of the application or following AI-generated coaching advice. Always consult a physician before starting a new fitness regimen."})]})]})]})})}var D0="Tabs",[xje]=ra(D0,[Xf]),A7=Xf(),[bje,dP]=xje(D0),E7=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:h="automatic",...m}=e,p=Yf(u),[g,b]=co({prop:r,onChange:i,defaultProp:o??"",caller:D0});return s.jsx(bje,{scope:n,baseId:ao(),value:g,onValueChange:b,orientation:l,dir:p,activationMode:h,children:s.jsx(Pt.div,{dir:p,"data-orientation":l,...m,ref:t})})});E7.displayName=D0;var M7="TabsList",k7=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=dP(M7,n),l=A7(n);return s.jsx(pT,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(Pt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});k7.displayName=M7;var O7="TabsTrigger",R7=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,l=dP(O7,n),u=A7(n),h=L7(l.baseId,r),m=z7(l.baseId,r),p=r===l.value;return s.jsx(gT,{asChild:!0,...u,focusable:!i,active:p,children:s.jsx(Pt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...o,ref:t,onMouseDown:Ze(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:Ze(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:Ze(e.onFocus,()=>{const g=l.activationMode!=="manual";!p&&!i&&g&&l.onValueChange(r)})})})});R7.displayName=O7;var D7="TabsContent",I7=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...l}=e,u=dP(D7,n),h=L7(u.baseId,r),m=z7(u.baseId,r),p=r===u.value,g=v.useRef(p);return v.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),s.jsx(Fa,{present:i||p,children:({present:b})=>s.jsx(Pt.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!b,id:m,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:b&&o})})});I7.displayName=D7;function L7(e,t){return`${e}-trigger-${t}`}function z7(e,t){return`${e}-content-${t}`}var wje=E7,$7=k7,F7=R7,B7=I7;const I0=wje,Lp=v.forwardRef(({className:e,...t},n)=>s.jsx($7,{ref:n,className:Tt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Lp.displayName=$7.displayName;const As=v.forwardRef(({className:e,...t},n)=>s.jsx(F7,{ref:n,className:Tt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));As.displayName=F7.displayName;const Es=v.forwardRef(({className:e,...t},n)=>s.jsx(B7,{ref:n,className:Tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Es.displayName=B7.displayName;function Sje(e){return`dataMigrationCompleted_v1_${e}`}async function U7(e){const t={runs:0,settings:!1},n=Sje(e);if(localStorage.getItem(n))return t;let r=!0;try{const i=await jje(e);t.runs=i}catch(i){console.error("Run migration failed:",i),r=!1}try{const i=await Nje(e);t.settings=i,i||(r=!1)}catch(i){console.error("Coach settings migration failed:",i),r=!1}return r&&(t.runs>0||t.settings)?(localStorage.setItem(n,new Date().toISOString()),console.log(`Data migration complete for user ${e}: ${t.runs} runs, settings: ${t.settings}`)):t.runs===0&&!_je()&&(localStorage.setItem(n,new Date().toISOString()),console.log(`No data to migrate for user ${e}`)),t}function _je(){const e=localStorage.getItem("runHistory");if(e)try{if(JSON.parse(e).some(n=>!n.dbSynced))return!0}catch{}return!1}async function jje(e){const t=localStorage.getItem("runHistory");if(!t)return 0;try{const n=JSON.parse(t),r=n.filter(l=>!l.dbSynced);if(r.length===0)return 0;let i=0;const o=[...n];for(const l of r)try{const u={userId:e,distance:l.distance||0,duration:l.totalTime||0,avgPace:l.avgPace||"",cadence:l.cadence||void 0,elevation:l.elevationGain||void 0,difficulty:l.difficulty||"beginner",startLat:l.lat||void 0,startLng:l.lng||void 0,gpsTrack:l.gpsTrack||void 0,paceData:l.kmSplits||void 0,weatherData:l.weatherData||void 0,eventId:l.eventId||void 0},h=await fetch("/api/runs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(h.ok){const m=await h.json(),p=o.findIndex(g=>g.id===l.id);p!==-1&&(o[p]={...o[p],id:m.id,dbSynced:!0}),i++}}catch(u){console.warn(`Failed to migrate run ${l.id}:`,u)}return localStorage.setItem("runHistory",JSON.stringify(o)),i}catch(n){return console.error("Failed to parse run history:",n),0}}async function Nje(e){try{const t=Nm();return(await fetch(`/api/users/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({coachGender:t.gender,coachAccent:t.accent,coachTone:t.tone})})).ok}catch(t){return console.error("Failed to migrate coach settings:",t),!1}}function Tje(){const[,e]=Vr(),[t,n]=v.useState(!1),[r,i]=v.useState(""),[o,l]=v.useState(""),[u,h]=v.useState(""),[m,p]=v.useState(""),[g,b]=v.useState(""),[_,N]=v.useState(""),[S,T]=v.useState(!1),[C,M]=v.useState(!1),[E,k]=v.useState(!1),R=async D=>{D.preventDefault(),n(!0);try{const F=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})});if(F.ok){const Y=await F.json();localStorage.setItem("userProfile",JSON.stringify(Y));const ne=await U7(Y.id);ne.runs>0&&Se.success(`Synced ${ne.runs} run${ne.runs>1?"s":""} to your account!`),await mT(),Se.success("Welcome back!"),window.location.href="/"}else{const Y=await F.json();Se.error(Y.error||"Invalid credentials. Please try again.")}}catch(F){const Y=F instanceof Error?F.message:"Unknown error";Se.error(`Login failed: ${Y}`)}finally{n(!1)}},I=async D=>{if(D.preventDefault(),g!==_){Se.error("Passwords do not match");return}console.log("Signup form submitted",{signupName:u,signupEmail:m}),n(!0);try{const F=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u,email:m,password:g})});if(console.log("Registration response status:",F.status),F.ok){const Y=await F.json();console.log("User created:",Y),localStorage.setItem("userProfile",JSON.stringify(Y)),Se.success("Account created! Let's set up your profile."),window.location.href="/setup"}else{const Y=await F.json();console.error("Registration error:",Y),Se.error(Y.error||"Registration failed. Please try again.")}}catch(F){console.error("Registration exception:",F);const Y=F instanceof Error?F.message:"Unknown error";Se.error(`Registration failed: ${Y}`)}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 -left-1/4 w-96 h-96 bg-primary/20 blur-[120px] rounded-full"}),s.jsx("div",{className:"absolute bottom-1/4 -right-1/4 w-96 h-96 bg-primary/10 blur-[120px] rounded-full"}),s.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:[s.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"mb-8 text-muted-foreground hover:text-primary gap-2",children:[s.jsx(Vi,{className:"w-4 h-4"}),"Back to home"]}),s.jsx(wt,{className:"border-white/10 bg-card/50 backdrop-blur-xl",children:s.jsxs(I0,{defaultValue:"login",className:"w-full",children:[s.jsxs(jN,{className:"text-center",children:[s.jsx(NN,{className:"text-3xl font-display font-bold uppercase tracking-tight",children:"AI Run Coach"}),s.jsx(TN,{children:"Join the future of personal training"}),s.jsxs(Lp,{className:"grid w-full grid-cols-2 mt-6 bg-background/50 border border-white/5",children:[s.jsx(As,{value:"login",className:"data-[state=active]:bg-primary data-[state=active]:text-background uppercase text-[10px] font-bold tracking-widest",children:"Login"}),s.jsx(As,{value:"signup",className:"data-[state=active]:bg-primary data-[state=active]:text-background uppercase text-[10px] font-bold tracking-widest",children:"Sign Up"})]})]}),s.jsx(Es,{value:"login",children:s.jsxs("form",{onSubmit:R,children:[s.jsxs(Et,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ZS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(wn,{id:"email",type:"email",placeholder:"name@example.com",className:"pl-10 bg-background/50 border-white/10",value:r,onChange:D=>i(D.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(wn,{id:"password",type:S?"text":"password",className:"pl-10 pr-10 bg-background/50 border-white/10",value:o,onChange:D=>l(D.target.value),required:!0}),s.jsx("button",{type:"button",onClick:()=>T(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"toggle-login-password",children:S?s.jsx(cf,{className:"w-4 h-4"}):s.jsx(Mc,{className:"w-4 h-4"})})]})]})]}),s.jsx(s_,{children:s.jsxs(Re,{type:"submit",className:"w-full h-12 bg-primary text-background hover:bg-primary/90 font-bold uppercase tracking-widest",disabled:t,children:[t?"Logging in...":"Login",!t&&s.jsx(SG,{className:"ml-2 w-4 h-4"})]})})]})}),s.jsx(Es,{value:"signup",children:s.jsxs("form",{onSubmit:I,children:[s.jsxs(Et,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"new-name",children:"Full Name"}),s.jsx("div",{className:"relative",children:s.jsx(wn,{id:"new-name",placeholder:"John Doe",className:"bg-background/50 border-white/10",value:u,onChange:D=>h(D.target.value),required:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"new-email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ZS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(wn,{id:"new-email",type:"email",placeholder:"name@example.com",className:"pl-10 bg-background/50 border-white/10",value:m,onChange:D=>p(D.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"new-password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(wn,{id:"new-password",type:C?"text":"password",placeholder:"Create a password",className:"pl-10 pr-10 bg-background/50 border-white/10",value:g,onChange:D=>b(D.target.value),required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>M(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"toggle-signup-password",children:C?s.jsx(cf,{className:"w-4 h-4"}):s.jsx(Mc,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(nn,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(wn,{id:"confirm-password",type:E?"text":"password",placeholder:"Confirm your password",className:"pl-10 pr-10 bg-background/50 border-white/10",value:_,onChange:D=>N(D.target.value),required:!0,minLength:6,"data-testid":"input-confirm-password"}),s.jsx("button",{type:"button",onClick:()=>k(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"toggle-confirm-password",children:E?s.jsx(cf,{className:"w-4 h-4"}):s.jsx(Mc,{className:"w-4 h-4"})})]})]})]}),s.jsx(s_,{children:s.jsxs(Re,{type:"submit",className:"w-full h-12 bg-primary text-background hover:bg-primary/90 font-bold uppercase tracking-widest",disabled:t,"data-testid":"button-create-account",children:[t?"Creating Account...":"Create Account",!t&&s.jsx(xx,{className:"ml-2 w-4 h-4"})]})})]})})]})})]})]})}function Pje(){const[,e]=Vr(),[t,n]=v.useState(null),[r,i]=v.useState(!0),[o,l]=v.useState(null),[u,h]=v.useState(null),[m,p]=v.useState(""),[g,b]=v.useState(!1),[_,N]=v.useState([]),[S,T]=v.useState([]),[C,M]=v.useState([]),[E,k]=v.useState({open:!1}),[R,I]=v.useState({open:!1}),[D,F]=v.useState({open:!1}),[Y,ne]=v.useState(null);v.useEffect(()=>{const H=localStorage.getItem("userProfile");if(H)try{const X=JSON.parse(H);l(X.id)}catch{e("/")}else e("/")},[e]),v.useEffect(()=>{if(!o)return;(async()=>{try{const $=await(await fetch("/api/admin/check",{headers:{"X-User-Id":o}})).json();n($.isAdmin),$.isAdmin&&W()}catch{n(!1)}finally{i(!1)}})()},[o]);const W=async()=>{if(o)try{const H={"X-User-Id":o},[X,$,G,Ne]=await Promise.all([fetch("/api/admin/ai-config/description",{headers:H}),fetch("/api/admin/ai-config/instructions",{headers:H}),fetch("/api/admin/ai-config/knowledge",{headers:H}),fetch("/api/admin/ai-config/faqs",{headers:H})]);if(X.ok){const de=await X.json();h(de),p(de?.content||"")}$.ok&&N(await $.json()),G.ok&&T(await G.json()),Ne.ok&&M(await Ne.json())}catch{Se.error("Failed to load AI configuration")}},Z=async()=>{if(o)try{const H=await fetch("/api/admin/ai-config/description",{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":o},body:JSON.stringify({content:m})});if(H.ok){const X=await H.json();h(X),b(!1),Se.success("Description saved")}else Se.error("Failed to save description")}catch{Se.error("Failed to save description")}},re=async H=>{if(o)try{const X=!H.id,$=X?"/api/admin/ai-config/instructions":`/api/admin/ai-config/instructions/${H.id}`;(await fetch($,{method:X?"POST":"PUT",headers:{"Content-Type":"application/json","X-User-Id":o},body:JSON.stringify(H)})).ok?(await W(),k({open:!1}),Se.success(X?"Instruction added":"Instruction updated")):Se.error("Failed to save instruction")}catch{Se.error("Failed to save instruction")}},ce=async H=>{if(o)try{const X=!H.id,$=X?"/api/admin/ai-config/knowledge":`/api/admin/ai-config/knowledge/${H.id}`;(await fetch($,{method:X?"POST":"PUT",headers:{"Content-Type":"application/json","X-User-Id":o},body:JSON.stringify(H)})).ok?(await W(),I({open:!1}),Se.success(X?"Knowledge added":"Knowledge updated")):Se.error("Failed to save knowledge")}catch{Se.error("Failed to save knowledge")}},fe=async H=>{if(o)try{const X=!H.id,$=X?"/api/admin/ai-config/faqs":`/api/admin/ai-config/faqs/${H.id}`;(await fetch($,{method:X?"POST":"PUT",headers:{"Content-Type":"application/json","X-User-Id":o},body:JSON.stringify(H)})).ok?(await W(),F({open:!1}),Se.success(X?"FAQ added":"FAQ updated")):Se.error("Failed to save FAQ")}catch{Se.error("Failed to save FAQ")}},K=async()=>{if(!(!Y||!o))try{(await fetch(`/api/admin/ai-config/${Y.type}/${Y.id}`,{method:"DELETE",headers:{"X-User-Id":o}})).ok?(await W(),Se.success("Item deleted")):Se.error("Failed to delete item")}catch{Se.error("Failed to delete item")}finally{ne(null)}},Q=async(H,X,$)=>{if(o)try{(await fetch(`/api/admin/ai-config/${H}/${X}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":o},body:JSON.stringify({isActive:!$})})).ok&&await W()}catch{Se.error("Failed to update status")}};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):t?s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-background/90 backdrop-blur-lg border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-lg font-semibold",children:"AI Control Centre"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("main",{className:"p-4 pb-24",children:s.jsxs(I0,{defaultValue:"description",className:"space-y-4",children:[s.jsxs(Lp,{className:"grid grid-cols-4 h-auto p-1",children:[s.jsxs(As,{value:"description",className:"flex flex-col gap-1 py-2 text-xs",children:[s.jsx(vl,{className:"w-4 h-4"}),"Identity"]}),s.jsxs(As,{value:"instructions",className:"flex flex-col gap-1 py-2 text-xs",children:[s.jsx(AW,{className:"w-4 h-4"}),"Rules"]}),s.jsxs(As,{value:"knowledge",className:"flex flex-col gap-1 py-2 text-xs",children:[s.jsx(GS,{className:"w-4 h-4"}),"Knowledge"]}),s.jsxs(As,{value:"faqs",className:"flex flex-col gap-1 py-2 text-xs",children:[s.jsx(UW,{className:"w-4 h-4"}),"FAQs"]})]}),s.jsx(Es,{value:"description",className:"space-y-4",children:s.jsxs(wt,{children:[s.jsxs(jN,{children:[s.jsx(NN,{className:"text-base",children:"Coach Identity"}),s.jsx(TN,{children:"Define who the AI coach is. This becomes the opening of every AI prompt."})]}),s.jsx(Et,{className:"space-y-4",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Fc,{value:m,onChange:H=>p(H.target.value),placeholder:"You are an expert running coach named Alex...",className:"min-h-[200px]","data-testid":"input-description"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Re,{onClick:Z,"data-testid":"button-save-description",children:[s.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Save"]}),s.jsxs(Re,{variant:"outline",onClick:()=>{p(u?.content||""),b(!1)},children:[s.jsx(io,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-muted rounded-lg p-4 text-sm whitespace-pre-wrap min-h-[100px]",children:u?.content||"No identity defined yet. Click Edit to add one."}),s.jsxs(Re,{onClick:()=>b(!0),"data-testid":"button-edit-description",children:[s.jsx(ku,{className:"w-4 h-4 mr-2"}),"Edit"]})]})})]})}),s.jsxs(Es,{value:"instructions",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold",children:"Coaching Instructions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Rules for how the coach should behave"})]}),s.jsxs(Re,{size:"sm",onClick:()=>k({open:!0}),"data-testid":"button-add-instruction",children:[s.jsx(bm,{className:"w-4 h-4 mr-2"}),"Add"]})]}),s.jsx("div",{className:"space-y-3",children:_.length===0?s.jsx(wt,{children:s.jsx(Et,{className:"py-8 text-center text-muted-foreground",children:"No instructions yet. Add your first coaching rule."})}):_.map(H=>s.jsx(wt,{className:H.isActive?"":"opacity-60",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Nw,{className:"w-4 h-4 text-muted-foreground mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-sm truncate",children:H.title}),!H.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Hidden"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:H.content})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Q("instructions",H.id,H.isActive),children:H.isActive?s.jsx(Mc,{className:"w-4 h-4"}):s.jsx(cf,{className:"w-4 h-4"})}),s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>k({open:!0,item:H}),children:s.jsx(ku,{className:"w-4 h-4"})}),s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>ne({type:"instructions",id:H.id}),children:s.jsx(uf,{className:"w-4 h-4"})})]})]})})},H.id))})]}),s.jsxs(Es,{value:"knowledge",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold",children:"Knowledge Base"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Facts and information the coach should know"})]}),s.jsxs(Re,{size:"sm",onClick:()=>I({open:!0}),"data-testid":"button-add-knowledge",children:[s.jsx(bm,{className:"w-4 h-4 mr-2"}),"Add"]})]}),s.jsx("div",{className:"space-y-3",children:S.length===0?s.jsx(wt,{children:s.jsx(Et,{className:"py-8 text-center text-muted-foreground",children:"No knowledge items yet. Add running facts and tips."})}):S.map(H=>s.jsx(wt,{className:H.isActive?"":"opacity-60",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Nw,{className:"w-4 h-4 text-muted-foreground mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-sm truncate",children:H.title}),H.category&&s.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded",children:H.category}),!H.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Hidden"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:H.content})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Q("knowledge",H.id,H.isActive),children:H.isActive?s.jsx(Mc,{className:"w-4 h-4"}):s.jsx(cf,{className:"w-4 h-4"})}),s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>I({open:!0,item:H}),children:s.jsx(ku,{className:"w-4 h-4"})}),s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>ne({type:"knowledge",id:H.id}),children:s.jsx(uf,{className:"w-4 h-4"})})]})]})})},H.id))})]}),s.jsxs(Es,{value:"faqs",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold",children:"Common Questions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pre-defined Q&A for the coach"})]}),s.jsxs(Re,{size:"sm",onClick:()=>F({open:!0}),"data-testid":"button-add-faq",children:[s.jsx(bm,{className:"w-4 h-4 mr-2"}),"Add"]})]}),s.jsx("div",{className:"space-y-3",children:C.length===0?s.jsx(wt,{children:s.jsx(Et,{className:"py-8 text-center text-muted-foreground",children:"No FAQs yet. Add common questions and answers."})}):C.map(H=>s.jsx(wt,{className:H.isActive?"":"opacity-60",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Nw,{className:"w-4 h-4 text-muted-foreground mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:H.question}),!H.isActive&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Hidden"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:H.answer})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Q("faqs",H.id,H.isActive),children:H.isActive?s.jsx(Mc,{className:"w-4 h-4"}):s.jsx(cf,{className:"w-4 h-4"})}),s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>F({open:!0,item:H}),children:s.jsx(ku,{className:"w-4 h-4"})}),s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>ne({type:"faqs",id:H.id}),children:s.jsx(uf,{className:"w-4 h-4"})})]})]})})},H.id))})]})]})}),s.jsx(Cje,{open:E.open,item:E.item,onClose:()=>k({open:!1}),onSave:re}),s.jsx(Aje,{open:R.open,item:R.item,onClose:()=>I({open:!1}),onSave:ce}),s.jsx(Eje,{open:D.open,item:D.item,onClose:()=>F({open:!1}),onSave:fe}),s.jsx(ld,{open:!!Y,onOpenChange:()=>ne(null),children:s.jsxs(Kc,{children:[s.jsxs(Wc,{children:[s.jsx(Gc,{children:"Confirm Delete"}),s.jsx(zx,{children:"Are you sure you want to delete this item? This action cannot be undone."})]}),s.jsxs(cd,{children:[s.jsx(Re,{variant:"outline",onClick:()=>ne(null),children:"Cancel"}),s.jsx(Re,{variant:"destructive",onClick:K,children:"Delete"})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[s.jsx($u,{className:"w-16 h-16 text-amber-500 mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"You don't have permission to access this page."}),s.jsx(Re,{onClick:()=>e("/"),children:"Go Home"})]})}function Cje({open:e,item:t,onClose:n,onSave:r}){const[i,o]=v.useState(""),[l,u]=v.useState("");return v.useEffect(()=>{t?(o(t.title),u(t.content)):(o(""),u(""))},[t,e]),s.jsx(ld,{open:e,onOpenChange:n,children:s.jsxs(Kc,{children:[s.jsx(Wc,{children:s.jsx(Gc,{children:t?"Edit Instruction":"Add Instruction"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(nn,{children:"Title"}),s.jsx(wn,{value:i,onChange:h=>o(h.target.value),placeholder:"e.g., Pacing Strategy","data-testid":"input-instruction-title"})]}),s.jsxs("div",{children:[s.jsx(nn,{children:"Content"}),s.jsx(Fc,{value:l,onChange:h=>u(h.target.value),placeholder:"Describe the instruction...",className:"min-h-[120px]","data-testid":"input-instruction-content"})]})]}),s.jsxs(cd,{children:[s.jsx(Re,{variant:"outline",onClick:n,children:"Cancel"}),s.jsx(Re,{onClick:()=>r({id:t?.id,title:i,content:l,isActive:t?.isActive??!0}),disabled:!i.trim()||!l.trim(),"data-testid":"button-save-instruction",children:"Save"})]})]})})}function Aje({open:e,item:t,onClose:n,onSave:r}){const[i,o]=v.useState(""),[l,u]=v.useState(""),[h,m]=v.useState("");return v.useEffect(()=>{t?(o(t.title),u(t.content),m(t.category)):(o(""),u(""),m(""))},[t,e]),s.jsx(ld,{open:e,onOpenChange:n,children:s.jsxs(Kc,{children:[s.jsx(Wc,{children:s.jsx(Gc,{children:t?"Edit Knowledge":"Add Knowledge"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(nn,{children:"Title"}),s.jsx(wn,{value:i,onChange:p=>o(p.target.value),placeholder:"e.g., Heart Rate Zones","data-testid":"input-knowledge-title"})]}),s.jsxs("div",{children:[s.jsx(nn,{children:"Category (optional)"}),s.jsx(wn,{value:h,onChange:p=>m(p.target.value),placeholder:"e.g., Physiology","data-testid":"input-knowledge-category"})]}),s.jsxs("div",{children:[s.jsx(nn,{children:"Content"}),s.jsx(Fc,{value:l,onChange:p=>u(p.target.value),placeholder:"Enter the knowledge...",className:"min-h-[120px]","data-testid":"input-knowledge-content"})]})]}),s.jsxs(cd,{children:[s.jsx(Re,{variant:"outline",onClick:n,children:"Cancel"}),s.jsx(Re,{onClick:()=>r({id:t?.id,title:i,content:l,category:h,isActive:t?.isActive??!0}),disabled:!i.trim()||!l.trim(),"data-testid":"button-save-knowledge",children:"Save"})]})]})})}function Eje({open:e,item:t,onClose:n,onSave:r}){const[i,o]=v.useState(""),[l,u]=v.useState("");return v.useEffect(()=>{t?(o(t.question),u(t.answer)):(o(""),u(""))},[t,e]),s.jsx(ld,{open:e,onOpenChange:n,children:s.jsxs(Kc,{children:[s.jsx(Wc,{children:s.jsx(Gc,{children:t?"Edit FAQ":"Add FAQ"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(nn,{children:"Question"}),s.jsx(wn,{value:i,onChange:h=>o(h.target.value),placeholder:"e.g., How fast should I run?","data-testid":"input-faq-question"})]}),s.jsxs("div",{children:[s.jsx(nn,{children:"Answer"}),s.jsx(Fc,{value:l,onChange:h=>u(h.target.value),placeholder:"Enter the answer...",className:"min-h-[120px]","data-testid":"input-faq-answer"})]})]}),s.jsxs(cd,{children:[s.jsx(Re,{variant:"outline",onClick:n,children:"Cancel"}),s.jsx(Re,{onClick:()=>r({id:t?.id,question:i,answer:l,isActive:t?.isActive??!0}),disabled:!i.trim()||!l.trim(),"data-testid":"button-save-faq",children:"Save"})]})]})})}const Sv=43200,W5=1440,G5=Symbol.for("constructDateFrom");function fP(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&G5 in e?e[G5](t):e instanceof Date?new e.constructor(t):new Date(t)}function Uc(e,t){return fP(e,e)}let Mje={};function kje(){return Mje}function Y5(e){const t=Uc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hP(e,...t){const n=fP.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Vv(e,t){const n=+Uc(e)-+Uc(t);return n<0?-1:n>0?1:n}function Oje(e){return fP(e,Date.now())}function Rje(e,t,n){const[r,i]=hP(n?.in,e,t),o=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return o*12+l}function Dje(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Ije(e,t){return+Uc(e)-+Uc(t)}function Lje(e,t){const n=Uc(e);return n.setHours(23,59,59,999),n}function zje(e,t){const n=Uc(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function $je(e,t){const n=Uc(e);return+Lje(n)==+zje(n)}function Fje(e,t,n){const[r,i,o]=hP(n?.in,e,e,t),l=Vv(i,o),u=Math.abs(Rje(i,o));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*u);let h=Vv(i,o)===-l;$je(r)&&u===1&&Vv(r,o)===1&&(h=!1);const m=l*(u-+h);return m===0?0:m}function Bje(e,t,n){const r=Ije(e,t)/1e3;return Dje(n?.roundingMethod)(r)}const Uje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vje=(e,t,n)=>{let r;const i=Uje[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function DS(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Hje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wje={date:DS({formats:Hje,defaultWidth:"full"}),time:DS({formats:qje,defaultWidth:"full"}),dateTime:DS({formats:Kje,defaultWidth:"full"})},Gje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yje=(e,t,n,r)=>Gje[e];function cm(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const Zje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nNe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rNe={ordinalNumber:nNe,era:cm({values:Zje,defaultWidth:"wide"}),quarter:cm({values:Xje,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cm({values:Qje,defaultWidth:"wide"}),day:cm({values:Jje,defaultWidth:"wide"}),dayPeriod:cm({values:eNe,defaultWidth:"wide",formattingValues:tNe,defaultFormattingWidth:"wide"})};function um(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const l=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?aNe(u,g=>g.test(l)):iNe(u,g=>g.test(l));let m;m=e.valueCallback?e.valueCallback(h):h,m=n.valueCallback?n.valueCallback(m):m;const p=t.slice(l.length);return{value:m,rest:p}}}function iNe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function aNe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sNe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const oNe=/^(\d+)(th|st|nd|rd)?/i,lNe=/\d+/i,cNe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uNe={any:[/^b/i,/^(a|c)/i]},dNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fNe={any:[/1/i,/2/i,/3/i,/4/i]},hNe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gNe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xNe={ordinalNumber:sNe({matchPattern:oNe,parsePattern:lNe,valueCallback:e=>parseInt(e,10)}),era:um({matchPatterns:cNe,defaultMatchWidth:"wide",parsePatterns:uNe,defaultParseWidth:"any"}),quarter:um({matchPatterns:dNe,defaultMatchWidth:"wide",parsePatterns:fNe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:um({matchPatterns:hNe,defaultMatchWidth:"wide",parsePatterns:mNe,defaultParseWidth:"any"}),day:um({matchPatterns:pNe,defaultMatchWidth:"wide",parsePatterns:gNe,defaultParseWidth:"any"}),dayPeriod:um({matchPatterns:vNe,defaultMatchWidth:"any",parsePatterns:yNe,defaultParseWidth:"any"})},bNe={code:"en-US",formatDistance:Vje,formatLong:Wje,formatRelative:Yje,localize:rNe,match:xNe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wNe(e,t,n){const r=kje(),i=n?.locale??r.locale??bNe,o=2520,l=Vv(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:l}),[h,m]=hP(n?.in,...l>0?[t,e]:[e,t]),p=Bje(m,h),g=(Y5(m)-Y5(h))/1e3,b=Math.round((p-g)/60);let _;if(b<2)return n?.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,u):p<10?i.formatDistance("lessThanXSeconds",10,u):p<20?i.formatDistance("lessThanXSeconds",20,u):p<40?i.formatDistance("halfAMinute",0,u):p<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):b===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",b,u);if(b<45)return i.formatDistance("xMinutes",b,u);if(b<90)return i.formatDistance("aboutXHours",1,u);if(b<W5){const N=Math.round(b/60);return i.formatDistance("aboutXHours",N,u)}else{if(b<o)return i.formatDistance("xDays",1,u);if(b<Sv){const N=Math.round(b/W5);return i.formatDistance("xDays",N,u)}else if(b<Sv*2)return _=Math.round(b/Sv),i.formatDistance("aboutXMonths",_,u)}if(_=Fje(m,h),_<12){const N=Math.round(b/Sv);return i.formatDistance("xMonths",N,u)}else{const N=_%12,S=Math.trunc(_/12);return N<3?i.formatDistance("aboutXYears",S,u):N<9?i.formatDistance("overXYears",S,u):i.formatDistance("almostXYears",S+1,u)}}function SNe(e,t){return wNe(e,Oje(e),t)}const _v={easy:1,beginner:1,moderate:2,challenging:3,hard:4};function Z5({route:e,onSelect:t}){const n={easy:"bg-green-500/20 text-green-400",beginner:"bg-green-500/20 text-green-400",moderate:"bg-yellow-500/20 text-yellow-400",challenging:"bg-red-500/20 text-red-400",hard:"bg-red-500/20 text-red-400"},r=l=>l==="beginner"?"Easy":l==="challenging"?"Hard":l.charAt(0).toUpperCase()+l.slice(1),i=l=>{if(!l)return null;const u=Math.floor(l/60),h=l%60;return u>0?`${u}h ${h}m`:`${h}m`},o=e.lastStartedAt?`Last run ${SNe(new Date(e.lastStartedAt),{addSuffix:!1})} ago`:"Never started";return s.jsxs("div",{onClick:t,className:"bg-card/50 border border-border/50 rounded-xl p-4 cursor-pointer hover:bg-card/70 transition-colors","data-testid":`route-card-${e.id}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-medium text-foreground truncate flex-1 mr-2",children:e.name}),e.isFavorite&&s.jsx(Em,{className:"w-4 h-4 text-red-500 fill-red-500 flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[s.jsxs("span",{children:[e.distance.toFixed(1)," km"]}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${n[e.difficulty]||n.easy}`,children:r(e.difficulty)}),e.estimatedTime&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vx,{className:"w-3 h-3"}),i(e.estimatedTime)]})]}),e.elevationGain&&e.elevationGain>0&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-2",children:[s.jsx(Ns,{className:"w-3 h-3"}),s.jsxs("span",{children:["+",Math.round(e.elevationGain),"m / -",Math.round(e.elevationLoss||0),"m"]})]}),e.startLocationLabel&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-2",children:[s.jsx(Ic,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.startLocationLabel})]}),s.jsxs("div",{className:"flex justify-between items-center mt-3",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:o}),s.jsx(px,{className:"w-4 h-4 text-muted-foreground"})]})]})}function _Ne(){const[,e]=Vr(),[t,n]=v.useState("all"),[r,i]=v.useState(null),[o,l]=v.useState("all"),[u,h]=v.useState(null),[m,p]=v.useState("created-newest"),{data:g=[],isLoading:b}=ta({queryKey:["/api/routes"],queryFn:async()=>{const R=await fetch("/api/routes");return R.ok?R.json():[]}}),{data:_=[]}=ta({queryKey:["/api/routes/favorites"],queryFn:async()=>{const R=await fetch("/api/routes/favorites");return R.ok?R.json():[]}}),N=v.useMemo(()=>{const R=g.map(I=>I.startLocationLabel).filter(I=>!!I);return Array.from(new Set(R)).sort()},[g]),S=[{value:"easy",label:"Easy"},{value:"moderate",label:"Moderate"},{value:"hard",label:"Hard"}],T=[{value:"created-newest",label:"Newest First"},{value:"created-oldest",label:"Oldest First"},{value:"started-newest",label:"Recently Run"},{value:"started-oldest",label:"Least Recently Run"},{value:"distance-high",label:"Distance: High to Low"},{value:"distance-low",label:"Distance: Low to High"},{value:"difficulty-easy",label:"Difficulty: Easy to Hard"},{value:"difficulty-hard",label:"Difficulty: Hard to Easy"}],C=v.useMemo(()=>{let R=[...g];return r&&(R=R.filter(I=>r==="easy"?I.difficulty==="easy"||I.difficulty==="beginner":r==="hard"?I.difficulty==="hard"||I.difficulty==="challenging":I.difficulty===r)),o==="completed"?R=R.filter(I=>I.lastStartedAt):o==="not-started"&&(R=R.filter(I=>!I.lastStartedAt)),u&&(R=R.filter(I=>I.startLocationLabel===u)),R.sort((I,D)=>{switch(m){case"created-newest":return new Date(D.createdAt).getTime()-new Date(I.createdAt).getTime();case"created-oldest":return new Date(I.createdAt).getTime()-new Date(D.createdAt).getTime();case"started-newest":return!I.lastStartedAt&&!D.lastStartedAt?0:I.lastStartedAt?D.lastStartedAt?new Date(D.lastStartedAt).getTime()-new Date(I.lastStartedAt).getTime():-1:1;case"started-oldest":return!I.lastStartedAt&&!D.lastStartedAt?0:I.lastStartedAt?D.lastStartedAt?new Date(I.lastStartedAt).getTime()-new Date(D.lastStartedAt).getTime():1:-1;case"distance-high":return D.distance-I.distance;case"distance-low":return I.distance-D.distance;case"difficulty-easy":return(_v[I.difficulty]||2)-(_v[D.difficulty]||2);case"difficulty-hard":return(_v[D.difficulty]||2)-(_v[I.difficulty]||2);default:return 0}}),R},[g,r,o,u,m]),M=R=>{localStorage.setItem("selectedRoute",JSON.stringify(R)),e("/route-preview")},E=()=>{i(null),l("all"),h(null),p("created-newest")},k=r||o!=="all"||u;return s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border/50 px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsx("h1",{className:"font-display text-xl uppercase tracking-wide",children:"Routes Library"})]})}),s.jsx("div",{className:"p-4",children:s.jsxs(I0,{value:t,onValueChange:n,className:"w-full",children:[s.jsxs(Lp,{className:"w-full bg-card/50 mb-4",children:[s.jsx(As,{value:"all",className:"flex-1","data-testid":"tab-all",children:"All Routes"}),s.jsx(As,{value:"favorites",className:"flex-1","data-testid":"tab-favorites",children:"Favorites"})]}),s.jsxs(Es,{value:"all",className:"mt-0 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[s.jsx(Re,{variant:r===null?"default":"outline",size:"sm",onClick:()=>i(null),"data-testid":"filter-difficulty-all",children:"All Levels"}),S.map(R=>s.jsx(Re,{variant:r===R.value?"default":"outline",size:"sm",onClick:()=>i(R.value),"data-testid":`filter-${R.value}`,className:"whitespace-nowrap",children:R.label},R.value))]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[s.jsx(Re,{variant:o==="all"?"default":"outline",size:"sm",onClick:()=>l("all"),"data-testid":"filter-status-all",children:"All Status"}),s.jsx(Re,{variant:o==="completed"?"default":"outline",size:"sm",onClick:()=>l("completed"),"data-testid":"filter-completed",children:"Completed"}),s.jsx(Re,{variant:o==="not-started"?"default":"outline",size:"sm",onClick:()=>l("not-started"),"data-testid":"filter-not-started",children:"Not Started"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[N.length>0&&s.jsxs(Au,{value:u||"all-locations",onValueChange:R=>h(R==="all-locations"?null:R),children:[s.jsxs(jc,{className:"w-[200px] bg-card/50","data-testid":"select-location",children:[s.jsx(Ic,{className:"w-4 h-4 mr-2"}),s.jsx(Eu,{placeholder:"All Locations"})]}),s.jsxs(Nc,{children:[s.jsx(Bn,{value:"all-locations",children:"All Locations"}),N.map(R=>s.jsx(Bn,{value:R,children:R},R))]})]}),s.jsxs(Au,{value:m,onValueChange:R=>p(R),children:[s.jsxs(jc,{className:"w-[200px] bg-card/50","data-testid":"select-sort",children:[s.jsx(jW,{className:"w-4 h-4 mr-2"}),s.jsx(Eu,{})]}),s.jsx(Nc,{children:T.map(R=>s.jsx(Bn,{value:R.value,children:R.label},R.value))})]}),k&&s.jsx(Re,{variant:"ghost",size:"sm",onClick:E,className:"text-muted-foreground","data-testid":"button-clear-filters",children:"Clear Filters"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.length," route",C.length!==1?"s":""," found"]}),b?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading routes..."}):C.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:k?"No routes match your filters":"No routes yet. Create your first route from the home page!"}):s.jsx("div",{className:"grid gap-3",children:C.map(R=>s.jsx(Z5,{route:R,onSelect:()=>M(R)},R.id))})]}),s.jsx(Es,{value:"favorites",className:"mt-0",children:_.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No favorite routes yet. Tap the heart on a route to add it to favorites!"}):s.jsx("div",{className:"grid gap-3",children:_.map(R=>s.jsx(Z5,{route:R,onSelect:()=>M(R)},R.id))})})]})})]})}function Hj(e){const t=new Date;if(t.setHours(0,0,0,0),e.scheduleType==="one_time"&&e.specificDate){const n=new Date(e.specificDate);return n.setHours(0,0,0,0),n>=t?n:null}if(e.scheduleType==="recurring"||!e.scheduleType){const n=e.recurrencePattern||"weekly";if(n==="daily")return t;if(n==="weekly"&&e.dayOfWeek!==void 0){const r=e.dayOfWeek,i=t.getDay();let o=r-i;o<0&&(o+=7);const l=new Date(t);return l.setDate(t.getDate()+o),l}if(n==="fortnightly"&&e.dayOfWeek!==void 0){const r=e.createdAt?new Date(e.createdAt):new Date;r.setHours(0,0,0,0);const i=e.dayOfWeek,o=t.getDay();let l=i-o;l<0&&(l+=7);const u=new Date(t);u.setDate(t.getDate()+l);const h=Math.floor((u.getTime()-r.getTime())/(1e3*60*60*24));return Math.floor(h/7)%2===0||u.setDate(u.getDate()+7),u}if(n==="monthly"&&e.dayOfMonth!==void 0){const r=e.dayOfMonth,i=t.getDate(),o=new Date(t);if(i<=r){const l=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();o.setDate(Math.min(r,l))}else{o.setMonth(o.getMonth()+1);const l=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();o.setDate(Math.min(r,l))}return o}if(e.dayOfWeek!==void 0){const r=e.dayOfWeek,i=t.getDay();let o=r-i;o<0&&(o+=7);const l=new Date(t);return l.setDate(t.getDate()+o),l}}return t}function jNe(e){if(!e)return"No upcoming date";const t=new Date;t.setHours(0,0,0,0);const n=Math.floor((e.getTime()-t.getTime())/(1e3*60*60*24));return n===0?"Today":n===1?"Tomorrow":n<7?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]:e.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}const NNe={parkrun:"Park Run",marathon:"Marathon",half_marathon:"Half Marathon","10k":"10K","5k":"5K",trail:"Trail Run",other:"Other"},TNe={"New Zealand":"",England:"","United Kingdom":"",Australia:"","United States":"",Canada:"",Ireland:"",Scotland:"",Wales:"","South Africa":"",Germany:"",France:"",Spain:"",Italy:"",Japan:""};function PNe({event:e,onSelect:t}){const n={easy:"bg-green-500/20 text-green-400 border-green-500/30",beginner:"bg-green-500/20 text-green-400 border-green-500/30",moderate:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",challenging:"bg-orange-500/20 text-orange-400 border-orange-500/30",hard:"bg-red-500/20 text-red-400 border-red-500/30"},r=u=>u==="beginner"?"Easy":u==="challenging"?"Hard":u.charAt(0).toUpperCase()+u.slice(1),i=e.route,o=Hj(e),l=jNe(o);return s.jsx(wt,{onClick:t,className:"cursor-pointer hover:border-primary/50 transition-all bg-card/50 border-border/50","data-testid":`event-card-${e.id}`,children:s.jsxs(Et,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:e.name}),e.city&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Ic,{className:"w-3 h-3"}),e.city]})]}),s.jsx(Zr,{variant:"outline",className:"text-xs",children:NNe[e.eventType]||e.eventType})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mt-2",children:[s.jsx($o,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-primary font-medium",children:l}),e.scheduleType==="recurring"&&e.recurrencePattern&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.recurrencePattern==="fortnightly"?"every 2 weeks":e.recurrencePattern,")"]})]}),i&&s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground mt-3",children:[s.jsxs("span",{className:"font-medium text-foreground",children:[i.distance.toFixed(1)," km"]}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs border ${n[i.difficulty]||n.moderate}`,children:r(i.difficulty)}),i.elevationGain&&i.elevationGain>0&&s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ns,{className:"w-3 h-3"}),"+",Math.round(i.elevationGain),"m"]})]}),e.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:e.description}),s.jsx("div",{className:"flex justify-end items-center mt-3",children:s.jsx(px,{className:"w-4 h-4 text-muted-foreground"})})]})})}function CNe({country:e,events:t,onSelectEvent:n,defaultOpen:r=!1}){const[i,o]=v.useState(r),l=TNe[e]||"",u=[...t].sort((h,m)=>{const p=Hj(h),g=Hj(m);return!p&&!g?0:p?g?p.getTime()-g.getTime():-1:1});return s.jsxs(jF,{open:i,onOpenChange:o,className:"mb-4",children:[s.jsx(NF,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-card/30 rounded-lg hover:bg-card/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:l}),s.jsx("span",{className:"font-semibold text-lg",children:e}),s.jsxs(Zr,{variant:"secondary",className:"text-xs",children:[t.length," ",t.length===1?"event":"events"]})]}),s.jsx(Uf,{className:`w-5 h-5 text-muted-foreground transition-transform ${i?"rotate-180":""}`})]})}),s.jsx(TF,{children:s.jsx("div",{className:"grid gap-3 mt-3 pl-2",children:u.map(h=>s.jsx(PNe,{event:h,onSelect:()=>n(h)},h.id))})})]})}function ANe(){const[,e]=Vr(),{data:t={},isLoading:n}=ta({queryKey:["/api/events/grouped"],queryFn:async()=>{const l=await fetch("/api/events/grouped");return l.ok?l.json():{}}}),r=l=>{e(`/event/${l.id}`)},i=Object.keys(t).sort(),o=Object.values(t).reduce((l,u)=>l+u.length,0);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur border-b border-border/50 px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-display font-bold uppercase tracking-wider",children:"Events"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Browse running events worldwide"})]})]})}),s.jsx("main",{className:"p-4 pb-24",children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading events..."})]}):i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(eL,{className:"w-16 h-16 text-muted-foreground/50 mb-4"}),s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No Events Yet"}),s.jsx("p",{className:"text-muted-foreground text-sm max-w-xs",children:"Events will appear here once admins create them from completed runs."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-muted-foreground",children:[s.jsx(Q4,{className:"w-4 h-4"}),s.jsxs("span",{children:[o," events across ",i.length," ",i.length===1?"country":"countries"]})]}),i.map((l,u)=>s.jsx(CNe,{country:l,events:t[l],onSelectEvent:r,defaultOpen:u===0},l))]})})]})}function ENe(e){const t=[];let n=0,r=0,i=0;for(;n<e.length;){let o,l=0,u=0;do o=e.charCodeAt(n++)-63,u|=(o&31)<<l,l+=5;while(o>=32);const h=u&1?~(u>>1):u>>1;r+=h,l=0,u=0;do o=e.charCodeAt(n++)-63,u|=(o&31)<<l,l+=5;while(o>=32);const m=u&1?~(u>>1):u>>1;i+=m,t.push([r/1e5,i/1e5])}return t}function MNe({positions:e}){const t=Bx();return v.useEffect(()=>{if(e.length>0){const n=vp.latLngBounds(e);t.fitBounds(n,{padding:[30,30]})}},[e,t]),null}const kNe={parkrun:"Parkrun",marathon:"Marathon",half_marathon:"Half Marathon","10k":"10K","5k":"5K",trail:"Trail Run",other:"Other"};function ONe(e){const t=new Date;if(t.setHours(0,0,0,0),e.scheduleType==="one_time"&&e.specificDate){const n=new Date(e.specificDate);return n.setHours(0,0,0,0),n>=t?n:null}if(e.scheduleType==="recurring"||!e.scheduleType){const n=e.recurrencePattern||"weekly";if(n==="daily")return t;if(n==="weekly"&&e.dayOfWeek!==void 0){const r=e.dayOfWeek,i=t.getDay();let o=r-i;o<0&&(o+=7);const l=new Date(t);return l.setDate(t.getDate()+o),l}if(n==="fortnightly"&&e.dayOfWeek!==void 0){const r=e.createdAt?new Date(e.createdAt):new Date;r.setHours(0,0,0,0);const i=e.dayOfWeek,o=t.getDay();let l=i-o;l<0&&(l+=7);const u=new Date(t);u.setDate(t.getDate()+l);const h=Math.floor((u.getTime()-r.getTime())/(1e3*60*60*24));return Math.floor(h/7)%2===0||u.setDate(u.getDate()+7),u}if(n==="monthly"&&e.dayOfMonth!==void 0){const r=e.dayOfMonth,i=t.getDate(),o=new Date(t);if(i<=r){const l=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();o.setDate(Math.min(r,l))}else{o.setMonth(o.getMonth()+1);const l=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();o.setDate(Math.min(r,l))}return o}if(e.dayOfWeek!==void 0){const r=e.dayOfWeek,i=t.getDay();let o=r-i;o<0&&(o+=7);const l=new Date(t);return l.setDate(t.getDate()+o),l}}return t}function RNe(){const[,e]=Vr(),[,t]=d4("/event/:id"),n=t?.id,[r,i]=v.useState(null),[o,l]=v.useState(!0),[u,h]=v.useState(!1),[m,p]=v.useState({h:0,m:30,s:0}),[g,b]=v.useState(!0),[_,N]=v.useState("Your AI Coach"),[S,T]=v.useState(null);v.useEffect(()=>{const F=localStorage.getItem("userProfile");if(F){const Y=JSON.parse(F);Y.coachName&&N(Y.coachName),Y.id&&T(Y.id)}},[]),v.useEffect(()=>{(async()=>{if(!n){l(!1);return}try{const Y=await fetch(`/api/events/${n}`);if(!Y.ok)throw new Error("Event not found");const ne=await Y.json();if(i(ne),ne.route?.distance){const W=Math.round(ne.route.distance*6);p({h:Math.floor(W/60),m:W%60,s:0})}}catch{Se.error("Failed to load event")}finally{l(!1)}})()},[n]);const C=()=>{if(!r?.route)return[];if(r.route.polyline)try{return ENe(r.route.polyline)}catch{return[]}return r.route.waypoints&&r.route.waypoints.length>0?r.route.waypoints.map(F=>[F.lat,F.lng]):[]},M=()=>{if(!r?.route){Se.error("No route available for this event");return}const F=u?m.h*3600+m.m*60+m.s:0,Y=new URLSearchParams({routeId:r.route.id,routeName:r.name,distance:r.route.distance.toString(),aiCoach:g?"on":"off",exerciseType:"running",eventId:r.id});F>0&&Y.set("targetTime",F.toString()),localStorage.setItem("selectedEvent",JSON.stringify(r)),localStorage.setItem("activeRoute",JSON.stringify({id:r.route.id,routeName:r.name,distance:r.route.distance,difficulty:r.route.difficulty,polyline:r.route.polyline,elevationGain:r.route.elevationGain,elevationLoss:r.route.elevationLoss,eventId:r.id,eventName:r.name})),e(`/run?${Y.toString()}`)},E=C(),k=E[0],R=E[E.length-1],I=r?ONe(r):null,D={easy:"bg-green-500/20 text-green-400 border-green-500/30",beginner:"bg-green-500/20 text-green-400 border-green-500/30",moderate:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",challenging:"bg-orange-500/20 text-orange-400 border-orange-500/30",hard:"bg-red-500/20 text-red-400 border-red-500/30"};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):r?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur border-b border-border/50 px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/events"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-lg font-display font-bold truncate","data-testid":"text-event-name",children:r.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Ic,{className:"w-3 h-3"}),s.jsxs("span",{"data-testid":"text-event-location",children:[r.city?`${r.city}, `:"",r.country]})]})]}),s.jsx(Zr,{variant:"outline",className:"text-xs shrink-0","data-testid":"badge-event-type",children:kNe[r.eventType]||r.eventType})]})}),s.jsxs("main",{className:"p-4 pb-32 space-y-4",children:[E.length>0&&s.jsx(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl overflow-hidden border border-border/50",children:s.jsx("div",{className:"h-64",children:s.jsxs(_T,{center:k||[-36.8485,174.7633],zoom:14,scrollWheelZoom:!1,className:"h-full w-full",zoomControl:!1,children:[s.jsx(NT,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(jT,{positions:E,color:"#3b82f6",weight:4,opacity:.8}),k&&s.jsx(Bu,{center:k,radius:8,fillColor:"#22c55e",fillOpacity:1,color:"#fff",weight:2}),R&&k!==R&&s.jsx(Bu,{center:R,radius:8,fillColor:"#ef4444",fillOpacity:1,color:"#fff",weight:2}),s.jsx(MNe,{positions:E})]})})}),s.jsx(wt,{className:"bg-card/50 border-border/50",children:s.jsxs(Et,{className:"p-4 space-y-3",children:[I&&s.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[s.jsx($o,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium","data-testid":"text-event-date",children:I.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),r.scheduleType==="recurring"&&r.recurrencePattern&&s.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":"text-event-recurrence",children:["(",r.recurrencePattern==="fortnightly"?"every 2 weeks":r.recurrencePattern,")"]})]}),r.route&&s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q4,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold","data-testid":"text-event-distance",children:[r.route.distance.toFixed(1)," km"]})]}),s.jsx(Zr,{variant:"outline",className:D[r.route.difficulty]||D.moderate,"data-testid":"badge-event-difficulty",children:r.route.difficulty==="beginner"?"Easy":r.route.difficulty==="challenging"?"Hard":r.route.difficulty.charAt(0).toUpperCase()+r.route.difficulty.slice(1)}),r.route.elevationGain&&r.route.elevationGain>0&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground","data-testid":"text-elevation-gain",children:[s.jsx(Ns,{className:"w-3 h-3 text-green-500"}),"+",Math.round(r.route.elevationGain),"m"]}),r.route.elevationLoss&&r.route.elevationLoss>0&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground","data-testid":"text-elevation-loss",children:[s.jsx(lN,{className:"w-3 h-3 text-red-500"}),"-",Math.round(r.route.elevationLoss),"m"]})]}),r.description&&s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-event-description",children:r.description}),r.route?.startLocationLabel&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ic,{className:"w-3 h-3"}),s.jsxs("span",{"data-testid":"text-start-location",children:["Start: ",r.route.startLocationLabel]})]})]})}),s.jsx(wt,{className:"bg-card/50 border-border/50",children:s.jsxs(Et,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bf,{className:"w-5 h-5 text-primary"}),s.jsx(nn,{htmlFor:"target-time",className:"font-medium",children:"Target Time"})]}),s.jsx(hy,{id:"target-time",checked:u,onCheckedChange:h,"data-testid":"switch-target-time"})]}),u&&s.jsxs(At.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center justify-center gap-2",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"number",min:"0",max:"23",value:m.h,onChange:F=>p(Y=>({...Y,h:parseInt(F.target.value)||0})),className:"w-16 h-12 text-center text-xl font-mono bg-background border border-border rounded-lg","data-testid":"input-target-hours"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"hours"})]}),s.jsx("span",{className:"text-2xl font-bold",children:":"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"number",min:"0",max:"59",value:m.m,onChange:F=>p(Y=>({...Y,m:parseInt(F.target.value)||0})),className:"w-16 h-12 text-center text-xl font-mono bg-background border border-border rounded-lg","data-testid":"input-target-minutes"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"mins"})]}),s.jsx("span",{className:"text-2xl font-bold",children:":"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"number",min:"0",max:"59",value:m.s,onChange:F=>p(Y=>({...Y,s:parseInt(F.target.value)||0})),className:"w-16 h-12 text-center text-xl font-mono bg-background border border-border rounded-lg","data-testid":"input-target-seconds"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"secs"})]})]})]})}),s.jsx(wt,{className:"bg-card/50 border-border/50",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:s.jsx(vl,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(nn,{className:"font-medium","data-testid":"label-ai-coach",children:"AI Coach"}),s.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":"text-ai-coach-description",children:[_," will guide you through the run"]})]})]}),s.jsx(hy,{checked:g,onCheckedChange:b,"data-testid":"switch-ai-coach"})]})})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background/95 backdrop-blur border-t border-border/50",children:s.jsxs(Re,{onClick:M,disabled:!r.route,className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-primary to-primary/80","data-testid":"button-start-event-run",children:[s.jsx(kc,{className:"w-6 h-6 mr-2 fill-current"}),"Start Run"]})})]}):s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/events"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Event not found"})})]})}function DNe(e){const t=INe(e),n=v.forwardRef((r,i)=>{const{children:o,...l}=r,u=v.Children.toArray(o),h=u.find(zNe);if(h){const m=h.props.children,p=u.map(g=>g===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:g);return s.jsx(t,{...l,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,p):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function INe(e){const t=v.forwardRef((n,r)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=FNe(i),u=$Ne(o,i.props);return i.type!==v.Fragment&&(u.ref=r?kl(r,l):l),v.cloneElement(i,u)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LNe=Symbol("radix.slottable");function zNe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LNe}function $Ne(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{const h=o(...u);return i(...u),h}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function FNe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qj=["Enter"," "],BNe=["ArrowDown","PageUp","Home"],V7=["ArrowUp","PageDown","End"],UNe=[...BNe,...V7],VNe={ltr:[...qj,"ArrowRight"],rtl:[...qj,"ArrowLeft"]},HNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zp="Menu",[ep,qNe,KNe]=rp(zp),[fd,H7]=ra(zp,[KNe,qf,Xf]),L0=qf(),q7=Xf(),[WNe,hd]=fd(zp),[GNe,$p]=fd(zp),K7=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:l=!0}=e,u=L0(t),[h,m]=v.useState(null),p=v.useRef(!1),g=$a(o),b=Yf(i);return v.useEffect(()=>{const _=()=>{p.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>p.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),s.jsx(qL,{...u,children:s.jsx(WNe,{scope:t,open:n,onOpenChange:g,content:h,onContentChange:m,children:s.jsx(GNe,{scope:t,onClose:v.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:b,modal:l,children:r})})})};K7.displayName=zp;var YNe="MenuAnchor",mP=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L0(n);return s.jsx(xN,{...i,...r,ref:t})});mP.displayName=YNe;var pP="MenuPortal",[ZNe,W7]=fd(pP,{forceMount:void 0}),G7=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=hd(pP,t);return s.jsx(ZNe,{scope:t,forceMount:n,children:s.jsx(Fa,{present:n||o.open,children:s.jsx(Bf,{asChild:!0,container:i,children:r})})})};G7.displayName=pP;var Os="MenuContent",[XNe,gP]=fd(Os),Y7=v.forwardRef((e,t)=>{const n=W7(Os,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=hd(Os,e.__scopeMenu),l=$p(Os,e.__scopeMenu);return s.jsx(ep.Provider,{scope:e.__scopeMenu,children:s.jsx(Fa,{present:r||o.open,children:s.jsx(ep.Slot,{scope:e.__scopeMenu,children:l.modal?s.jsx(QNe,{...i,ref:t}):s.jsx(JNe,{...i,ref:t})})})})}),QNe=v.forwardRef((e,t)=>{const n=hd(Os,e.__scopeMenu),r=v.useRef(null),i=Gt(t,r);return v.useEffect(()=>{const o=r.current;if(o)return oT(o)},[]),s.jsx(vP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),JNe=v.forwardRef((e,t)=>{const n=hd(Os,e.__scopeMenu);return s.jsx(vP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eTe=DNe("MenuContent.ScrollLock"),vP=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:_,disableOutsideScroll:N,...S}=e,T=hd(Os,n),C=$p(Os,n),M=L0(n),E=q7(n),k=qNe(n),[R,I]=v.useState(null),D=v.useRef(null),F=Gt(t,D,T.onContentChange),Y=v.useRef(0),ne=v.useRef(""),W=v.useRef(0),Z=v.useRef(null),re=v.useRef("right"),ce=v.useRef(0),fe=N?Rx:v.Fragment,K=N?{as:eTe,allowPinchZoom:!0}:void 0,Q=X=>{const $=ne.current+X,G=k().filter(Ae=>!Ae.disabled),Ne=document.activeElement,de=G.find(Ae=>Ae.ref.current===Ne)?.textValue,q=G.map(Ae=>Ae.textValue),ae=fTe(q,$,de),be=G.find(Ae=>Ae.textValue===ae)?.ref.current;(function Ae(ke){ne.current=ke,window.clearTimeout(Y.current),ke!==""&&(Y.current=window.setTimeout(()=>Ae(""),1e3))})($),be&&setTimeout(()=>be.focus())};v.useEffect(()=>()=>window.clearTimeout(Y.current),[]),sT();const H=v.useCallback(X=>re.current===Z.current?.side&&mTe(X,Z.current?.area),[]);return s.jsx(XNe,{scope:n,searchRef:ne,onItemEnter:v.useCallback(X=>{H(X)&&X.preventDefault()},[H]),onItemLeave:v.useCallback(X=>{H(X)||(D.current?.focus(),I(null))},[H]),onTriggerLeave:v.useCallback(X=>{H(X)&&X.preventDefault()},[H]),pointerGraceTimerRef:W,onPointerGraceIntentChange:v.useCallback(X=>{Z.current=X},[]),children:s.jsx(fe,{...K,children:s.jsx(kx,{asChild:!0,trapped:i,onMountAutoFocus:Ze(o,X=>{X.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:s.jsx(Ff,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:_,children:s.jsx(pT,{asChild:!0,...E,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:I,onEntryFocus:Ze(h,X=>{C.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(bN,{role:"menu","aria-orientation":"vertical","data-state":dV(T.open),"data-radix-menu-content":"",dir:C.dir,...M,...S,ref:F,style:{outline:"none",...S.style},onKeyDown:Ze(S.onKeyDown,X=>{const G=X.target.closest("[data-radix-menu-content]")===X.currentTarget,Ne=X.ctrlKey||X.altKey||X.metaKey,de=X.key.length===1;G&&(X.key==="Tab"&&X.preventDefault(),!Ne&&de&&Q(X.key));const q=D.current;if(X.target!==q||!UNe.includes(X.key))return;X.preventDefault();const be=k().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);V7.includes(X.key)&&be.reverse(),uTe(be)}),onBlur:Ze(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(Y.current),ne.current="")}),onPointerMove:Ze(e.onPointerMove,tp(X=>{const $=X.target,G=ce.current!==X.clientX;if(X.currentTarget.contains($)&&G){const Ne=X.clientX>ce.current?"right":"left";re.current=Ne,ce.current=X.clientX}}))})})})})})})});Y7.displayName=Os;var tTe="MenuGroup",yP=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pt.div,{role:"group",...r,ref:t})});yP.displayName=tTe;var nTe="MenuLabel",Z7=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pt.div,{...r,ref:t})});Z7.displayName=nTe;var ux="MenuItem",X5="menu.itemSelect",z0=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=v.useRef(null),l=$p(ux,e.__scopeMenu),u=gP(ux,e.__scopeMenu),h=Gt(t,o),m=v.useRef(!1),p=()=>{const g=o.current;if(!n&&g){const b=new CustomEvent(X5,{bubbles:!0,cancelable:!0});g.addEventListener(X5,_=>r?.(_),{once:!0}),eN(g,b),b.defaultPrevented?m.current=!1:l.onClose()}};return s.jsx(X7,{...i,ref:h,disabled:n,onClick:Ze(e.onClick,p),onPointerDown:g=>{e.onPointerDown?.(g),m.current=!0},onPointerUp:Ze(e.onPointerUp,g=>{m.current||g.currentTarget?.click()}),onKeyDown:Ze(e.onKeyDown,g=>{const b=u.searchRef.current!=="";n||b&&g.key===" "||qj.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});z0.displayName=ux;var X7=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,l=gP(ux,n),u=q7(n),h=v.useRef(null),m=Gt(t,h),[p,g]=v.useState(!1),[b,_]=v.useState("");return v.useEffect(()=>{const N=h.current;N&&_((N.textContent??"").trim())},[o.children]),s.jsx(ep.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:s.jsx(gT,{asChild:!0,...u,focusable:!r,children:s.jsx(Pt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:m,onPointerMove:Ze(e.onPointerMove,tp(N=>{r?l.onItemLeave(N):(l.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ze(e.onPointerLeave,tp(N=>l.onItemLeave(N))),onFocus:Ze(e.onFocus,()=>g(!0)),onBlur:Ze(e.onBlur,()=>g(!1))})})})}),rTe="MenuCheckboxItem",Q7=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(rV,{scope:e.__scopeMenu,checked:n,children:s.jsx(z0,{role:"menuitemcheckbox","aria-checked":dx(n)?"mixed":n,...i,ref:t,"data-state":bP(n),onSelect:Ze(i.onSelect,()=>r?.(dx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Q7.displayName=rTe;var J7="MenuRadioGroup",[iTe,aTe]=fd(J7,{value:void 0,onValueChange:()=>{}}),eV=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=$a(r);return s.jsx(iTe,{scope:e.__scopeMenu,value:n,onValueChange:o,children:s.jsx(yP,{...i,ref:t})})});eV.displayName=J7;var tV="MenuRadioItem",nV=v.forwardRef((e,t)=>{const{value:n,...r}=e,i=aTe(tV,e.__scopeMenu),o=n===i.value;return s.jsx(rV,{scope:e.__scopeMenu,checked:o,children:s.jsx(z0,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":bP(o),onSelect:Ze(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});nV.displayName=tV;var xP="MenuItemIndicator",[rV,sTe]=fd(xP,{checked:!1}),iV=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=sTe(xP,n);return s.jsx(Fa,{present:r||dx(o.checked)||o.checked===!0,children:s.jsx(Pt.span,{...i,ref:t,"data-state":bP(o.checked)})})});iV.displayName=xP;var oTe="MenuSeparator",aV=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});aV.displayName=oTe;var lTe="MenuArrow",sV=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L0(n);return s.jsx(wN,{...i,...r,ref:t})});sV.displayName=lTe;var cTe="MenuSub",[H2e,oV]=fd(cTe),vm="MenuSubTrigger",lV=v.forwardRef((e,t)=>{const n=hd(vm,e.__scopeMenu),r=$p(vm,e.__scopeMenu),i=oV(vm,e.__scopeMenu),o=gP(vm,e.__scopeMenu),l=v.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=o,m={__scopeMenu:e.__scopeMenu},p=v.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),s.jsx(mP,{asChild:!0,...m,children:s.jsx(X7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":dV(n.open),...e,ref:kl(t,i.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ze(e.onPointerMove,tp(g=>{o.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Ze(e.onPointerLeave,tp(g=>{p();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,N=_==="right",S=N?-5:5,T=b[N?"left":"right"],C=b[N?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:T,y:b.top},{x:C,y:b.top},{x:C,y:b.bottom},{x:T,y:b.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ze(e.onKeyDown,g=>{const b=o.searchRef.current!=="";e.disabled||b&&g.key===" "||VNe[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});lV.displayName=vm;var cV="MenuSubContent",uV=v.forwardRef((e,t)=>{const n=W7(Os,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=hd(Os,e.__scopeMenu),l=$p(Os,e.__scopeMenu),u=oV(cV,e.__scopeMenu),h=v.useRef(null),m=Gt(t,h);return s.jsx(ep.Provider,{scope:e.__scopeMenu,children:s.jsx(Fa,{present:r||o.open,children:s.jsx(ep.Slot,{scope:e.__scopeMenu,children:s.jsx(vP,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&h.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ze(e.onFocusOutside,p=>{p.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ze(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:Ze(e.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),b=HNe[l.dir].includes(p.key);g&&b&&(o.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});uV.displayName=cV;function dV(e){return e?"open":"closed"}function dx(e){return e==="indeterminate"}function bP(e){return dx(e)?"indeterminate":e?"checked":"unchecked"}function uTe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function dTe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function fTe(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=dTe(e,Math.max(o,0));i.length===1&&(l=l.filter(m=>m!==n));const h=l.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function hTe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],h=t[l],m=u.x,p=u.y,g=h.x,b=h.y;p>r!=b>r&&n<(g-m)*(r-p)/(b-p)+m&&(i=!i)}return i}function mTe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return hTe(n,t)}function tp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var pTe=K7,gTe=mP,vTe=G7,yTe=Y7,xTe=yP,bTe=Z7,wTe=z0,STe=Q7,_Te=eV,jTe=nV,NTe=iV,TTe=aV,PTe=sV,CTe=lV,ATe=uV,$0="DropdownMenu",[ETe]=ra($0,[H7]),ba=H7(),[MTe,fV]=ETe($0),hV=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:l,modal:u=!0}=e,h=ba(t),m=v.useRef(null),[p,g]=co({prop:i,defaultProp:o??!1,onChange:l,caller:$0});return s.jsx(MTe,{scope:t,triggerId:ao(),triggerRef:m,contentId:ao(),open:p,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(b=>!b),[g]),modal:u,children:s.jsx(pTe,{...h,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};hV.displayName=$0;var mV="DropdownMenuTrigger",pV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=fV(mV,n),l=ba(n);return s.jsx(gTe,{asChild:!0,...l,children:s.jsx(Pt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:kl(t,o.triggerRef),onPointerDown:Ze(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Ze(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});pV.displayName=mV;var kTe="DropdownMenuPortal",gV=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ba(t);return s.jsx(vTe,{...r,...n})};gV.displayName=kTe;var vV="DropdownMenuContent",yV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=fV(vV,n),o=ba(n),l=v.useRef(!1);return s.jsx(yTe,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:Ze(e.onCloseAutoFocus,u=>{l.current||i.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ze(e.onInteractOutside,u=>{const h=u.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,p=h.button===2||m;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yV.displayName=vV;var OTe="DropdownMenuGroup",RTe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(xTe,{...i,...r,ref:t})});RTe.displayName=OTe;var DTe="DropdownMenuLabel",xV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(bTe,{...i,...r,ref:t})});xV.displayName=DTe;var ITe="DropdownMenuItem",bV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(wTe,{...i,...r,ref:t})});bV.displayName=ITe;var LTe="DropdownMenuCheckboxItem",wV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(STe,{...i,...r,ref:t})});wV.displayName=LTe;var zTe="DropdownMenuRadioGroup",$Te=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(_Te,{...i,...r,ref:t})});$Te.displayName=zTe;var FTe="DropdownMenuRadioItem",SV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(jTe,{...i,...r,ref:t})});SV.displayName=FTe;var BTe="DropdownMenuItemIndicator",_V=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(NTe,{...i,...r,ref:t})});_V.displayName=BTe;var UTe="DropdownMenuSeparator",jV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(TTe,{...i,...r,ref:t})});jV.displayName=UTe;var VTe="DropdownMenuArrow",HTe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(PTe,{...i,...r,ref:t})});HTe.displayName=VTe;var qTe="DropdownMenuSubTrigger",NV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(CTe,{...i,...r,ref:t})});NV.displayName=qTe;var KTe="DropdownMenuSubContent",TV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ba(n);return s.jsx(ATe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TV.displayName=KTe;var WTe=hV,GTe=pV,YTe=gV,PV=yV,CV=xV,AV=bV,EV=wV,MV=SV,kV=_V,OV=jV,RV=NV,DV=TV;const ZTe=WTe,XTe=GTe,QTe=v.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(RV,{ref:i,className:Tt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(px,{className:"ml-auto"})]}));QTe.displayName=RV.displayName;const JTe=v.forwardRef(({className:e,...t},n)=>s.jsx(DV,{ref:n,className:Tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));JTe.displayName=DV.displayName;const IV=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(YTe,{children:s.jsx(PV,{ref:r,sideOffset:t,className:Tt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));IV.displayName=PV.displayName;const ym=v.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(AV,{ref:r,className:Tt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));ym.displayName=AV.displayName;const e2e=v.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(EV,{ref:i,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kV,{children:s.jsx(Ms,{className:"h-4 w-4"})})}),t]}));e2e.displayName=EV.displayName;const t2e=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(MV,{ref:r,className:Tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kV,{children:s.jsx(Z4,{className:"h-2 w-2 fill-current"})})}),t]}));t2e.displayName=MV.displayName;const n2e=v.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(CV,{ref:r,className:Tt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));n2e.displayName=CV.displayName;const r2e=v.forwardRef(({className:e,...t},n)=>s.jsx(OV,{ref:n,className:Tt("-mx-1 my-1 h-px bg-muted",e),...t}));r2e.displayName=OV.displayName;const i2e={event:$o,distance_time:bf,health_wellbeing:Em,consistency:Ns},a2e={event:"Event",distance_time:"Distance/Time",health_wellbeing:"Health & Wellbeing",consistency:"Consistency"},Q5={event:{bg:"bg-purple-500/20",text:"text-purple-400",border:"border-purple-500/30"},distance_time:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30"},health_wellbeing:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/30"},consistency:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"}};function s2e(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getTime()-n.getTime(),i=Math.ceil(r/(1e3*60*60*24));return i<0?`${Math.abs(i)} days overdue`:i===0?"Today":i===1?"1 day left":i<7?`${i} days left`:i<30?`${Math.ceil(i/7)} weeks left`:`${Math.ceil(i/30)} months left`}function o2e(e){if(!e)return"";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}:${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`:`${n}:${String(r).padStart(2,"0")}`}function l2e(){const[,e]=Vr(),t=$f(),[n,r]=v.useState(!1),[i,o]=v.useState(null),[l,u]=v.useState(null),[h,m]=v.useState("active"),g=JSON.parse(localStorage.getItem("userProfile")||"{}")?.id,{data:b=[],isLoading:_,refetch:N}=ta({queryKey:["goals",g],queryFn:async()=>{const D=await fetch(`/api/goals/user/${g}`);if(!D.ok)throw new Error("Failed to fetch goals");return D.json()},enabled:!!g}),S=b.filter(D=>D.status==="active"),T=b.filter(D=>D.status==="completed"),C=b.filter(D=>D.status==="abandoned"),M=js({mutationFn:async D=>{const F=await fetch(`/api/goals/${D}/complete`,{method:"POST"});if(!F.ok)throw new Error("Failed to complete goal");return F.json()},onSuccess:()=>{Se.success("Goal completed! Great job!"),t.invalidateQueries({queryKey:["goals"]}),t.invalidateQueries({queryKey:["primaryGoal"]})},onError:()=>{Se.error("Failed to complete goal")}}),E=js({mutationFn:async D=>{const F=await fetch(`/api/goals/${D}/abandon`,{method:"POST"});if(!F.ok)throw new Error("Failed to abandon goal");return F.json()},onSuccess:()=>{Se.success("Goal abandoned"),t.invalidateQueries({queryKey:["goals"]}),t.invalidateQueries({queryKey:["primaryGoal"]})},onError:()=>{Se.error("Failed to abandon goal")}}),k=js({mutationFn:async D=>{const F=await fetch(`/api/goals/${D}`,{method:"DELETE"});if(!F.ok)throw new Error("Failed to delete goal");return F.json()},onSuccess:()=>{Se.success("Goal deleted"),u(null),t.invalidateQueries({queryKey:["goals"]}),t.invalidateQueries({queryKey:["primaryGoal"]})},onError:()=>{Se.error("Failed to delete goal")}}),R=()=>{N(),r(!1),o(null)},I=({goal:D})=>{const F=Q5[D.type]||Q5.event,Y=i2e[D.type]||JS;return s.jsx(At.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:s.jsx(wt,{className:`bg-card/50 ${F.border} hover:bg-card/70 transition-colors`,children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:`p-2 rounded-lg ${F.bg}`,children:s.jsx(Y,{className:`w-5 h-5 ${F.text}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Zr,{variant:"outline",className:`${F.text} ${F.border} text-xs`,children:a2e[D.type]}),D.targetDate&&s.jsx("span",{className:`text-xs ${new Date(D.targetDate)<new Date?"text-red-400":"text-muted-foreground"}`,children:s2e(D.targetDate)}),D.status==="completed"&&s.jsx(Zr,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Completed"}),D.status==="abandoned"&&s.jsx(Zr,{className:"bg-gray-500/20 text-gray-400 border-gray-500/30",children:"Abandoned"})]}),s.jsx("h3",{className:"font-display font-bold text-white mt-1",children:D.title}),D.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-muted-foreground",children:[D.eventName&&s.jsx("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:D.eventName}),D.eventLocation&&s.jsx("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:D.eventLocation}),D.distanceTarget&&s.jsx("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:D.distanceTarget}),D.timeTargetSeconds&&s.jsxs("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:["Target: ",o2e(D.timeTargetSeconds)]}),D.healthTarget&&s.jsx("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:D.healthTarget}),D.targetWeightKg&&s.jsxs("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:["Target: ",D.targetWeightKg,"kg"]}),D.weeklyRunTarget&&s.jsxs("span",{className:"bg-muted/30 px-2 py-0.5 rounded",children:[D.weeklyRunTarget,"x per week"]})]}),D.progressPercent!==null&&D.progressPercent>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${D.status==="completed"?"bg-green-500":"bg-primary"}`,style:{width:`${D.progressPercent}%`}})}),s.jsxs("span",{className:"text-xs text-muted-foreground w-10 text-right",children:[D.progressPercent,"%"]})]})]})]}),D.status==="active"&&s.jsxs(ZTe,{children:[s.jsx(XTe,{asChild:!0,children:s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":`goal-menu-${D.id}`,children:s.jsx(nG,{className:"w-4 h-4"})})}),s.jsxs(IV,{align:"end",children:[s.jsxs(ym,{onClick:()=>o(D),children:[s.jsx(cY,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(ym,{onClick:()=>M.mutate(D.id),children:[s.jsx(Gv,{className:"w-4 h-4 mr-2 text-green-400"}),"Mark Complete"]}),s.jsxs(ym,{onClick:()=>E.mutate(D.id),children:[s.jsx(WE,{className:"w-4 h-4 mr-2 text-yellow-400"}),"Abandon"]}),s.jsxs(ym,{onClick:()=>u(D.id),className:"text-red-400 focus:text-red-400",children:[s.jsx(uf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),D.status!=="active"&&s.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400 hover:text-red-300",onClick:()=>u(D.id),"data-testid":`delete-goal-${D.id}`,children:s.jsx(uf,{className:"w-4 h-4"})})]})})})})};return s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsxs("header",{className:"flex items-center gap-4 mb-6",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/"),"data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-primary uppercase tracking-wider",children:"Goals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your running objectives"})]}),s.jsxs(Re,{onClick:()=>r(!0),"data-testid":"button-new-goal",children:[s.jsx(bm,{className:"w-4 h-4 mr-2"}),"New Goal"]})]}),s.jsxs(I0,{value:h,onValueChange:m,className:"space-y-4",children:[s.jsxs(Lp,{className:"grid w-full grid-cols-3",children:[s.jsxs(As,{value:"active",className:"relative","data-testid":"tab-active",children:["Active",S.length>0&&s.jsx("span",{className:"ml-1.5 text-xs bg-primary/20 text-primary px-1.5 rounded-full",children:S.length})]}),s.jsxs(As,{value:"completed","data-testid":"tab-completed",children:["Completed",T.length>0&&s.jsx("span",{className:"ml-1.5 text-xs bg-green-500/20 text-green-400 px-1.5 rounded-full",children:T.length})]}),s.jsxs(As,{value:"abandoned","data-testid":"tab-abandoned",children:["Abandoned",C.length>0&&s.jsx("span",{className:"ml-1.5 text-xs bg-gray-500/20 text-gray-400 px-1.5 rounded-full",children:C.length})]})]}),s.jsx(Es,{value:"active",className:"space-y-3",children:_?s.jsx("div",{className:"space-y-3",children:[1,2].map(D=>s.jsx(wt,{className:"bg-card/30",children:s.jsx(Et,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse flex gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-muted rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-20 mb-2"}),s.jsx("div",{className:"h-5 bg-muted rounded w-32 mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-48"})]})]})})},D))}):S.length===0?s.jsx(wt,{className:"bg-card/30 border-dashed",children:s.jsxs(Et,{className:"p-8 text-center",children:[s.jsx(Zv,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"No active goals"}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Set a goal to track your progress and get personalized coaching"}),s.jsxs(Re,{onClick:()=>r(!0),children:[s.jsx(bm,{className:"w-4 h-4 mr-2"}),"Create Your First Goal"]})]})}):s.jsx(Da,{mode:"popLayout",children:S.map(D=>s.jsx(I,{goal:D},D.id))})}),s.jsx(Es,{value:"completed",className:"space-y-3",children:T.length===0?s.jsx(wt,{className:"bg-card/30 border-dashed",children:s.jsxs(Et,{className:"p-8 text-center",children:[s.jsx(Gv,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"No completed goals yet"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete your active goals to see them here"})]})}):s.jsx(Da,{mode:"popLayout",children:T.map(D=>s.jsx(I,{goal:D},D.id))})}),s.jsx(Es,{value:"abandoned",className:"space-y-3",children:C.length===0?s.jsx(wt,{className:"bg-card/30 border-dashed",children:s.jsxs(Et,{className:"p-8 text-center",children:[s.jsx(WE,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"No abandoned goals"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Goals you abandon will appear here"})]})}):s.jsx(Da,{mode:"popLayout",children:C.map(D=>s.jsx(I,{goal:D},D.id))})})]}),s.jsx(mse,{open:n||!!i,onClose:()=>{r(!1),o(null)},onSuccess:R,userId:g,editGoal:i||void 0}),s.jsx(Lm,{open:!!l,onOpenChange:()=>u(null),children:s.jsxs(jf,{children:[s.jsxs(Nf,{children:[s.jsx(Pf,{children:"Delete Goal"}),s.jsx(Cf,{children:"Are you sure you want to delete this goal? This action cannot be undone."})]}),s.jsxs(Tf,{children:[s.jsx(Af,{children:"Cancel"}),s.jsx(zm,{onClick:()=>l&&k.mutate(l),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}function c2e(e){const t=new Date(e),n=new Date,r=new Date(n);return r.setDate(r.getDate()-1),t.toDateString()===n.toDateString()?"Today":t.toDateString()===r.toDateString()?"Yesterday":t.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function J5(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`}function u2e(e){switch(e?.toLowerCase()){case"easy":return"bg-green-500";case"moderate":return"bg-yellow-500";case"hard":return"bg-orange-500";case"extreme":return"bg-red-500";default:return"bg-primary"}}function d2e(){const[,e]=Vr(),n=c4().friendId,[r,i]=v.useState("activity"),o=localStorage.getItem("userProfile"),l=o?JSON.parse(o).id:null,{data:u,isLoading:h}=ta({queryKey:["friend-profile",n],queryFn:async()=>{const S=await fetch(`/api/users/${n}/public-profile?requesterId=${l}`);if(!S.ok)throw new Error("Failed to load friend profile");return S.json()},enabled:!!n&&!!l}),{data:m=[],isLoading:p}=ta({queryKey:["friend-runs",n],queryFn:async()=>{const S=await fetch(`/api/users/${n}/runs?requesterId=${l}`);if(!S.ok)throw new Error("Failed to load friend runs");return S.json()},enabled:!!n&&!!l}),g=m.reduce((S,T)=>S+T.distance,0),b=m.reduce((S,T)=>S+T.duration,0),_=m.length>0?b/g:0,N=m.reduce((S,T)=>{const C=c2e(T.completedAt);return S[C]||(S[C]=[]),S[C].push(T),S},{});return h?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(no,{className:"w-8 h-8 animate-spin text-primary"})}):u?s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsxs("header",{className:"p-4 flex items-center gap-4 border-b border-white/5",children:[s.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e("/profile"),className:"rounded-full","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-lg font-bold",children:"Profile"})]}),s.jsxs("div",{className:"flex flex-col items-center py-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary/30 to-primary/10 flex items-center justify-center overflow-hidden mb-4",children:u.profilePic?s.jsx("img",{src:u.profilePic,alt:u.name,className:"w-full h-full object-cover"}):s.jsx(Oc,{className:"w-12 h-12 text-primary"})}),s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:u.name}),u.fitnessLevel&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u.fitnessLevel})]}),s.jsxs("div",{className:"flex border-b border-white/10",children:[s.jsx("button",{onClick:()=>i("activity"),className:`flex-1 py-3 text-sm font-medium transition-colors ${r==="activity"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,"data-testid":"tab-activity",children:"Activity"}),s.jsx("button",{onClick:()=>i("stats"),className:`flex-1 py-3 text-sm font-medium transition-colors ${r==="stats"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,"data-testid":"tab-stats",children:"Stats"})]}),s.jsx("div",{className:"p-4",children:r==="activity"?s.jsx("div",{className:"space-y-6",children:p?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(no,{className:"w-6 h-6 animate-spin text-primary"})}):m.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No runs yet"}):Object.entries(N).map(([S,T])=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S})]}),s.jsx("div",{className:"space-y-3",children:T.map(C=>s.jsxs(At.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`${u2e(C.difficulty)} rounded-xl p-4 cursor-pointer hover:opacity-90 transition-opacity`,onClick:()=>e(`/history/${C.id}?friendView=true`),"data-testid":`run-${C.id}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xd,{className:"w-4 h-4 text-white/80"}),s.jsx("span",{className:"text-sm font-medium text-white/90",children:C.name||"Running"})]}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-3xl font-bold text-white",children:C.distance.toFixed(2)}),s.jsx("span",{className:"text-sm text-white/70",children:"KM"}),s.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase",children:"Time"}),s.jsx("p",{className:"text-lg font-bold text-white",children:J5(C.duration)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-white/60 uppercase",children:"Pace"}),s.jsxs("p",{className:"text-lg font-bold text-white",children:[C.avgPace,s.jsx("span",{className:"text-xs",children:"/KM"})]})]})]})]})]},C.id))})]},S))}):s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase mb-1",children:"Total Runs"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:m.length})]}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase mb-1",children:"Total Distance"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[g.toFixed(1)," ",s.jsx("span",{className:"text-sm",children:"km"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase mb-1",children:"Total Time"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:J5(b)})]}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase mb-1",children:"Avg Pace"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[_>0?`${Math.floor(_/60)}:${Math.floor(_%60).toString().padStart(2,"0")}`:"--:--",s.jsx("span",{className:"text-sm",children:"/km"})]})]})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Could not load friend profile"}),s.jsx(Re,{onClick:()=>e("/profile"),variant:"outline",children:"Go Back"})]})}const f2e=[{id:"weather-impact",title:"Weather Impact Analysis",description:"Understand exactly how weather conditions affect your running performance with personalized insights based on your run history.",details:["See which weather conditions help you run faster or slower","Track performance across temperature, humidity, wind, and UV levels","Identify your best and toughest conditions at a glance","Time of day analysis shows when you perform your best"],icon:s.jsx(Am,{className:"w-6 h-6"}),image:"/attached_assets/Screenshot_20260114_112704_Chrome_1768456527237.jpg",imageAlt:"Weather Impact Analysis showing temperature and humidity effects on pace"},{id:"ai-coach-summary",title:"AI Coach Summary",description:"After every run, receive a comprehensive AI-powered analysis that highlights your strengths and areas for improvement.",details:["Overall assessment tailored to your fitness goals","Specific highlights of what you did well","Actionable areas to improve with practical tips","Personalized advice based on your pace, cadence, and conditions"],icon:s.jsx(vl,{className:"w-6 h-6"}),image:"/attached_assets/Messenger_creation_CCCF744C-204A-417F-AC99-DA7ED4D37244_1768456527263.jpeg",imageAlt:"AI Coach Summary showing overall assessment and improvement areas"},{id:"elevation-coaching",title:"Elevation Awareness Coaching",description:"Get real-time coaching that adapts to the terrain ahead, warning you about hills before you reach them.",details:["Proactive warnings 100-200m before steep hills","Technique tips for uphill and downhill sections","Pace conservation advice for challenging terrain","Celebration when you conquer tough climbs"],icon:s.jsx(LG,{className:"w-6 h-6"}),comingSoon:!0},{id:"struggle-insights",title:"Struggle Awareness Insights",description:"Your AI coach learns from your past struggles and proactively helps you overcome them in future runs.",details:["Identifies patterns in where you typically slow down","Tags common causes like hills, heat, or fatigue","Provides targeted encouragement at challenging points","Turns past struggles into coaching opportunities"],icon:s.jsx($u,{className:"w-6 h-6"}),comingSoon:!0}];function h2e(){return s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-lg border-b border-white/10",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center gap-4",children:[s.jsx(NE,{href:"/",children:s.jsx(Re,{variant:"ghost",size:"icon",className:"shrink-0","data-testid":"button-back",children:s.jsx(Vi,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-display uppercase tracking-wider",children:"Features"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover what AI Run Coach can do"})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-8 space-y-16",children:[f2e.map((e,t)=>s.jsxs(At.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5,delay:t*.1},className:"scroll-mt-24",id:e.id,"data-testid":`section-feature-${e.id}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center text-primary shrink-0",children:e.icon}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-display font-bold uppercase tracking-tight",children:e.title}),e.comingSoon&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-bold uppercase bg-amber-500/20 text-amber-400 rounded-full",children:"Screenshot Coming"})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e.description})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-3",children:e.details.map((n,r)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2 shrink-0"}),s.jsx("p",{className:"text-sm text-foreground/80",children:n})]},r))}),e.image?s.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 bg-white/5",children:s.jsx("img",{src:e.image,alt:e.imageAlt,className:"w-full h-auto object-contain","data-testid":`img-feature-${e.id}`})}):s.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 bg-white/5 flex items-center justify-center min-h-[300px]",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center mx-auto mb-4",children:e.icon}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Screenshot coming soon"})]})})]})]},e.id)),s.jsxs("section",{className:"text-center py-12 border-t border-white/10",children:[s.jsx("h3",{className:"text-xl font-display uppercase tracking-wider mb-4",children:"Ready to start?"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Experience AI-powered coaching on your next run"}),s.jsx(NE,{href:"/setup",children:s.jsx(Re,{size:"lg",className:"font-display uppercase tracking-wider","data-testid":"button-get-started",children:"Start Free Trial"})})]})]})]})}function m2e(){const[e]=Vr();return v.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function p2e(){const[e,t]=v.useState(!1),[n,r]=v.useState(!0);return v.useEffect(()=>{const i=localStorage.getItem("userProfile");t(!!i),r(!1);const o="dummyRunsCleanedUp";if(!localStorage.getItem(o)){const l=localStorage.getItem("runHistory");if(l)try{const u=JSON.parse(l),h=["run-1","run-2","run-3"],m=u.filter(p=>!h.includes(p.id));m.length!==u.length&&(localStorage.setItem("runHistory",JSON.stringify(m)),console.log(`Cleaned up ${u.length-m.length} dummy runs from localStorage`))}catch(u){console.warn("Failed to cleanup dummy runs:",u)}localStorage.setItem(o,"true")}if(i)try{const l=JSON.parse(i);l.id&&U7(l.id).then(u=>{u.runs>0&&Se.success(`Synced ${u.runs} run${u.runs>1?"s":""} to your account!`)})}catch(l){console.warn("Failed to trigger data migration:",l)}},[]),n?s.jsx("div",{className:"min-h-screen bg-background"}):s.jsxs(Cq,{children:[s.jsx(zr,{path:"/privacy",component:vje}),s.jsx(zr,{path:"/terms",component:yje}),s.jsx(zr,{path:"/login",component:Tje}),s.jsx(zr,{path:"/features",component:h2e}),!e&&s.jsxs(s.Fragment,{children:[s.jsx(zr,{path:"/",component:Gre}),s.jsx(zr,{path:"/setup",component:V5})]}),e&&s.jsxs(s.Fragment,{children:[s.jsx(zr,{path:"/",component:vse}),s.jsx(zr,{path:"/setup",component:V5}),s.jsx(zr,{path:"/route-preview",component:xse}),s.jsx(zr,{path:"/run",component:poe}),s.jsx(zr,{path:"/history",component:tle}),s.jsx(zr,{path:"/history/:id",component:lje}),s.jsx(zr,{path:"/goals",component:l2e}),s.jsx(zr,{path:"/profile",component:fje}),s.jsx(zr,{path:"/friend/:friendId",component:d2e}),s.jsx(zr,{path:"/notifications",component:hje}),s.jsx(zr,{path:"/notifications/manage",component:gje}),s.jsx(zr,{path:"/admin/ai-config",component:Pje}),s.jsx(zr,{path:"/routes",component:_Ne}),s.jsx(zr,{path:"/events",component:ANe}),s.jsx(zr,{path:"/event/:id",component:RNe})]}),s.jsx(zr,{component:qQ})]})}function g2e(){return s.jsx(Jq,{client:fK,children:s.jsxs(VQ,{children:[s.jsx(m2e,{}),s.jsx(CZ,{}),s.jsx(tX,{position:"top-center",richColors:!0}),s.jsx(p2e,{})]})})}sq.createRoot(document.getElementById("root")).render(s.jsx(g2e,{}));
